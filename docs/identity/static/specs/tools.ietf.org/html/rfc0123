<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index,follow" />
    <meta name="creator" content="rfcmarkup version 1.101" />
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
<meta name="DC.Identifier" content="urn:ietf:rfc:123" />
<meta name="DC.Relation.Replaces" content="rfc66" />
<meta name="DC.Relation.Replaces" content="rfc80" />
<meta name="DC.Creator" content="S.D. Crocker" />
<meta name="DC.Date.Issued" content="April, 1971" />
<meta name="DC.Title" content="Proffered Official ICP" />

    <link rel="icon" href="/images/rfc.png" type="image/png" />
    <link rel="shortcut icon" href="/images/rfc.png" type="image/png" />
    <title>RFC 123 - Proffered Official ICP</title>
    
    
    <style type="text/css">
	body {
	    margin: 0px 8px;
            font-size: 1em;
	}
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>          <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>            <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>    <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>     <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td><td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td><td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard:</td>   <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>         <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>         <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor='pointer';"
         onclick="showElem('legend');"
         onmouseout="hideElem('legend')"
	 style="height: 6px; position: absolute;"
         class="pre noprint docinfo bgbrown"
         title="Click for colour legend." >                                                                        </div>
      <div id="legend"
           class="docinfo noprint pre legend"
           style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; "
           onmouseover="showElem('legend');"
           onmouseout="hideElem('legend');">
      </div>
   </div>
<span class="pre noprint docinfo top">[<a href="../html/" title="Document search and retrieval page">Docs</a>] [<a href="/rfc/rfc123.txt" title="Plaintext version of this document">txt</a>|<a href="/pdf/rfc123" title="PDF version of this document">pdf</a>]                                                        </span><br />
<span class="pre noprint docinfo">                                                                        </span><br />
<span class="pre noprint docinfo">Obsoleted by: <a href="./rfc165">165</a>                                                      </span><br />
<span class="pre noprint docinfo">Updated by: <a href="./rfc127">127</a>, <a href="./rfc143">143</a>, <a href="./rfc148">148</a>                                            </span><br />
<pre>
Network Working Group                                         S. Crocker
Request for Comments: 123                                           UCLA
NIC #5837                                                    20 April 71
Categories: D.1
Obsoletes: RFCs <a href="./rfc66">66</a>, <a href="./rfc80">80</a>
Updates: RFCs <a href="./rfc98">98</a>, <a href="./rfc101">101</a>


                        A Proferred Official ICP

By Initial Connection Protocol (ICP), I mean a third level protocol
which is initiated by a user process at one site in order to contact a
server process at another site.  Typically, the user process will be a
Telnet and the server process will be a logger, but there may be other
cases.

In this RFC, I wish to describe a family of ICPs suitable for
establishing one pair of connections (one in each direction) between any
user process and any server process, and to propose further a particular
subset of this family as the standard ICP for connecting user processes
to loggers on systems which accept teletype-like devices.

Notation

We have no standard notation for describing system calls which initiate
and close connections or cause data to be sent, so I will use the
following ad hoc notation.

Init (local = l, foreign = f, size = s)

   causes the local Host to attempt to establish a connection between
   socket l at the local Host and socket f, with a byte size of s for
   the connection.

   l is a 32 bit local socket number,
   f is a 40 bit foreign socket number, the high-order eight bits
   of which specify the foreign Host, and
   s is an eight bit non-zero byte size.
   The sum of l and f must be odd.

Listen (local = l, size = s)

   causes the local Host to wait for a request for connection to local
   socket l with byte size s.  The process will be woken when a
   connection is established.  The parameters l and s are the same as
   for Init.





<span class="grey">                                                                [Page 1]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-2" id="page-2" href="#page-2" class="invisible"> </a>
<span class="grey">Send (socket = l, data = d)</span>

   The data named by d is sent over the connection attached to local
   socket l. l must be a send socket attached to a connection.  d is the
   name of a data area.

Receive (socket = l, data = d)

   The receive side counterpart to send.

Close (socket = l)

   Any connection currently attached to a local socket l is closed.

<span class="h1"><a class="selflink" name="appendix-A" href="#appendix-A">A</a> Family of ICPs</span>

Briefly, a server process at a site attaches a well-advertised send
socket L and listens.  A user process initiates connection to L from its
receive socket U.  The byte size for this connection is 32.  The server
process then transmits a 32-bit even number S and closes the connection.
The 32-bit number S and its successor, S+1, are the socket number the
server will use.  The final steps are for sockets S and S+1 at the
server site to be connected to sockets U+1 and U respectively at the
user site.

Using the notation, the server executes the following sequence:

   Listen (socket = L, size = 32)
   [Wait until a user connects]
   Send (socket = L, data = S)
   Close (socket = L)
   Init (local = S, foreign = U+1, size = Bu)
   Init (local = S+1, foreign = U, size = Bs)

The user executes the following:

   Init (local = U, foreign = L, size = 32)
   Receive (socket = U, data = S)
   Close (socket = U)
   Init (local = U+1, foreign = S, size = Bu)
   Init (local = U, foreign = S+1, size = Bs)

Note that L is a send socket (odd), while S and U are receive sockets
(even).  Where L, S or U are used as values of local, they are 32-bit
numbers; where they are values of foreign, they are 40-bit numbers.  The
parameters Bs and Bu are the byte sizes to be sent by the server and
user, respectively.




<span class="grey">                                                                [Page 2]</span>
</pre><!--NewPage--><pre class='newpage'><a name="page-3" id="page-3" href="#page-3" class="invisible"> </a>
<span class="grey">Examination of the above sequences reveals that an ICP is characterized</span>
by the three numbers L, Bs and Bu, and must meet the restrictions that

   (a) L is a send socket,
   (b) Bs and Bu are legal byte sizes, and
   (c) for each L there is only on pair of associated byte sizes.

This last restriction prevents two distinct services from being
available through the same socket and distinguished only by the byte
sizes.

Telnet ICP

For connecting teletype-like users, i.e. interactive and ASCII, to Hosts
serving such users, I propose an ICP of the form described above and
characterized by L = 1, Bs = Bu = 8. [There has been some confusion
about socket numbers.  Here I specifically mean L = X00000001]

Formalities

<span class="h1"><a class="selflink" name="appendix-I" href="#appendix-I">I</a> propose that the Telnet ICP be made official.  Comments should be</span>
published before the May NWG meeting, the subject will be discussed
there, and we will decide there to accept or reject this protocol.


       [ This RFC was put into machine readable form for entry ]
          [ into the online RFC archives by Jeff Sorte 5/97 ]
























                                                                [Page 3]

</pre><br />
<span class="noprint"><small><small>Html markup produced by rfcmarkup 1.101, available from
<a href="http://tools.ietf.org/tools/rfcmarkup/">http://tools.ietf.org/tools/rfcmarkup/</a>
</small></small></span>
</body></html>
