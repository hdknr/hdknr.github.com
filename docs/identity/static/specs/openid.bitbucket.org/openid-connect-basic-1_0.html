<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Draft: OpenID Connect Basic
    Client 1.0 - draft 15</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="OpenID Connect Basic
    Client 1.0 - draft 15">
<meta name="generator" content="xml2rfc v1.36 (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Draft</td><td class="header">N. Sakimura, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">NRI</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Bradley, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Independent</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">B. de Medeiros</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Google</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Jones</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">E. Jay</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">MGI1</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">C. Mortimore</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Salesforce</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">December 14, 2011</td></tr>
</table></td></tr></table>
<h1><br />OpenID Connect Basic
    Client 1.0 - draft 15</h1>

<h3>Abstract</h3>

<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0
      protocol. It allows Clients to verify the identity of the End-User based
      on the authentication performed by an Authorization Server, as well as to
      obtain basic profile information about the End-User in an interoperable and 
      RESTful manner.
</p>
<p>OpenID Connect Basic Client is a profile of the 
      <a class='info' href='#OpenID.Standard'>OpenID Connect Standard 
      1.0 Specification<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Standard           1.0,&rdquo; October&nbsp;2011.</span><span>)</span></a> [OpenID.Standard] that is designed to be easy to read and 
      implement for web-based Relying Parties.
      OpenID Providers should consult the Standard specification.
      This profile omits implementation and security
      considerations for OpenID Providers.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rnc">1.1.</a>&nbsp;
Requirements Notation and Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#terminology">1.2.</a>&nbsp;
Terminology<br />
<a href="#anchor2">2.</a>&nbsp;
Protocol Flows<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
OpenID Connect Scopes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
Implicit Flow<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rf_prep">2.2.1.</a>&nbsp;
Client Prepares an Authorization Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#implicit_req">2.2.2.</a>&nbsp;
Client sends a request to the Authorization Server<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">2.2.3.</a>&nbsp;
Authorization Server Obtains the End-User Consent/Authorization<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#implicit_res">2.2.4.</a>&nbsp;
Authorization Server Sends the End-User Back to the Client<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#implicit_ok">2.2.4.1.</a>&nbsp;
End-User Grants Authorization<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#implicit_authz_error">2.2.4.2.</a>&nbsp;
End-User Denies Authorization or Invalid Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">2.3.</a>&nbsp;
Check ID Endpoint<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">2.3.1.</a>&nbsp;
Check ID Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">2.3.2.</a>&nbsp;
Check ID Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">2.3.2.1.</a>&nbsp;
Response Verification<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">2.3.3.</a>&nbsp;
CheckID Error Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#userinfo">2.4.</a>&nbsp;
UserInfo Endpoint<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">2.4.1.</a>&nbsp;
UserInfo Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#id_res">2.4.2.</a>&nbsp;
UserInfo Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#address_claim">2.4.2.1.</a>&nbsp;
Address Claim<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">2.4.3.</a>&nbsp;
UserInfo Error Response<br />
<a href="#disco_reg">3.</a>&nbsp;
Discovery and Registration<br />
<a href="#qss">4.</a>&nbsp;
Query String Serialization<br />
<a href="#form_serialization">5.</a>&nbsp;
Form Serialization<br />
<a href="#stringops">6.</a>&nbsp;
String Operations<br />
<a href="#security_considerations">7.</a>&nbsp;
Security Considerations<br />
<a href="#privacy_considerations">8.</a>&nbsp;
Privacy Considerations<br />
<a href="#IANA">9.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">10.</a>&nbsp;
Normative References<br />
<a href="#anchor14">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor15">Appendix&nbsp;B.</a>&nbsp;
Notices<br />
<a href="#anchor16">Appendix&nbsp;C.</a>&nbsp;
Document History<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<a name="rnc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Notation and Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
	"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
	document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> .
</p>
<p>Throughout this document, values are quoted to indicate that they are
	to be taken literally. When using these values in protocol messages, the
	quotes MUST NOT be used as part of the value.
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Terminology</h3>

<p>This specification uses the terms "Access Token", "Refresh Token",
	"Authorization Code", "Authorization Grant", "Authorization Server",
	"Authorization Endpoint", "Client", "Client Identifier", "Client
	Secret", "Protected Resource", "Resource Owner", "Resource Server", and
	"Token Endpoint" defined by
	<a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0].
	This specification also defines the following terms:
	  </p>
<blockquote class="text"><dl>
<dt>Relying Party (RP)</dt>
<dd>An application requiring
	    Claims from an OpenID Provider.
</dd>
<dt>OpenID Provider (OP)</dt>
<dd>A service capable of providing
	    Claims to a Relying Party.
</dd>
<dt>Claim</dt>
<dd>A piece of information about an Entity that a
	    Claims Provider asserts about that Entity.
</dd>
<dt>Claims Provider</dt>
<dd>An Authorization Server that can
	    return Claims about an Entity.
</dd>
<dt>End-User</dt>
<dd>A human Resource Owner.
</dd>
<dt>Entity</dt>
<dd>Something that has a separate and
	    distinct existence and that can be identified in context.
	    An End-User is one example of an Entity.
</dd>
<dt>Personally Identifiable Information (PII)</dt>
<dd>
            Any information that (a) can be used to identify the natural person 
            to whom such information relates, or 
            (b) is or might be directly or indirectly linked to a 
            natural person to whom such information relates. 
</dd>
<dt>Pairwise Pseudonymous Identifier (PPID)</dt>
<dd>
        An identifier that identifies the Entity to a Relying Party. 
        An Entity's PPID at one Relying Party cannot be correlated 
        with the Entity's PPID at another Relying Party. 
</dd>
<dt>ID Token</dt>
<dd>A token that contains Claims about the
	    authentication event. It is a
	    <a class='info' href='#JWT'>JSON Web Token (JWT)<span> (</span><span class='info'>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, &ldquo;JSON Web Token,&rdquo; October&nbsp;2011.</span><span>)</span></a> [JWT],
	    but can be treated as
	    opaque by Clients that use the Check ID Endpoint.  Relying 
	    Parties wanting to process the ID Token contents directly should refer to the 
	    <a class='info' href='#OpenID.Standard'>OpenID Connect Standard 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Standard           1.0,&rdquo; October&nbsp;2011.</span><span>)</span></a> [OpenID.Standard]
	    specification.
</dd>
<dt>Issuer</dt>
<dd>An Entity that issues a set of Claims.
</dd>
<dt>Issuer Identifier</dt>
<dd>A verifiable identifier for
	    an Issuer.  An Issuer Identifier is an HTTPS URL that only
	    contains scheme, host, and OPTIONALLY, port number
	    components.  (No path component may be present.)
</dd>
<dt>Check ID Endpoint</dt>
<dd>A resource that, when
	    presented with an ID Token by the Client, returns Claims
	    about the authentication event represented by that ID Token.
</dd>
<dt>UserInfo Endpoint</dt>
<dd>A Protected Resource that, when
	    presented with an Access Token by the Client, returns authorized
	    information about the End-User represented by that Access Token.
</dd>
</dl></blockquote>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Protocol Flows</h3>

<p>Authorization Requests can follow one of two paths; the Implicit Flow
      or the Authorization Code Flow. The Authorization Code Flow is
      suitable for Clients that can securely maintain a Client Secret between
      themselves and the Authorization Server whereas, the Implicit Flow is
      suitable for Clients that cannot. Clients that do not support TLS MUST
      use the Authorization Code Flow to prevent the interception of Access 
      Tokens.
</p>
<p>The OpenID Connect Basic Client profile only documents Clients using
      the Implicit Flow. OpenID Providers MUST support both flows.
      Clients wanting to use the Authorization Code Flow and OpenID Providers 
      should consult the <a class='info' href='#OpenID.Standard'>OpenID Connect Standard 
      1.0 Specification<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Standard           1.0,&rdquo; October&nbsp;2011.</span><span>)</span></a> [OpenID.Standard].
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
OpenID Connect Scopes</h3>

<p>OpenID Connect Clients use scopes as defined in 3.3 of 
        <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0] to specify what
        access privileges are requested for Access Tokens. The scopes associated
        with Access Tokens determine what resources will be available when they are 
        used to access OAuth 2.0 protected endpoints. For OpenID Connect, scopes
	can be used to request that specific sets of information
	be made available from the UserInfo Endpoint,
        and to request an ID Token.
        OAuth 2.0 allows additional scopes to be specified, as extensions.
        This specification describes only the scopes used by OpenID Connect.
</p>
<p>OpenID Connect defines the following scopes:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>openid</dt>
<dd>REQUIRED. Informs the Authorization
                  Server that the Client is making an OpenID Connect request. If the
                  <tt>openid</tt> scope is not present,
                  the request MUST NOT be treated as an OpenID Connect request.
                  This scope requests access to the <tt>user_id</tt>
                   Claim at the UserInfo Endpoint.
</dd>
<dt>profile</dt>
<dd>OPTIONAL. Requests default profile
            information.
</dd>
<dt>email</dt>
<dd>OPTIONAL. Requests an email address and its
            verified status.
</dd>
<dt>address</dt>
<dd>OPTIONAL. Requests address information.
</dd>
</dl></blockquote>

<p>Multiple scopes MAY be requested by creating a space delimited, case
        sensitive list of ASCII scope values.
</p>
<p>In some cases, the End-User will be given the option to
        have the OpenID Provider decline to provide some or all
        information requested by Clients.
</p>
<p>To increase new account activation, a Client may elect to
        only request a subset of the information available from the
        UserInfo Endpoint.
</p>
<p>
<p>The following is a non-normative example of a Scope
            Request.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>scope=openid profile email phone</pre></div>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Implicit Flow</h3>

<p>The Implicit Flow consists of the following steps:
</p>
<p></p>
<ol class="text">
<li>Client prepares an Authorization Request containing the desired
            request parameters.
</li>
<li>Client sends a request to the Authorization Server.
</li>
<li>Authorization Server authenticates the End-User.
</li>
<li>Authorization Server obtains the End-User
            Consent/Authorization.
</li>
<li>Authorization Server sends the End-User back to the Client with
            an Access Token and ID Token.
</li>
</ol>

<a name="rf_prep"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.1"></a><h3>2.2.1.&nbsp;
Client Prepares an Authorization Request</h3>

<p>When the End-User wishes to access a Protected Resource, and the
          End-User Authorization has not yet been obtained, the Client
          prepares an Authorization Request to the Authorization Endpoint.
</p>
<p>The scheme used in the Authorization Endpoint URL MUST be HTTPS.
</p>
<p>Clients MAY construct the request using the HTTP
          <tt>GET</tt> or the HTTP 
          <tt>POST</tt> method as defined in 
          <a class='info' href='#RFC2616'>RFC 2616<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616].
</p>
<p>If using the HTTP <tt>GET</tt> method, the
          parameters are serialized using <a class='info' href='#qss'>Query String 
          Serialization<span> (</span><span class='info'>Query String Serialization</span><span>)</span></a>. If using the HTTP 
          <tt>POST</tt> method, the request parameters are 
          added to the HTTP request entity-body using the 
          <tt>application/x-www-form-urlencoded</tt> format
          as defined by <a class='info' href='#W3C.REC-html401-19991224'>[W3C.REC&#8209;html401&#8209;19991224]<span> (</span><span class='info'>Raggett, D., Hors, A., and I. Jacobs, &ldquo;HTML 4.01 Specification,&rdquo; December&nbsp;1999.</span><span>)</span></a>.
</p>
<p>This profile further constrains the following request
          parameters:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>response_type</dt>
<dd>It MUST include 
              <tt>token</tt> and
              <tt>id_token</tt>,
              as a space delimited list. This requests that both an Access Token
              and an ID Token be returned in the URL fragment of the
              response.
</dd>
</dl></blockquote>

<p>Other REQUIRED parameters in the request include the
          following:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>client_id</dt>
<dd>The OAuth 2.0 Client Identifier.
</dd>
<dt>scope</dt>
<dd>It MUST include <tt>openid</tt>
              as one of the space delimited ASCII strings. OPTIONAL scope strings of
              <tt>profile</tt>, <tt>email</tt>,
              and <tt>address</tt> are also supported.
</dd>
<dt>redirect_uri</dt>
<dd>A redirection URI where the response
              will be sent. This MUST be pre-registered with the provider.
</dd>
<dt>nonce</dt>
<dd>A string value used to associate a user-agent session 
              with a id_token, and to mitigate replay attacks. 
              The value is passed through unmodified to the ID Token.
              One method is to store a random value as a signed session cookie, and
              pass the value in the nonce paramater.  The nonce in the returned id_token
              is compared to the signed session cookie to detect id_token replay by third 
              parties.
</dd>
</dl></blockquote>

<p>The request MAY contain the following OPTIONAL parameters:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>state</dt>
<dd>RECOMENDED.  An opaque value used
              to maintain state between the request and the callback;
              serves as a protection against XSRF attacks.
</dd>
<dt>display</dt>
<dd>An ASCII string value that specifies
              how the Authorization Server displays the authentication and
              consent user interface pages to the End-User. The following values
              are supported:
	      
<blockquote class="text"><dl>
<dt>page</dt>
<dd>The Authorization Server SHOULD display
              authentication and consent UI consistent with a full user-agent page
              view. If the display parameter is not specified this is the
              default display mode.
</dd>
<dt>popup</dt>
<dd>The Authorization Server SHOULD display
              authentication and consent UI consistent with a popup user-agent
              window. The popup user-agent window SHOULD be 450 pixels wide
              and 500 pixels tall.
</dd>
<dt>touch</dt>
<dd>The Authorization Server SHOULD display
              authentication and consent UI consistent with a device that
              leverages a touch interface. The Authorization Server MAY attempt
              to detect the touch device and further customize the interface.
</dd>
<dt>wap</dt>
<dd>The Authorization Server SHOULD display
              authentication and consent UI consistent with a "feature phone"
              type display.
</dd>
<dt>embedded</dt>
<dd>The Authorization Server SHOULD display
              authentication and consent UI consistent with the limitations of
              an embedded user-agent.
</dd>
</dl></blockquote>
</dd>
<dt>prompt</dt>
<dd>A space delimited, case sensitive list of
              ASCII string values that specifies whether the Authorization Server prompts
              the End-User for reauthentication and consent. The possible values
              are:
	      
<blockquote class="text"><dl>
<dt>none</dt>
<dd>This value informs the Authorization Server
                  that it MUST NOT display any authentication or consent
                  user interface pages. An error is returned if the End-User 
                  is not already authenticated or the Client does not have 
                  pre-configured consent for the requested
                  <tt>scopes</tt>. This can be used as a
                  method to check for existing authentication and/or consent.
</dd>
<dt>login</dt>
<dd>The Authorization Server MUST prompt the
                  End-User for reauthentication.
</dd>
<dt>consent</dt>
<dd>The Authorization Server MUST prompt
                  the End-User for consent before returning information to the
                  Client.
</dd>
<dt>select_account</dt>
<dd>The Authorization Server MUST
                  prompt the End-User to select a user account.  This allows 
                  a user who has multiple accounts at the Authorization Server
                  to select amongst the multiple accounts that they may have 
                  current sessions for.
</dd>
</dl></blockquote>

		The <tt>prompt</tt> parameter
                can be used by the Client to make sure that the End-User is
                still present for the current session or to bring attention to the
                request. If this parameter contains "none" with any other value, an
                error is returned.
            
</dd>
</dl></blockquote>

<p>The following is a non-normative example of an
            Authorization Request URL. Note that the line wraps within the
            values are for display purpose only:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>https://server.example.com/authorize?
response_type=token%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid%20profile
&amp;state=af0ifjsldkj
&amp;nonce=n-0S6_WzA2Mj</pre></div>
<a name="implicit_req"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.2"></a><h3>2.2.2.&nbsp;
Client sends a request to the Authorization Server</h3>

<p>Having constructed the Authorization Request, the Client sends it
          to the Authorization Endpoint. This MAY happen via HTTPS redirect, 
          hyperlinking, or any other secure means of directing the User-Agent 
          to the URL.
</p>
<p>Following is a non-normative example using HTTP redirect. Note:
          Line wraps are for display purpose only.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>HTTP/1.1 302 Found
Location: https://server.example.com/authorize?
response_type=token%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid%20profile
&amp;state=af0ifjsldkj
&amp;nonce=n-0S6_WzA2Mj</pre></div>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.3"></a><h3>2.2.3.&nbsp;
Authorization Server Obtains the End-User Consent/Authorization</h3>

<p>The Authorization Server obtains an authorization decision,
          for the requested scopes. This can done by presenting the End-User
          with a dialogue that allows the End-User to recognize what he is
          consenting to and obtain his consent or by establishing consent via
          other means (for example, via previous administrative consent).
</p>
<p>The <tt>openid</tt> scope grants the RP access
          to the user identifier of the authenticated End-User of the session.
</p>
<p>All other scopes are optional. It is up to the OpenID Provider
          to determine if an error should be returned in the case of the End-User 
          declining to authorize scopes other than 
          <tt>openid</tt>.
</p>
<a name="implicit_res"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.4"></a><h3>2.2.4.&nbsp;
Authorization Server Sends the End-User Back to the Client</h3>

<p>Once the authorization is determined, the Authorization Server
          returns a successful response or an error response.
</p>
<a name="implicit_ok"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.4.1"></a><h3>2.2.4.1.&nbsp;
End-User Grants Authorization</h3>

<p>If the Resource Owner grants the access request, the
            Authorization Server issues an Access Token and delivers it to the
            Client by adding the following parameters to the fragment
            component of the redirection URI using the 
            <tt>application/x-www-form-urlencoded</tt>
            format as defined in Section 4.2.2 of
            <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0]
</p>
<p>In the Implicit Flow, the entire response is returned in the
            fragment component of the redirect URL, as defined in 4.2.2 of
            <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0]
</p>
<p></p>
<blockquote class="text"><dl>
<dt>access_token</dt>
<dd>REQUIRED. The Access Token for the
                UserInfo Endpoint.
</dd>
<dt>token_type</dt>
<dd>REQUIRED. The value MUST be
                "bearer"
</dd>
<dt>id_token</dt>
<dd>REQUIRED. The ID Token for the
                Check ID Endpoint.
</dd>
<dt>state</dt>
<dd>REQUIRED if the 
                <tt>state</tt> parameter is present in the
                request. Clients MUST verify that the 
                <tt>state</tt> value is equal to the exact 
                value of <tt>state</tt> parameter in the 
                Authorization Request.
</dd>
<dt>expires_in</dt>
<dd>OPTIONAL. The expiration time in
                seconds of the Access Token.
</dd>
</dl></blockquote>

<p>The Client can then use the Access Token to access protected
            resources at Resource Servers.
</p>
<p>The following is a non-normative example. Line wraps
              after the second line is for the display purpose
              only:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>HTTP/1.1 302 Found
Location: https://client.example.com/cb#
access_token=SlAV32hkKG
&amp;token_type=bearer
&amp;id_token=1234567.SlAV32hkKG.abcde1234
&amp;expires_in=3600
&amp;state=af0ifjsldkj</pre></div>
<a name="implicit_authz_error"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.4.2"></a><h3>2.2.4.2.&nbsp;
End-User Denies Authorization or Invalid Request</h3>

<p>If the End-User denies the authorization or the End-User authentication
            fails, the Authorization Server MUST return the error
            authorization response as defined in 4.2.2.1 of 
            <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0]. No other parameters 
            SHOULD be returned.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Check ID Endpoint</h3>

<p>
	  The Check ID Endpoint validates the ID Token and returns a
	  text <a class='info' href='#RFC4627'>JSON<span> (</span><span class='info'>Crockford, D., &ldquo;The application/json Media Type for JavaScript Object Notation (JSON),&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4627] object containing the
	  Claims in the ID Token.  This endpoint is used by Clients that
	  are not able to or do not wish to directly process ID Tokens.
	  In this case, clients MAY treat ID Tokens as opaque values.
	
</p>
<p>
	  Check ID Endpoints MUST require the use of a transport-layer
	  security mechanism.  The endpoint MUST support TLS 1.2 as
	  described in <a class='info' href='#RFC5246'>RFC 5246<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246]; when TLS
	  is used, the Client MUST perform a TLS/SSL server certificate
	  check, per <a class='info' href='#RFC6125'>RFC 6125<span> (</span><span class='info'>Saint-Andre, P. and J. Hodges, &ldquo;Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS),&rdquo; March&nbsp;2011.</span><span>)</span></a> [RFC6125].  Check ID
	  Endpoints MAY support other transport-layer mechanisms with
	  equivalent security.
	
</p>
<p>Clients MAY verify the validity of the ID Token using the
        Check ID Endpoint.  Clients wanting to process the
        ID Token contents directly should refer to the <a class='info' href='#OpenID.Standard'>OpenID Connect Standard 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Standard           1.0,&rdquo; October&nbsp;2011.</span><span>)</span></a> [OpenID.Standard]
        specification.
</p>
<p>The ID Token is used to manage the sign-on event and user
        identifier.  It differs from an Access Token,
	which provides access to the UserInfo Endpoint and other
        OAuth 2.0 Protected Resources that the End-User is granting access to. The
        ID Token is restricted to a particular Client via the 
        <tt>aud</tt> (audience) and 
        <tt>nonce</tt> Claims.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.1"></a><h3>2.3.1.&nbsp;
Check ID Request</h3>

<p>To request the information about the authentication performed on
          the End-User, a request is made to the Check ID Endpoint sending 
          the ID Token as the access_token 
          by using the <a class='info' href='#OAuth2.0Bearer'>OAuth 2.0
		  Bearer<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer] scheme.
</p>
<p>Clients MAY send requests with the following parameter to the
             Check ID Endpoint:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>access_token</dt>
<dd>REQUIRED. The ID Token obtained
            from an OpenID Connect Authorization Request. This parameter
            MUST NOT be sent if the Access Token is sent in the HTTP
            Authorization header as described in Section 7.1 of <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0]. Access Tokens sent in the
            authorization header MUST be <a class='info' href='#OAuth2.0Bearer'>Bearer tokens<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer].
</dd>
</dl></blockquote>

<p>
	    Requests to the Check ID Endpoint SHOULD be made with the
	    HTTP "POST" method.  In this case, the request parameters
	    are serialized using <a class='info' href='#form_serialization'>form
	    serialization<span> (</span><span class='info'>Form Serialization</span><span>)</span></a>.
	  
</p>
<p>The Following is a non-normative example of a Check
	    ID request:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>POST /check_id HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC9zZX
J2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIjoiaHR0cD
pcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0vzDH3T1G
3liaTNOrfaeWYjuRCEPNXVtaazNQ
</pre></div>
<p>
	    The Client MUST ensure that the Check ID Endpoint being
	    used is the trusted Check ID Endpoint for the Entity via
	    pre-configuration meta-data or discovery.
	  
</p>
<p>
	    A request to the Check ID Endpoint MAY alternatively be made
	  with the HTTP "GET" method, when using GET the access_token 
	  MUST be passed in the header.
	  
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.2"></a><h3>2.3.2.&nbsp;
Check ID Response</h3>

<p>The Check ID response returns the JSON serialized Claims
	  contained in the ID Token.  The following ID Token Claims
	  are defined by this specification:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>iss</dt>
<dd>REQUIRED. The Issuer Identifier for the Issuer
              of the response.
</dd>
<dt>user_id</dt>
<dd>REQUIRED. A locally unique and never
              reassigned identifier for the End-User, which is intended to be
              consumed by the Client. e.g. <tt>24400320</tt>
              or <tt>AItOawmwtWwcT0k51BayewNvutrJUqsvl6qs7A4</tt>.
              It MUST NOT exceed 255 ASCII characters in length.
</dd>
<dt>aud</dt>
<dd>REQUIRED. This member identifies the audience
              that this ID Token is intended for. It is client_id of the RP.
</dd>
<dt>exp</dt>
<dd>REQUIRED. Type Integer. Identifies the
              expiration time on or after which the ID Token MUST NOT be
              accepted for processing. The processing of this parameter
              requires that the current date/time MUST be before the
              expiration date/time listed in the value. Implementers MAY
              provide for some small leeway, usually no more than a few
              minutes, to account for clock skew. The value is number of
              seconds from 1970-01-01T0:0:0Z as measured in UTC until the
              desired date/time. See <a class='info' href='#RFC3339'>RFC 3339<span> (</span><span class='info'>Klyne, G., Ed. and C. Newman, &ldquo;Date and Time on the Internet: Timestamps,&rdquo; July&nbsp;2002.</span><span>)</span></a> [RFC3339]
              for details regarding date/times in general and UTC in
              particular.
</dd>
<dt>iso29115</dt>
<dd>OPTIONAL. (Entity Authentication
              Assurance): Specifies the X.1254 / <a class='info' href='#ISO29115'>ISO/IEC29115<span> (</span><span class='info'>McCallister, E., &ldquo;ITU-T Recommendation X.1254 | ISO/IEC 2nd CD 29115 --           Information technology - Security techniques - Entity authentication           assurance framework,&rdquo; 2012.</span><span>)</span></a> [ISO29115] entity authentication
              assurance level of the authentication performed.
</dd>
<dt>nonce</dt>
<dd>REQUIRED. Clients MUST verify that
              the <tt>nonce</tt> value is equal to
              the value of the <tt>nonce</tt>
              parameter in the Authorization Request.
</dd>
</dl></blockquote>

<p>The following is a non-normative example of a
            response from a Check ID Endpoint:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
 "iss": "http://server.example.com",
 "user_id": "248289761001",
 "aud": "http://client.example.com",
 "nonce": "n-0S6_WzA2Mj",
 "exp": 1311281970
}
</pre></div>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.2.1"></a><h3>2.3.2.1.&nbsp;
Response Verification</h3>

<p>To verify the validity of the Response, the Client MUST do the
            following:
</p>
<p></p>
<ol class="text">
<li>The Check ID Endpoint has not returned an error for
                the ID Token being expired or invalid.
</li>
<li>Check that the <tt>iss</tt> (issuer) is equal to 
                that of the pre-configured or discovered Issuer Identifier for 
                the user session. 
</li>
<li>The value of the <tt>nonce</tt>
             Claim MUST be checked to verify that
            it is the same value as the one that was sent in the Authorization
            Request. The Client SHOULD check the nonce value for replay attacks.
            The precise method for detecting replay attacks is client specific.
</li>
<li>The Client MUST validate that the client_id in the 
            <tt>aud</tt> (audience) Claim is one
             it has registered for the Issuer identified by the value in the 
             <tt>iss</tt> (issuer) Claim.
              the ID Token MUST be rejected if the value of 
              <tt>aud</tt> (audience) is not valid for the 
              Issuer.
</li>
<li>The current time MUST be less than the value of the 
            <tt>exp</tt> Claim.
</li>
</ol>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3.3"></a><h3>2.3.3.&nbsp;
CheckID Error Response</h3>

<p>When an error condition occurs, the Check ID Endpoint returns
          an Error Response as defined in Section 3 of
	  <a class='info' href='#OAuth2.0Bearer'>OAuth 2.0 Bearer Tokens<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer].
</p>
<p>In addition to the error codes defined in Section 3.1 of <a class='info' href='#OAuth2.0Bearer'>Bearer Token<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer], this specification defines the
          following error codes:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>invalid_id_token</dt>
<dd>The ID Token is not valid for the
              requested resource, malformed, is in an incorrect format, or
              expired.
</dd>
</dl></blockquote>

<a name="userinfo"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
UserInfo Endpoint</h3>

<p>To obtain the additional attributes and tokens, the Client makes a
	GET or POST request to the UserInfo Endpoint.
</p>
<p>UserInfo Endpoint Servers MUST require the use of a transport-layer
	security mechanism. The Authorization Server MUST support TLS 1.2 as
	described in <a class='info' href='#RFC5246'>RFC 5246<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246] and MAY support
	other transport-layer mechanisms with equivalent security.
</p>
<p>NOTE: The UserInfo Endpoint response is not guaranteed to be about the
	Interactive user identified by the user_id element of the ID Token. 
	The user_id claim in the UserInfo Endpoint response MUST exactly match the 
	user_id claim in the ID Token, before using additional UserInfo Endpoint claims.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.1"></a><h3>2.4.1.&nbsp;
UserInfo Request</h3>

<p>Clients MAY send requests with the following parameters to the
	  UserInfo Endpoint to obtain further information about the End-User. The
	  UserInfo Endpoint is an <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0]
	  Protected Resource that complies with the <a class='info' href='#OAuth2.0Bearer'>Bearer Token<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer] specification. As such,
	  the Access Token SHOULD be specified via the HTTP Authorization
	  header.
</p>
<p></p>
<blockquote class="text"><dl>
<dt>access_token</dt>
<dd>REQUIRED. The Access Token obtained
	      from an OpenID Connect Authorization Request. This parameter MUST
	      only be sent using one method through either the HTTP Authorization
	      header or a form-encoded HTTP POST body parameter.
</dd>
<dt>schema</dt>
<dd>REQUIRED. The schema in which the
	      data is to be returned. The only defined value is <tt>openid</tt>.
</dd>
<dt>id</dt>
<dd>This identifier is reserved. It MUST be
	      ignored by the endpoint when the <tt>openid</tt> schema is used.
</dd>
</dl></blockquote>

<p>The following is a non-normative example. Line wraps are
	    for display purpose only:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /userinfo?schema=openid HTTP/1.1
Host: server.example.com
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJ ... fQ.8Gj_-sj ... _X
</pre></div>
<a name="id_res"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.2"></a><h3>2.4.2.&nbsp;
UserInfo Response</h3>

<p>If the requested schema is "openid", the response MUST return a
	  JSON object that contains the full set or subset of Claims that are
	  defined below. Additional Claims (not specified below) MAY also be
	  returned.
</p>
<p>
            If a Claim is not returned, that Claim Name SHOULD be
            omitted from the JSON object representing the Claims; it
            SHOULD NOT be present with a null or empty string value.
          
</p>
<p>The members MAY be represented in multiple languages and scripts.
	  To specify the languages and scripts, <a class='info' href='#RFC5646'>BCP47<span> (</span><span class='info'>Phillips, A. and M. Davis, &ldquo;Tags for Identifying Languages,&rdquo; September&nbsp;2009.</span><span>)</span></a> [RFC5646] language tags MUST be added to each
	  member names delimited by a <tt>#</tt>, e.g.,
	  <tt>familyName#ja-Kana-JP</tt> for expressing
	  Family Name in Katakana in Japanese, which is commonly used to index
	  and represent the phonetics of the Kanji representation of the same
	  represented as <tt>familyName#ja-Hani-JP</tt>.
</p><br /><hr class="insert" />
<a name="ClaimTable"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Member</th><th align="left">Type</th><th align="left">Description</th></tr>
<tr>
<td align="left">user_id</td>
<td align="left">string</td>
<td align="left">REQUIRED Identifier for the End-User at the Issuer.</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">string</td>
<td align="left">End-User's full name in displayable form including all name parts,
	    ordered according to End-User's locale and preferences.</td>
</tr>
<tr>
<td align="left">given_name</td>
<td align="left">string</td>
<td align="left">Given name or first name of the End-User.</td>
</tr>
<tr>
<td align="left">family_name</td>
<td align="left">string</td>
<td align="left">Surname or last name of the End-User.</td>
</tr>
<tr>
<td align="left">middle_name</td>
<td align="left">string</td>
<td align="left">Middle name of the End-User.</td>
</tr>
<tr>
<td align="left">nickname</td>
<td align="left">string</td>
<td align="left">Casual name of the End-User that may or may not be the same as the
	    <tt>given_name</tt>. For instance, a <tt>nickname</tt> value of <tt>Mike</tt>
	    might be returned alongside a <tt>given_name</tt>
	    value of <tt>Michael</tt>.</td>
</tr>
<tr>
<td align="left">profile</td>
<td align="left">string</td>
<td align="left">URL of End-User's profile page.</td>
</tr>
<tr>
<td align="left">picture</td>
<td align="left">string</td>
<td align="left">URL of the End-User's profile picture.</td>
</tr>
<tr>
<td align="left">website</td>
<td align="left">string</td>
<td align="left">URL of End-User's web page or blog.</td>
</tr>
<tr>
<td align="left">email</td>
<td align="left">string</td>
<td align="left">The End-User's preferred e-mail address.</td>
</tr>
<tr>
<td align="left">verified</td>
<td align="left">boolean</td>
<td align="left">True if the End-User's e-mail address has been verified; otherwise
	    false.</td>
</tr>
<tr>
<td align="left">gender</td>
<td align="left">string</td>
<td align="left">The End-User's gender: Values defined by this
	    specification are <tt>female</tt> and
	    <tt>male</tt>.  Other values MAY be used
	    when neither of the defined values are applicable.</td>
</tr>
<tr>
<td align="left">birthday</td>
<td align="left">string</td>
<td align="left">The End-User's birthday, represented as a date string in MM/DD/YYYY
	    format. The year MAY be <tt>0000</tt>, indicating
	    that it is omitted.</td>
</tr>
<tr>
<td align="left">zoneinfo</td>
<td align="left">string</td>
<td align="left">String from zoneinfo <a class='info' href='#zoneinfo'>[zoneinfo]<span> (</span><span class='info'>Public Domain, &ldquo;The tz database,&rdquo; June&nbsp;2011.</span><span>)</span></a> time zone
	    database. For example, <tt>Europe/Paris</tt> or
	    <tt>America/Los_Angeles</tt>.</td>
</tr>
<tr>
<td align="left">locale</td>
<td align="left">string</td>
<td align="left">The End-User's locale, represented as a
	    <a class='info' href='#RFC5646'>BCP47<span> (</span><span class='info'>Phillips, A. and M. Davis, &ldquo;Tags for Identifying Languages,&rdquo; September&nbsp;2009.</span><span>)</span></a> [RFC5646] language tag.
	    This is typically an <a class='info' href='#ISO639-1'>ISO 639-1 Alpha-2<span> (</span><span class='info'>International Organization for             Standardization, &ldquo;ISO 639-1:2002. Codes for the representation of names of           languages -- Part 1: Alpha-2 code,&rdquo; 2002.</span><span>)</span></a> [ISO639&#8209;1] language code in
	    lowercase and an <a class='info' href='#ISO3166-1'>ISO 3166-1 Alpha-2<span> (</span><span class='info'>International Organization for             Standardization, &ldquo;ISO 3166-1:1997. Codes for the representation of names of           countries and their subdivisions -- Part 1: Country codes,&rdquo; 1997.</span><span>)</span></a> [ISO3166&#8209;1]
	    country code in uppercase, separated by a dash. For example, <tt>en-US</tt> or <tt>fr-CA</tt>. As
	    a compatibility note, some implementations have used an underscore
	    as the separator rather than a dash, for example, <tt>en_US</tt>; Implementations MAY choose to accept
	    this locale syntax as well.</td>
</tr>
<tr>
<td align="left">phone_number</td>
<td align="left">string</td>
<td align="left">The End-User's preferred telephone number. <a class='info' href='#E.164'>E.164<span> (</span><span class='info'>International Telecommunication Union, &ldquo;E.164 : The international public telecommunication numbering plan,&rdquo; 2010.</span><span>)</span></a> [E.164] is RECOMMENDED as the format of this claim. 
	    For example, <tt>+1 (425)
	    555-1212</tt> or <tt>+56 (2) 687 2400</tt>.</td>
</tr>
<tr>
<td align="left">address</td>
<td align="left">JSON object</td>
<td align="left">The End-User's preferred address. The value of the <tt>address</tt> member is a <a class='info' href='#RFC4627'>JSON<span> (</span><span class='info'>Crockford, D., &ldquo;The application/json Media Type for JavaScript Object Notation (JSON),&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4627] structure containing some or all of
	    the members defined in <a class='info' href='#address_claim'>Section&nbsp;2.4.2.1<span> (</span><span class='info'>Address Claim</span><span>)</span></a>. </td>
</tr>
<tr>
<td align="left">updated_time</td>
<td align="left">string</td>
<td align="left">Time the End-User's information was last updated, represented as a
	    <a class='info' href='#RFC3339'>RFC 3339<span> (</span><span class='info'>Klyne, G., Ed. and C. Newman, &ldquo;Date and Time on the Internet: Timestamps,&rdquo; July&nbsp;2002.</span><span>)</span></a> [RFC3339] datetime. For example, <tt>2011-01-03T23:58:42+0000</tt>.</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Reserved Member Definitions&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Following is a non-normative example of such
	    response:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>{
 "user_id": "248289761001",
 "name": "Jane Doe",
 "given_name": "Jane",
 "family_name": "Doe",
 "email": "janedoe@example.com",
 "picture": "http://example.com/janedoe/me.jpg"
}</pre></div>
<p>The UserInfo Endpoint MUST return Claims in JSON format unless a
	  different format was specified during <a class='info' href='#OpenID.Registration'>OpenID Connect Dynamic Client Registration 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Ed., and M. Jones, &ldquo;OpenID Connect Dynamic Client Registration 1.0,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OpenID.Registration].
	      The UserInfo Endpoint MUST return a content-type header to indicate
	  which format is being returned. The following are accepted content
	  types:
</p><table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">Content-Type</th><th align="left">Format Returned</th></tr>
<tr>
<td align="left">application/json</td>
<td align="left">plain text JSON object</td>
</tr>
<tr>
<td align="left">application/jwt</td>
<td align="left">A JWT</td>
</tr>
</table>
<br clear="all" />

<a name="address_claim"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.2.1"></a><h3>2.4.2.1.&nbsp;
Address Claim</h3>

<p>
	      The components of a physical mailing address. 
	      Implementations MAY return only a subset of the
	      fields of an <tt>address</tt>, depending upon
	      the information available and the End-User's privacy 
	      preferences. For
	      example, the <tt>country</tt> and <tt>region</tt> might be returned without returning
	      more fine-grained address information.
	    
</p>
<p>
	      Implementations MAY return just the full address 
	      as a single string in the formatted sub-field, 
	      or they MAY return just the individual component 
	      fields using the other sub-fields, 
	      or they MAY return both. 
	      If both variants are returned, 
	      they SHOULD be describing the same address, 
	      with the formatted address indicating how the 
	      component fields should be combined.
	    
</p>
<p></p>
<blockquote class="text"><dl>
<dt>formatted</dt>
<dd>The full mailing address, 
		formatted for display or use with a mailing label. 
		This field MAY contain newlines. This is the 
		Primary Sub-Field for this field, 
		for the purposes of sorting and filtering.
</dd>
<dt>street_address</dt>
<dd>
		The full street address component, 
		which may include house number, street name, 
		PO BOX, and multi-line extended street 
		address information. This field MAY contain newlines.
</dd>
<dt>locality</dt>
<dd>The city or locality component.
</dd>
<dt>region</dt>
<dd>The state, province, 
		prefecture or region component.
</dd>
<dt>postal_code</dt>
<dd>The zip code or 
		postal code component.
</dd>
<dt>country</dt>
<dd>The country name component.
</dd>
</dl></blockquote><p>
	    
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4.3"></a><h3>2.4.3.&nbsp;
UserInfo Error Response</h3>

<p>When an error condition occurs, the UserInfo Endpoint returns
	  an Error Response as defined in Section 3 of
	  <a class='info' href='#OAuth2.0Bearer'>OAuth 2.0 Bearer Tokens<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer].
</p>
<p>In addition to the error codes defined in Section 3.1 of <a class='info' href='#OAuth2.0Bearer'>Bearer Token<span> (</span><span class='info'>Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;The OAuth 2.0 Protocol: Bearer Tokens,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OAuth2.0Bearer], this specification defines the
	  following error codes:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>invalid_schema</dt>
<dd>The requested schema is invalid or
	      unsupported.
</dd>
</dl></blockquote>

<a name="disco_reg"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Discovery and Registration</h3>

<p>Some OpenID Connect installations can use a pre-configured set of
      OpenID Providers and/or Relying Parties. In those cases, it may not be
      necessary to support dynamic discovery of information about identities
      or services or dynamic registration of Clients.
</p>
<p>However, if installations choose to support unanticipated
      interactions between Relying Parties and OpenID Providers that do not
      have pre-configured relationships, they SHOULD accomplish this by
      implementing the facilities defined in the <a class='info' href='#OpenID.Discovery'>OpenID Connect Discovery 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., and E. Jay, &ldquo;OpenID Connect Discovery 1.0,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OpenID.Discovery] and <a class='info' href='#OpenID.Registration'>OpenID Connect Dynamic Client Registration
      1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Ed., and M. Jones, &ldquo;OpenID Connect Dynamic Client Registration 1.0,&rdquo; September&nbsp;2011.</span><span>)</span></a> [OpenID.Registration] specifications.
</p>
<a name="qss"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Query String Serialization</h3>

<p>In order to serialize the parameters using the query string
      serialization, the Client constructs the string by adding the
      parameters and values to the query component using the <tt>application/x-www-form-urlencoded</tt> format as
      defined by <a class='info' href='#W3C.REC-html401-19991224'>[W3C.REC&#8209;html401&#8209;19991224]<span> (</span><span class='info'>Raggett, D., Hors, A., and I. Jacobs, &ldquo;HTML 4.01 Specification,&rdquo; December&nbsp;1999.</span><span>)</span></a>.
</p>
<p>Following is a non-normative example of such
        serialization:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /authorize?scope=openid&amp;response_type=code
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1
Host: server.example.com</pre></div>
<a name="form_serialization"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Form Serialization</h3>

<p>Parameters and their values are form serialized by adding the 
      parameter names and values to the entity body of the HTTP request using
      the <tt>application/x-www-form-urlencoded</tt> format
      as defined by <a class='info' href='#W3C.REC-html401-19991224'>[W3C.REC&#8209;html401&#8209;19991224]<span> (</span><span class='info'>Raggett, D., Hors, A., and I. Jacobs, &ldquo;HTML 4.01 Specification,&rdquo; December&nbsp;1999.</span><span>)</span></a>. Form
      serialization is typically used in HTTP POST requests.
</p>
<p>Following is a non-normative example of such
	serialization:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>POST /authorize HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

scope=openid&amp;response_type=code
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
</pre></div>
<a name="stringops"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
String Operations</h3>

<p>
	Processing some OpenID Connect messages requires comparing
	values in the messages to known values. For example, the Claim
	Names returned by the UserInfo Endpoint might be compared to
	specific Claim Names such as <tt>user_id</tt>.  Comparing Unicode strings,
	however, has significant security implications.
      
</p>
<p>
	Therefore, comparisons between JSON strings and other Unicode
	strings MUST be performed as specified below:

	</p>
<ol class="text">
<li>
	    Remove any JSON applied escaping to produce an array of
	    Unicode code points.
	  
</li>
<li>
	    <a class='info' href='#USA15'>Unicode Normalization<span> (</span><span class='info'>Davis, M., Whistler, K., and M. D&uuml;rst, &ldquo;Unicode Normalization Forms,&rdquo; 09&nbsp;2009.</span><span>)</span></a> [USA15] MUST NOT
	    be applied at any point to either the JSON string or to
	    the string it is to be compared against.
	  
</li>
<li>
	    Comparisons between the two strings MUST be performed as a
	    Unicode code point to code point equality comparison.
	  
</li>
</ol><p>
      
</p>
<p>
	In several places, this specification uses space delimited
	lists of strings.  In all such cases, only the ASCII space
	character (0x20) MAY be used for this purpose.
      
</p>
<a name="security_considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>For security considerations, refer to 
      <a class='info' href='#OpenID.Standard'>OpenID Connect Standard 1.0 Specification<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Standard           1.0,&rdquo; October&nbsp;2011.</span><span>)</span></a> [OpenID.Standard]
      
</p>
<a name="privacy_considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Privacy Considerations</h3>

<p>The UserInfo response typically contains Personally Identifiable
      Information. As such, End-User consent for the release of the information
      for the specified purpose SHOULD be obtained at or prior to the
      authorization time in accordance with relevant regulations. The purpose
      of use is typically registered in association with the <tt>redirect_uri</tt>.
</p>
<p>Only necessary UserInfo data should be stored at the Client and the
      Client SHOULD associate the received data with the purpose of use
      statement.
</p>
<p>The Resource Server SHOULD make the UserInfo access log available to 
      the End-User so that the End-User can monitor who accessed his data.
</p>
<p>To protect the End-User from a possible correlation among Clients, the
      use of a Pairwise Pseudonymous Identifier (PPID) as the <tt>user_id</tt> SHOULD be considered.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="E.164">[E.164]</a></td>
<td class="author-text">International Telecommunication Union, &ldquo;<a href="http://www.itu.int/rec/T-REC-E.164-201011-I/en">E.164 : The international public telecommunication numbering plan</a>,&rdquo; 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO29115">[ISO29115]</a></td>
<td class="author-text">McCallister, E., &ldquo;ITU-T Recommendation X.1254 | ISO/IEC 2nd CD 29115 --
          Information technology - Security techniques - Entity authentication
          assurance framework,&rdquo; ISO/IEC&nbsp;29115, 2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO3166-1">[ISO3166-1]</a></td>
<td class="author-text">International Organization for
            Standardization, &ldquo;<a href="http://www.w3.org/WAI/ER/IG/ert/iso639.htm">ISO 3166-1:1997. Codes for the representation of names of
          countries and their subdivisions -- Part 1: Country codes</a>,&rdquo; 1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO639-1">[ISO639-1]</a></td>
<td class="author-text">International Organization for
            Standardization, &ldquo;ISO 639-1:2002. Codes for the representation of names of
          languages -- Part 1: Alpha-2 code,&rdquo; 2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="JWT">[JWT]</a></td>
<td class="author-text">Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, &ldquo;<a href="http://tools.ietf.org/html/draft-jones-json-web-token">JSON Web Token</a>,&rdquo; October&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="OAuth2.0">[OAuth2.0]</a></td>
<td class="author-text">Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2">OAuth 2.0 Authorization Protocol</a>,&rdquo; September&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="OAuth2.0Bearer">[OAuth2.0Bearer]</a></td>
<td class="author-text">Jones, M., Ed., Recordon, D., and D. Hardt, &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2-bearer">The OAuth 2.0 Protocol: Bearer Tokens</a>,&rdquo; September&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Discovery">[OpenID.Discovery]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., and E. Jay, &ldquo;<a href="http://openid.net/specs/openid-connect-discovery-1_0.html">OpenID Connect Discovery 1.0</a>,&rdquo; September&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Registration">[OpenID.Registration]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Ed., and M. Jones, &ldquo;<a href="http://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0</a>,&rdquo; September&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Standard">[OpenID.Standard]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;<a href="http://openid.net/specs/openid-connect-standard-1_0.html">OpenID Connect Standard
          1.0</a>,&rdquo; October&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3339">[RFC3339]</a></td>
<td class="author-text"><a href="mailto:GK@ACM.ORG">Klyne, G., Ed.</a> and <a href="mailto:chris.newman@sun.com">C. Newman</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3339">Date and Time on the Internet: Timestamps</a>,&rdquo; RFC&nbsp;3339, July&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3339.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3339.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3339.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4627">[RFC4627]</a></td>
<td class="author-text">Crockford, D., &ldquo;<a href="http://tools.ietf.org/html/rfc4627">The application/json Media Type for JavaScript Object Notation (JSON)</a>,&rdquo; RFC&nbsp;4627, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4627.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5246">[RFC5246]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,&rdquo; RFC&nbsp;5246, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5646">[RFC5646]</a></td>
<td class="author-text">Phillips, A. and M. Davis, &ldquo;<a href="http://tools.ietf.org/html/rfc5646">Tags for Identifying Languages</a>,&rdquo; BCP&nbsp;47, RFC&nbsp;5646, September&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5646.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC6125">[RFC6125]</a></td>
<td class="author-text">Saint-Andre, P. and J. Hodges, &ldquo;<a href="http://tools.ietf.org/html/rfc6125">Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS)</a>,&rdquo; RFC&nbsp;6125, March&nbsp;2011 (<a href="http://www.rfc-editor.org/rfc/rfc6125.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="USA15">[USA15]</a></td>
<td class="author-text"><a href="mailto:markdavis@google.com">Davis, M.</a>, <a href="mailto:ken@unicode.org">Whistler, K.</a>, and M. D&uuml;rst, &ldquo;Unicode Normalization Forms,&rdquo; Unicode Standard Annex&nbsp;15, 09&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-html401-19991224">[W3C.REC-html401-19991224]</a></td>
<td class="author-text">Raggett, D., Hors, A., and I. Jacobs, &ldquo;<a href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML 4.01 Specification</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-html401-19991224, December&nbsp;1999 (<a href="http://www.w3.org/TR/1999/REC-html401-19991224">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="zoneinfo">[zoneinfo]</a></td>
<td class="author-text">Public Domain, &ldquo;<a href="http://www.twinsun.com/tz/tz-link.htm">The tz database</a>,&rdquo; June&nbsp;2011.</td></tr>
</table>

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>The OpenID Community would like to thank the following people for the
      work they've done in the drafting and editing of this specification.
</p>
<p></p>
<blockquote class="text">
<p>Axel Nennker (axel.nennker@telekom.de), Deutsche Telekom
</p>
<p>Casper Biering (cb@peercraft.com), Peercraft
</p>
<p>John Bradley (jbradely@mac.com), Protiviti Government
          Services
</p>
<p>Breno de Medeiros (breno@gmail.com), Google
</p>
<p>George Fletcher (gffletch@aol.com), AOL
</p>
<p>Edmund Jay (ejay@mgi1.com), MGI1
</p>
<p>Michael B. Jones (mbj@microsoft.com), Microsoft
</p>
<p>Chuck Mortimore (cmortimore@salesforce.com), Salesforce
</p>
<p>Hideki Nara (hideki.nara@gmail.com), Takt Communications
</p>
<p>Nat Sakimura (n-sakimura@nri.co.jp)), Nomura Research Institute,
          Ltd.
</p>
<p>Ryo Itou (ritou@yahoo-corp.jp), Yahoo! Japan
</p>
</blockquote>

<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Notices</h3>

<p>Copyright (c) 2011 The OpenID Foundation. 
</p>
<p>The OpenID Foundation (OIDF) grants to any Contributor, developer, 
          implementer, or other interested party a non-exclusive, royalty free, 
          worldwide copyright license to reproduce, prepare derivative works from, 
          distribute, perform and display, this Implementers Draft or 
          Final Specification (i) solely for the purposes of developing 
          specifications, and (ii) implementing Implementers Drafts and 
          Final Specifications based on such documents, provided that attribution 
          be made to OIDF as the source of the material, but that such attribution 
          does not indicate the endorsement by OIDF. 
</p>
<p>The technology described in this specification was 
          made available from contributions from various sources, 
          including members of the OpenID Foundation and others.  
          Although the OpenID Foundation has taken steps to help ensure 
          that the technology is available for distribution, it takes 
          no position regarding the validity or scope of any intellectual 
          property or other rights that might be claimed to  pertain to 
          the implementation or use of the technology described in 
          this specification or  the extent to which  any license under 
          such rights might or might not be available; neither does it 
          represent that it has made any independent effort to identify 
          any such rights.  The OpenID Foundation and the contributors 
          to this specification make no (and hereby expressly disclaim any) 
          warranties (express, implied, or otherwise), including implied 
          warranties of merchantability, non-infringement, fitness for 
          a particular purpose, or title, related to this specification, 
          and the entire risk as to implementing this specification is 
          assumed by the implementer.  The OpenID Intellectual 
          Property Rights policy requires contributors to offer 
          a patent promise not to assert certain patent claims against 
          other contributors and  against implementers.  OpenID invites 
          any interested party to bring to its attention any copyrights, 
          patents, patent applications, or other proprietary rights 
          that may cover technology that may be required to practice 
          this specification. 
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Document History</h3>

<p>[[ To be removed from the final specification ]]
</p>
<p>-15</p>
<ul class="text">
<li>Added TLS requirement to Sec 4 to match standard
</li>
<li>Added reference for RFC5246 per ticket #235
</li>
<li>fixes #98 added xref to standard for code flow
</li>
<li>re #310 remove language about subject
</li>
<li>re #310 user info example to include user_id
</li>
<li>fix language about user info response format, add media type.
</li>
<li>re #302 change nonce definition Sec 2.3.2
</li>
<li>re #335 make openid scope provide user_id from userinfo endpoint
</li>
<li>re #307 Added explanation of select_account
</li>
<li>Fixes #390 change check id to Bearer token
</li>
<li>re #409 fix example in 2.4.1 to add schema
</li>
<li>Fixes #406 update id_token verification to be consistent with messages
</li>
<li>re #418 add nonce to reply in 2.2.1
</li>
</ul>

<p>-14</p>
<ul class="text">
<li>Changed section 3.2.1 to refer to access_token ticket #134.
</li>
<li>Bumped version + date.
</li>
<li>Changed 7.4 in security considerations to show none is REQUIRED.
</li>
<li>Changed 3.2.4.1 User Info to UserInfo per Ticket #137.
</li>
<li>Changed formatting of 7.1 per ticket #140.
</li>
</ul>

<p>-13</p>
<ul class="text">
<li>Changed check_session to check_id.
</li>
<li>schema=openid now required when requesting UserInfo.
</li>
<li>Removed issued_to, since not well defined.
</li>
<li>Removed display values popup, touch, and mobile, since not well defined.
</li>
</ul>

<p>-12</p>
<ul class="text">
<li>Ticket #48 Changed Check Session to take the id_token as a
          parameter.
</li>
</ul>

<p>-11 </p>
<ul class="text">
<li>Renamed from "Lite" to "Basic Client".
</li>
<li>Numerous cleanups, including updating references.
</li>
</ul>

<p>-10 </p>
<ul class="text">
<li>Add back id_token to the response type per issue 27.
</li>
<li>Changed endpoint name in example from id_token to
          check_session.
</li>
<li>Added token_type to the response and explanations of the optional
          parameters.
</li>
</ul>

<p>-09 </p>
<ul class="text">
<li>Clean up typos.
</li>
<li>Clean up scope explanation.
</li>
<li>Fix 3.2.4.1 to include id_token in response.
</li>
</ul>

<p>-08 </p>
<ul class="text">
<li>Added note about OP needing to read the full spec.
</li>
<li>Reverted back to GET for introspection based on Google
          feedback.
</li>
<li>Changed scopes to <tt>openid</tt>, <tt>profile</tt>, <tt>address</tt>,
          and <tt>email</tt> to make them additive.
</li>
<li>Changed introspection to Check Session Endpoint to be consistent
          with session management.
</li>
<li>Changed validation rules, the Check session endpoint will return
          an error for expired or invalid tokens, so the client doesn't need
          to check expiration.
</li>
<li>Added explanation of why an id_token is used to verify identity
          rather than the user_info Access Token.
</li>
</ul>

<p>-07 </p>
<ul class="text">
<li>Changed introspection to post
</li>
<li>Changed user_info from <tt>id</tt> to <tt>user_id</tt> to be consistent with introspection
          endpoint.
</li>
<li>Fixed introspection example to use id_token rather than access
          token.
</li>
<li>Removed asking for id_token in response type.
</li>
<li>Fixed Sec 3 to be clear it is client secret that is maintained
          between the client and the OP.
</li>
</ul>

<p>-06 </p>
<ul class="text">
<li>Only require the <tt>token</tt> flow in Lite.
          Removed <tt>code</tt> flow.
</li>
<li>Make <tt>id_token</tt> required. The <tt>id_token</tt> is treated as opaque.
</li>
<li>Rearranged sections for readability.
</li>
<li>Dropped the <tt>schema</tt> parameter to the
          Introspection endpoint, which was formerly a string with the value
          <tt>user_id</tt>. This is unnecessary since the
          <tt>id_token</tt> parameter already can be used
          to disambiguate the intended uses(s) of the endpoint.
</li>
<li>Dropped the requested audience from the Lite spec, which was
          formerly the identifier of the target audience of the response. This
          could be part of the Standard spec, but is an advanced scenario, and
          so not appropriate for Lite.
</li>
<li>Reference the Discovery and Registration specs, since they're
          needed for interaction between non-pre-configured parties (so that
          OpenID Connect installations can be Open).
</li>
</ul>

<p>-05 </p>
<ul class="text">
<li>Corrected issues raised by Casper Biering.
</li>
<li>Created the OpenID Connect Lite specification.
</li>
</ul>

<p>-04 </p>
<ul class="text">
<li>Correct issues raised by Pam Dingle and discussed on the mailing
          list after the 7-Jul-11 working group call.
</li>
<li>Adopted long_names.
</li>
</ul>

<p>-03 </p>
<ul class="text">
<li>Correct issues raised by Johnny Bufu and discussed on the
          7-Jul-11 working group call.
</li>
</ul>

<p>-02 </p>
<ul class="text">
<li>Consistency and cleanup pass, including removing unused
          references.
</li>
</ul>

<p>-01 </p>
<ul class="text">
<li>Initial draft
</li>
</ul>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nat Sakimura (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nomura Research Institute,
      Ltd.</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:n-sakimura@nri.co.jp">n-sakimura@nri.co.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">John Bradley (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Independent</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jbradley@mac.com">jbradley@mac.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Breno de Medeiros</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Google</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:breno@google.com">breno@google.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael B. Jones</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mbj@microsoft.com">mbj@microsoft.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Edmund Jay</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">MGI1</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ejay@mgi1.com">ejay@mgi1.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chuck Mortimore</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Salesforce</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:cmortimore@salesforce.com">cmortimore@salesforce.com</a></td></tr>
</table>
</body></html>
