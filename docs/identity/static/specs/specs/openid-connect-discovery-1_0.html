<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Draft: OpenID Connect Discovery 1.0 - draft 09</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="OpenID Connect Discovery 1.0 - draft 09">
<meta name="generator" content="xml2rfc v1.36 (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Draft</td><td class="header">N. Sakimura</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">NRI</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Bradley</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Ping Identity</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Jones</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Microsoft</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">E. Jay</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Illumila</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">May 25, 2012</td></tr>
</table></td></tr></table>
<h1><br />OpenID Connect Discovery 1.0 - draft 09</h1>

<h3>Abstract</h3>

<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0
      protocol. It allows Clients to verify the identity of the End-User based
      on the authentication performed by an Authorization Server, as well as to
      obtain basic profile information about the End-User in an interoperable and 
      RESTful manner.
</p>
<p>This specification provides a mechanism for the OpenID Connect 
      Client to discover the user's OpenID Provider as well as the necessary 
      endpoints used by the OpenID Connect protocol suite.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rnc">1.1.</a>&nbsp;
Requirements Notation and Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#terminology">1.2.</a>&nbsp;
Terminology<br />
<a href="#ProviderDisc">2.</a>&nbsp;
Provider Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">2.1.</a>&nbsp;
Identifier Normalization<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.1.</a>&nbsp;
Identifier Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.1.2.</a>&nbsp;
E-Mail Address<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">2.1.3.</a>&nbsp;
URL<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">2.2.</a>&nbsp;
Non-Normative Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">2.2.1.</a>&nbsp;
E-Mail Address<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">2.2.2.</a>&nbsp;
URL<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#host.port.example">2.2.3.</a>&nbsp;
Hostname &amp; Port<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#redirection">2.3.</a>&nbsp;
Redirection<br />
<a href="#ProviderConfig">3.</a>&nbsp;
Provider Configuration Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.1.</a>&nbsp;
Provider Configuration Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.2.</a>&nbsp;
Provider Configuration Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">3.3.</a>&nbsp;
Provider Configuration Verification<br />
<a href="#stringops">4.</a>&nbsp;
String Operations<br />
<a href="#IANA">5.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">6.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#Acknowledgements">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor14">Appendix&nbsp;B.</a>&nbsp;
Notices<br />
<a href="#anchor15">Appendix&nbsp;C.</a>&nbsp;
Document History<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>In order for an OpenID Client to utilize OpenID Connect services for
      a user, the Client needs to know where the OpenID Provider is. OpenID
      Connect uses <a class='info' href='#SWD'>Simple Web Discovery<span> (</span><span class='info'>Jones, M. and Y. Goland, &ldquo;Simple Web Discovery,&rdquo; December&nbsp;2011.</span><span>)</span></a> [SWD] to locate
      the OpenID Provider for an End-User.
</p>
<p>Once an OpenID Provider is identified, the endpoint and other
      configuration information for that OP is retrieved from a well-known
      location as a JSON document.
</p>
<a name="rnc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Notation and Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
	"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
	document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<p>Throughout this document, values are quoted to indicate that they are
	to be taken literally. When using these values in protocol messages, the
	quotes MUST NOT be used as part of the value.
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Terminology</h3>

<p>This specification uses the terms "Access Token", "Refresh Token",
	"Authorization Code", "Authorization Grant", "Authorization Server",
	"Authorization Endpoint", "Client", "Client Identifier", "Client
	Secret", "Protected Resource", "Resource Owner", "Resource Server", and
	"Token Endpoint" defined by
	<a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; May&nbsp;2012.</span><span>)</span></a> [OAuth2.0],
	and the terms defined by
	<a class='info' href='#OpenID.Messages'>OpenID Connect Messages 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Messages 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a> [OpenID.Messages].
	This specification also defines the following terms:
	  </p>
<blockquote class="text"><dl>
<dt>Principal</dt>
<dd>An Entity that is the target of a request
	    in Simple Web Discovery.
</dd>
<dt>Identifier</dt>
<dd>An Identifier is either an <tt>http</tt> or <tt>https</tt> URI
	    (commonly referred to as a <tt>URL</tt> within
	    this document), or an account URI. This document defines various
	    kinds of Identifiers, designed for use in different contexts.
</dd>
</dl></blockquote>

<a name="ProviderDisc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Provider Discovery</h3>

<p>OpenID Provider discovery is optional; if a Relying Party knows the
      OP information through an out-of-band mechanism, they can skip this step
      and proceed to <a class='info' href='#ProviderConfig'>Section&nbsp;3<span> (</span><span class='info'>Provider Configuration Information</span><span>)</span></a>.
</p>
<p>Provider discovery requires the following information to make a
      discovery request:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Principal</dt>
<dd>Identifier of the target End-User who is the
          subject of the discovery request
</dd>
<dt>Host</dt>
<dd>Server where a Simple Web Discovery service is
          hosted
</dd>
<dt>Service</dt>
<dd>URI identifying the type of service whose
          location is requested
</dd>
</dl></blockquote>

<p>OpenID Connect uses the following discoverable service in
      <a class='info' href='#SWD'>Simple Web Discovery<span> (</span><span class='info'>Jones, M. and Y. Goland, &ldquo;Simple Web Discovery,&rdquo; December&nbsp;2011.</span><span>)</span></a> [SWD]:
</p><table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">Service Type</th><th align="left">URI</th></tr>
<tr>
<td align="left">OpenID Connect Issuer</td>
<td align="left">http://openid.net/specs/connect/1.0/issuer</td>
</tr>
</table>
<br clear="all" />

<p>To start discovery of OpenID endpoints, the End-User supplies an
      Identifier to the Client or Relying Party. The Client applies the
      normalization rules to the Identifier to extract the principal and host.
      Then it makes a HTTPS request to the host's
      <a class='info' href='#SWD'>Simple Web Discovery<span> (</span><span class='info'>Jones, M. and Y. Goland, &ldquo;Simple Web Discovery,&rdquo; December&nbsp;2011.</span><span>)</span></a> [SWD]
      endpoint with the <tt>principal</tt> and <tt>service</tt> parameters to obtain the location of the
      requested service.
      The Client MUST perform a TLS/SSL server certificate check, per
      <a class='info' href='#RFC6125'>RFC 6125<span> (</span><span class='info'>Saint-Andre, P. and J. Hodges, &ldquo;Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS),&rdquo; March&nbsp;2011.</span><span>)</span></a> [RFC6125].
      
</p>
<p>What MUST be returned in the response is the <tt>issuer</tt>.
      This includes URI scheme, HOST, and OPTIONALLY, port.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Identifier Normalization</h3>

<p>The purpose of normalization is to extract a normalized principal
        and host from the user input. This is then used as input to SWD to
        discover the <tt>issuer</tt>.
</p>
<p>The user Identifier SHOULD be one of the following:
</p>
<p></p>
<ul class="text">
<li>E-Mail address
</li>
<li>URL
</li>
</ul>

<p>
	  The Identifier normalization rules MAY be extended by
	  additional specifications to enable other identifier types
	  such as telephone numbers or <a class='info' href='#XRI_Syntax_2.0'>XRIs<span> (</span><span class='info'>Reed, D. and D. McAlpin, &ldquo;Extensible Resource Identifier (XRI) Syntax V2.0,&rdquo; November&nbsp;2005.</span><span>)</span></a> [XRI_Syntax_2.0] to also be used.
	
</p>
<p>URLs without a "host" portion are not supported by this
        specification.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.1"></a><h3>2.1.1.&nbsp;
Identifier Type</h3>

<p></p>
<ol class="text">
<li>Identifiers starting with the <a class='info' href='#XRI_Syntax_2.0'>XRI<span> (</span><span class='info'>Reed, D. and D. McAlpin, &ldquo;Extensible Resource Identifier (XRI) Syntax V2.0,&rdquo; November&nbsp;2005.</span><span>)</span></a> [XRI_Syntax_2.0] global context
              symbols ('=','@', and '!') are RESERVED.  Processing of
              these identifiers is out of scope for this
              specification.
</li>
<li>Any Identifier that contains the '@' character in any
              position other than the first position MUST be treated
              as an e-mail address.
</li>
<li>All other Identifiers MUST be treated as URLs.  URLs
              containing the '@' character must escape any '@'
              characters so that they are represented as %40.
</li>
</ol>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.2"></a><h3>2.1.2.&nbsp;
E-Mail Address</h3>

<p>Identifiers using e-mail address syntax MUST conform to
          the "addr-spec" syntax of <a class='info' href='#RFC5322'>RFC
          5322<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a> [RFC5322] and MUST NOT contain any syntax designated by
          that specification as being obsolete.  If the Identifier is
          an e-mail address, the SWD principal value is the entire e-mail
          address and the SWD host value is the "domain" portion of the
          "addr-spec".
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.3"></a><h3>2.1.3.&nbsp;
URL</h3>

<p>A URL Identifier is normalized according to the following
          rules:
</p>
<p></p>
<ul class="text">
<li>If the URL does not have an <a class='info' href='#RFC3986'>RFC 3986<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986] "scheme" portion, the
              "https" scheme is prefixed to the URL, with the "scheme"
              portion being separated from the "authority" portion by
              a "://" delimiter string.
</li>
<li>If the URL contains a fragment portion, it MUST be
              stripped off together with the fragment delimiter
              character "#".
</li>
<li>The resulting URL is used as the SWD principal.  The
              SWD host value is extracted from the "authority" portion
              of the URL, as defined by <a class='info' href='#RFC3986'>RFC 3986<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986],
	      by concatenating the "host" and "port" portions of the URL,
	      separating them with a colon (':') character.
	      See <a class='info' href='#host.port.example'>Section&nbsp;2.2.3<span> (</span><span class='info'>Hostname &amp; Port</span><span>)</span></a>
	      for a non-normative example.
</li>
</ul>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Non-Normative Examples</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.1"></a><h3>2.2.1.&nbsp;
E-Mail Address</h3>

<p>To find the <tt>issuer</tt> for the given
          e-mail address, <tt>joe@example.com</tt>, the SWD
          parameters are as follows:
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">SWD Parameter</th><th align="left">Value</th></tr>
<tr>
<td align="left">principal</td>
<td align="left">joe@example.com</td>
</tr>
<tr>
<td align="left">host</td>
<td align="left">example.com</td>
</tr>
<tr>
<td align="left">service</td>
<td align="left">http://openid.net/specs/connect/1.0/issuer</td>
</tr>
</table>
<br clear="all" />

<p>
<p>Following the SWD specification, the Client would make the
	    following request to get the discovery information
	    (with line wraps for display purposes only):
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /.well-known/simple-web-discovery?principal=joe%40example.com
    &amp;service=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer
    HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-Type: application/json

{
 "locations":["https://server.example.com"]
}</pre></div>

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.2"></a><h3>2.2.2.&nbsp;
URL</h3>

<p>To find the <tt>issuer</tt> for the given URL,
          <tt>https://example.com/joe</tt>, the SWD
          parameters are as follows:
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">SWD Parameter</th><th align="left">Value</th></tr>
<tr>
<td align="left">principal</td>
<td align="left">https://example.com/joe</td>
</tr>
<tr>
<td align="left">host</td>
<td align="left">example.com</td>
</tr>
<tr>
<td align="left">service</td>
<td align="left">http://openid.net/specs/connect/1.0/issuer</td>
</tr>
</table>
<br clear="all" />

<p>
<p>Following the SWD specification, the Client would make the
	    following request to get the discovery information
	    (with line wraps for display purposes only):
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /.well-known/simple-web-discovery
    ?principal=https%3A%2F%2Fexample.com%2Fjoe
    &amp;service=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer
    HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-Type: application/json

{
 "locations":["https://server.example.com"]
}</pre></div>

<a name="host.port.example"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2.3"></a><h3>2.2.3.&nbsp;
Hostname &amp; Port</h3>

<p>To find the <tt>issuer</tt> for the given
          hostname, <tt>example.com:8080</tt>, the SWD
          parameters are as follows:
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">SWD Parameter</th><th align="left">Value</th></tr>
<tr>
<td align="left">principal</td>
<td align="left">https://example.com:8080/</td>
</tr>
<tr>
<td align="left">host</td>
<td align="left">example.com:8080</td>
</tr>
<tr>
<td align="left">service</td>
<td align="left">http://openid.net/specs/connect/1.0/issuer</td>
</tr>
</table>
<br clear="all" />

<p>
<p>Following the SWD specification, the Client would make the
	    following request to get the discovery information
	    (with line wraps for display purposes only):
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /.well-known/simple-web-discovery
    ?principal=https%3A%2F%2Fexample.com%3A8080%2F
    &amp;service=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer
    HTTP/1.1
Host: example.com:8080

HTTP/1.1 200 OK
Content-Type: application/json

{
 "locations":["https://server.example.com"]
}</pre></div>

<a name="redirection"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Redirection</h3>

<p>In cases where the SWD request is to be handled at a host or location
        other than the one derived from the End-User's Identifier, the host
        will return a JSON object containing the new location.
	(Support for service redirection is a required feature of
	<a class='info' href='#SWD'>Simple Web Discovery<span> (</span><span class='info'>Jones, M. and Y. Goland, &ldquo;Simple Web Discovery,&rdquo; December&nbsp;2011.</span><span>)</span></a> [SWD].)
</p>
<p>To enable service level redirection, a SWD server MAY return a 200
        OK to an HTTPS request with a content type of application/json (or
        whatever other content type has been negotiated) that contains a JSON
        object that contains a member pair whose name is the string
        <tt>SWD_service_redirect</tt>
	whose value is a JSON object with a member pair
        whose name is <tt>location</tt>
	and whose value is a string that encodes a
        URI. Optionally the JSON object value of
	<tt>SWD_service_redirect</tt> MAY
        also contain a member whose name is <tt>expires</tt>
	and whose value is a
        JSON number that encodes an integer.
</p>
<p>The <tt>location</tt> member
	identifies the URI that the caller MUST
        redirect all SWD requests for that domain to until the
	<tt>expires</tt> time
        is met. SWD requests for the redirected domain MUST be constructed by
        taking the URI returned in the
	<tt>location</tt> and using it as the base URI
        to which the SWD form arguments are then added as query parameters.
        The location URI MUST NOT include a query component.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /.well-known/simple-web-discovery?principal=joe%40example.com
    &amp;service=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer
    HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-Type: application/json

{
 "SWD_service_redirect":
  {
   "location":"https://example.net/swd_server"
  }
}

GET /swd_server?principal=joe%40example.com
    &amp;service=http%3A%2F%2Fopenid.net%2Fspecs%2Fconnect%2F1.0%2Fissuer
    HTTP/1.1
Host: example.net

HTTP/1.1 200 OK
Content-Type: application/json

{
 "locations":["https://server.example.com"]
}</pre></div><p>

</p>
<a name="ProviderConfig"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Provider Configuration Information</h3>

<p>This step is optional. The OpenID Provider endpoints and
      configuration information may be obtained out-of-band.
</p>
<p>Using the <tt>issuer</tt> discovered in <a class='info' href='#ProviderDisc'>Section&nbsp;2<span> (</span><span class='info'>Provider Discovery</span><span>)</span></a> or through direct configuration, the OpenID
      Provider's configuration can be retrieved.
</p>
<p>OpenID Providers MUST make a JSON document available at the path formed by 
      concatenating the string 
      <tt>/.well-known/openid-configuration</tt> to the 
      <tt>issuer</tt>.
      The syntax and semantics of <tt>.well-known</tt> are defined in <a class='info' href='#RFC5785'>RFC 5785<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known Uniform Resource Identifiers (URIs),&rdquo; April&nbsp;2010.</span><span>)</span></a> [RFC5785]. <tt>openid-configuration</tt>
      MUST point to a JSON document compliant with this specification.
</p>
<p>OpenID Providers MUST support receiving SWD requests via TLS 1.2
      <a class='info' href='#RFC5246'>RFC 5246<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246] and/or TLS 1.0
      <a class='info' href='#RFC2246'>[RFC2246]<span> (</span><span class='info'>Dierks, T. and C. Allen, &ldquo;The TLS Protocol Version 1.0,&rdquo; January&nbsp;1999.</span><span>)</span></a> and MAY support other
      transport layer security mechanisms of equivalent security.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Provider Configuration Request</h3>

<p>An OpenID Provider Configuration Document MUST be queried using an HTTPS
        GET request at the previously specified path.
	The Client MUST perform a TLS/SSL server certificate check, per
	<a class='info' href='#RFC6125'>RFC 6125<span> (</span><span class='info'>Saint-Andre, P. and J. Hodges, &ldquo;Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS),&rdquo; March&nbsp;2011.</span><span>)</span></a> [RFC6125].
	
</p>
<p>The Client would make the following request to the <tt>issuer</tt> to get the Configuration information,
        if the issuer contains no path component.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /.well-known/openid-configuration HTTP/1.1
Host: example.com</pre></div><p>

</p>
<p>If the <tt>issuer</tt> value contains a path component any terminating 
        <tt>/</tt> MUST be removed before appending 
        <tt>/.well-known/openid-configuration</tt>.
        The Client would make the following request to the <tt>issuer</tt> to get the Configuration information,
        if the <tt>issuer</tt> string were <tt>https://example.com/issuer1</tt>
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>GET /issuer1/.well-known/openid-configuration HTTP/1.1
Host: example.com</pre></div><p>

</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Provider Configuration Response</h3>

<p>The response is a set of Claims about the OpenID Provider's
        configuration, including all necessary endpoints, supported scopes, and
        public key location information.
</p>
<p>The response MUST return a plain text JSON object that contains a
        set of Claims that are a subset of those defined below.
</p>
<p>Claims that return multiple values are JSON arrays. Claims with 0
        elements must be omitted from the response.
</p>
<p>Other Claims MAY also be returned.
</p><br /><hr class="insert" />
<a name="ClaimTable"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Claim</th><th align="left">Type</th><th align="left">Description</th></tr>
<tr>
<td align="left">version</td>
<td align="left">string</td>
<td align="left">Version of the provider response. "3.0" is the default.</td>
</tr>
<tr>
<td align="left">issuer</td>
<td align="left">string</td>
<td align="left">The https: URL with no query or fragment component that the OP asserts as its
          Issuer Identifier</td>
</tr>
<tr>
<td align="left">authorization_endpoint</td>
<td align="left">string</td>
<td align="left">URL of the OP's Authentication and Authorization Endpoint <a class='info' href='#OpenID.Messages'>[OpenID.Messages]<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Messages 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">token_endpoint</td>
<td align="left">string</td>
<td align="left">URL of the OP's OAuth 2.0 Token Endpoint <a class='info' href='#OpenID.Messages'>[OpenID.Messages]<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Messages 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">userinfo_endpoint</td>
<td align="left">string</td>
<td align="left">URL of the OP's UserInfo Endpoint <a class='info' href='#OpenID.Messages'>[OpenID.Messages]<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Messages 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">refresh_session_endpoint</td>
<td align="left">string</td>
<td align="left">URL of the OP's Refresh Session Endpoint <a class='info' href='#OpenID.Session'>[OpenID.Session]<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Session Management 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">end_session_endpoint</td>
<td align="left">string</td>
<td align="left">URL of the OP's End Session Endpoint <a class='info' href='#OpenID.Session'>[OpenID.Session]<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Session Management 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">jwk_url</td>
<td align="left">string</td>
<td align="left">URL of the OP's <a class='info' href='#JWK'>JSON Web Key<span> (</span><span class='info'>Jones, M., &ldquo;JSON Web Key (JWK),&rdquo; May&nbsp;2012.</span><span>)</span></a> [JWK]
          document. Server's signing Key</td>
</tr>
<tr>
<td align="left">jwk_encryption_url</td>
<td align="left">string</td>
<td align="left">URL of the OP's <a class='info' href='#JWK'>JSON Web Key<span> (</span><span class='info'>Jones, M., &ldquo;JSON Web Key (JWK),&rdquo; May&nbsp;2012.</span><span>)</span></a> [JWK]
          document. Server's Encryption Key, if not present, its value 
          is the same as the URL provided by <tt>jwk_url</tt></td>
</tr>
<tr>
<td align="left">x509_url</td>
<td align="left">string</td>
<td align="left">URL of the OP's X.509 certificates in PEM format.</td>
</tr>
<tr>
<td align="left">x509_encryption_url</td>
<td align="left">string</td>
<td align="left">URL of the OP's X.509 certificates in PEM format.
          Server's Encryption Key, if not present its value 
          is the same as the URL provided by <tt>x509_url</tt></td>
</tr>
<tr>
<td align="left">registration_endpoint</td>
<td align="left">string</td>
<td align="left">URL of the OP's Dynamic Client Registration Endpoint <a class='info' href='#OpenID.Registration'>[OpenID.Registration]<span> (</span><span class='info'>Sakimura, N., Bradley, J., and M. Jones, &ldquo;OpenID Connect Dynamic Client Registration 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">scopes_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; May&nbsp;2012.</span><span>)</span></a> [OAuth2.0] scope values that this server
          supports. The server MUST support the <tt>openid</tt>
          scope value.</td>
</tr>
<tr>
<td align="left">response_types_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the OAuth 2.0 
          <tt>response_type</tt> that this
          server supports. The server MUST support the <tt>code</tt>,
          <tt>id_token</tt>, and the <tt>token id_token</tt>
          <tt>response_type</tt>.</td>
</tr>
<tr>
<td align="left">acrs_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the Authentication Context Class References
          that this server supports.</td>
</tr>
<tr>
<td align="left">user_id_types_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the user identifier types that
          this server supports. Valid types include
	  <tt>pairwise</tt> and
	  <tt>public</tt>.</td>
</tr>
<tr>
<td align="left">userinfo_algs_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the
	  <a class='info' href='#JWS'>JWS<span> (</span><span class='info'>Jones, M., Bradley, J., and N. Sakimura, &ldquo;JSON Web Signature,&rdquo; May&nbsp;2012.</span><span>)</span></a> [JWS] and <a class='info' href='#JWE'>JWE<span> (</span><span class='info'>Jones, M., Rescorla, E., and J. Hildebrand, &ldquo;JSON Web Encryption (JWE),&rdquo; May&nbsp;2012.</span><span>)</span></a> [JWE]
	  signing and encryption algorithms <a class='info' href='#JWA'>[JWA]<span> (</span><span class='info'>Jones, M., &ldquo;JSON Web Algorithms,&rdquo; May&nbsp;2012.</span><span>)</span></a>
           supported by the UserInfo Endpoint
	   to encode the JWT <a class='info' href='#JWT'>[JWT]<span> (</span><span class='info'>Jones, M., Bradley, J., and N. Sakimura, &ldquo;JSON Web Token,&rdquo; May&nbsp;2012.</span><span>)</span></a>.</td>
</tr>
<tr>
<td align="left">id_token_algs_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the JWS and JWE
	  signing and encryption algorithms <a class='info' href='#JWA'>[JWA]<span> (</span><span class='info'>Jones, M., &ldquo;JSON Web Algorithms,&rdquo; May&nbsp;2012.</span><span>)</span></a>
           supported by the Authorization Server for the ID Token
	   to encode the JWT <a class='info' href='#JWT'>[JWT]<span> (</span><span class='info'>Jones, M., Bradley, J., and N. Sakimura, &ldquo;JSON Web Token,&rdquo; May&nbsp;2012.</span><span>)</span></a>.</td>
</tr>
<tr>
<td align="left">request_object_algs_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the JWS and JWE
	  signing and encryption algorithms <a class='info' href='#JWA'>[JWA]<span> (</span><span class='info'>Jones, M., &ldquo;JSON Web Algorithms,&rdquo; May&nbsp;2012.</span><span>)</span></a>
	  supported by the Authorization Server for the OpenID Request Object described in
	  Section 2.1.2.1 of <a class='info' href='#OpenID.Messages'>OpenID Connect Messages<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Messages 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a> [OpenID.Messages]
	  to encode the JWT <a class='info' href='#JWT'>[JWT]<span> (</span><span class='info'>Jones, M., Bradley, J., and N. Sakimura, &ldquo;JSON Web Token,&rdquo; May&nbsp;2012.</span><span>)</span></a>.
	  Servers SHOULD support <tt>RS256</tt>.</td>
</tr>
<tr>
<td align="left">token_endpoint_auth_types_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of authentication
	  types supported by this Token Endpoint. The options are <tt>client_secret_post</tt>, 
	  <tt>client_secret_basic</tt>, <tt>client_secret_jwt</tt>, and <tt>private_key_jwt</tt>, as described in
	  Section 2.2.1 of <a class='info' href='#OpenID.Messages'>OpenID Connect Messages 1.0<span> (</span><span class='info'>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;OpenID Connect Messages 1.0,&rdquo; May&nbsp;2012.</span><span>)</span></a> [OpenID.Messages].
	  Other Authentication types may be defined by extension. If unspecified or
	  omitted, the default is <tt>client_secret_basic</tt> HTTP Basic Authentication 
	  Scheme as specified in
	  Section 2.3.1 of <a class='info' href='#OAuth2.0'>OAuth 2.0<span> (</span><span class='info'>Hammer, E., Ed., Recordon, D., and D. Hardt, &ldquo;OAuth 2.0 Authorization Protocol,&rdquo; May&nbsp;2012.</span><span>)</span></a> [OAuth2.0].</td>
</tr>
<tr>
<td align="left">token_endpoint_auth_algs_supported</td>
<td align="left">array</td>
<td align="left">A JSON array containing a list of the JWS signing algorithms <a class='info' href='#JWA'>[JWA]<span> (</span><span class='info'>Jones, M., &ldquo;JSON Web Algorithms,&rdquo; May&nbsp;2012.</span><span>)</span></a>
           supported by the Token Endpoint for the <tt>private_key_jwt</tt> method
	   to encode the JWT <a class='info' href='#JWT'>[JWT]<span> (</span><span class='info'>Jones, M., Bradley, J., and N. Sakimura, &ldquo;JSON Web Token,&rdquo; May&nbsp;2012.</span><span>)</span></a>.
            Servers SHOULD support <tt>RS256</tt>.</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Reserved Claim Definitions&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Example response:
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>{
 "authorization_endpoint":
   "https://server.example.com/connect/authorize",
 "issuer":
   "https://server.example.com",
 "token_endpoint":
   "https://server.example.com/connect/token",
 "token_endpoint_auth_types_supported":
   ["client_secret_basic", "private_key_jwt"],
 "userinfo_endpoint":
   "https://server.example.com/connect/user",
 "refresh_session_endpoint":
   "https://server.example.com/connect/refresh_session",
 "end_session_endpoint":
   "https://server.example.com/connect/end_session",
 "jwk_url":
   "https://server.example.com/jwk.json",
 "registration_endpoint":
   "https://server.example.com/connect/register",
 "scopes_supported":
   ["openid", "profile", "email", "address", "phone"],
 "response_types_supported":
   ["code", "code id_token", "token id_token"],
 "acrs_supported":
   ["1","2","http://id.incommon.org/assurance/bronze"],
 "user_id_types_supported":
   ["public", "pairwise"],
 "userinfo_algs_supported":
   ["HS256", "RS256", "A128CBC", "A128KW", "RSA1_5"],
 "id_token_algs_supported":
   ["HS256", "RS256", "A128CBC", "A128KW", "RSA1_5"],
 "request_object_algs_supported":
   ["HS256", "RS256", "A128CBC", "A128KW", "RSA1_5"]
 }</pre></div><p>

</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Provider Configuration Verification</h3>

<p>If the configuration response contains the <tt>issuer</tt>
        element, the value MUST exactly match the <tt>issuer</tt>
        for the URL that was directly used to retrieve the configuration.
        Since the discovery process allows for multiple levels of <a class='info' href='#redirection'>redirection<span> (</span><span class='info'>Redirection</span><span>)</span></a>, this <tt>issuer</tt>
        URL may be different from the one originally used to begin the
        discovery process.
</p>
<a name="stringops"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
String Operations</h3>

<p>
	Processing some OpenID Connect messages requires comparing
	values in the messages to known values. For example, the
	member names in the provider configuration response might be
	compared to specific member names such as <tt>issuer</tt>.  Comparing Unicode strings,
	however, has significant security implications.
      
</p>
<p>
	Therefore, comparisons between JSON strings and other Unicode
	strings MUST be performed as specified below:

	</p>
<ol class="text">
<li>
	    Remove any JSON applied escaping to produce an array of
	    Unicode code points.
	  
</li>
<li>
	    <a class='info' href='#USA15'>Unicode Normalization<span> (</span><span class='info'>Davis, M., Whistler, K., and M. D&uuml;rst, &ldquo;Unicode Normalization Forms,&rdquo; 09&nbsp;2009.</span><span>)</span></a> [USA15] MUST NOT
	    be applied at any point to either the JSON string or to
	    the string it is to be compared against.
	  
</li>
<li>
	    Comparisons between the two strings MUST be performed as a
	    Unicode code point to code point equality comparison.
	  
</li>
</ol><p>
      
</p>
<p>
	In several places, this specification uses space delimited
	lists of strings.  In all such cases, only the ASCII space
	character (0x20) MAY be used for this purpose.
      
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
	Per <a class='info' href='#RFC5785'>RFC 5785<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known Uniform Resource Identifiers (URIs),&rdquo; April&nbsp;2010.</span><span>)</span></a> [RFC5785], the following
	registration is requested:
        </p>
<blockquote class="text"><dl>
<dt>URI suffix</dt>
<dd>openid-configuration
</dd>
<dt>Change controller</dt>
<dd>OpenID Foundation
</dd>
<dt>Specification document</dt>
<dd>This document
</dd>
</dl></blockquote><p>
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>TBD
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="JWA">[JWA]</a></td>
<td class="author-text">Jones, M., &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-jose-json-web-algorithms">JSON Web Algorithms</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="JWE">[JWE]</a></td>
<td class="author-text">Jones, M., Rescorla, E., and J. Hildebrand, &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-jose-json-web-encryption">JSON Web Encryption (JWE)</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="JWK">[JWK]</a></td>
<td class="author-text">Jones, M., &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-jose-json-web-key">JSON Web Key (JWK)</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="JWS">[JWS]</a></td>
<td class="author-text">Jones, M., Bradley, J., and N. Sakimura, &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-jose-json-web-signature">JSON Web Signature</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="JWT">[JWT]</a></td>
<td class="author-text">Jones, M., Bradley, J., and N. Sakimura, &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-oauth-json-web-token">JSON Web Token</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="OAuth2.0">[OAuth2.0]</a></td>
<td class="author-text">Hammer, E., Ed., Recordon, D., and D. Hardt, &ldquo;<a href="http://tools.ietf.org/html/draft-ietf-oauth-v2">OAuth 2.0 Authorization Protocol</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Messages">[OpenID.Messages]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;<a href="http://openid.net/specs/openid-connect-messages-1_0.html">OpenID Connect Messages 1.0</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Registration">[OpenID.Registration]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., and M. Jones, &ldquo;<a href="http://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenID.Session">[OpenID.Session]</a></td>
<td class="author-text">Sakimura, N., Bradley, J., Jones, M., de Medeiros, B., Mortimore, C., and E. Jay, &ldquo;<a href="http://openid.net/specs/openid-connect-session-1_0.html">OpenID Connect Session Management 1.0</a>,&rdquo; May&nbsp;2012.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2246">[RFC2246]</a></td>
<td class="author-text"><a href="mailto:tdierks@certicom.com">Dierks, T.</a> and <a href="mailto:callen@certicom.com">C. Allen</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2246">The TLS Protocol Version 1.0</a>,&rdquo; RFC&nbsp;2246, January&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2246.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5246">[RFC5246]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,&rdquo; RFC&nbsp;5246, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5322">[RFC5322]</a></td>
<td class="author-text"><a href="mailto:presnick@qualcomm.com">Resnick, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>,&rdquo; RFC&nbsp;5322, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5322.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc5322.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc5322.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5785">[RFC5785]</a></td>
<td class="author-text">Nottingham, M. and E. Hammer-Lahav, &ldquo;<a href="http://tools.ietf.org/html/rfc5785">Defining Well-Known Uniform Resource Identifiers (URIs)</a>,&rdquo; RFC&nbsp;5785, April&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5785.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC6125">[RFC6125]</a></td>
<td class="author-text">Saint-Andre, P. and J. Hodges, &ldquo;<a href="http://tools.ietf.org/html/rfc6125">Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS)</a>,&rdquo; RFC&nbsp;6125, March&nbsp;2011 (<a href="http://www.rfc-editor.org/rfc/rfc6125.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SWD">[SWD]</a></td>
<td class="author-text">Jones, M. and Y. Goland, &ldquo;<a href="http://tools.ietf.org/html/draft-jones-simple-web-discovery">Simple Web Discovery</a>,&rdquo; December&nbsp;2011.</td></tr>
<tr><td class="author-text" valign="top"><a name="USA15">[USA15]</a></td>
<td class="author-text"><a href="mailto:markdavis@google.com">Davis, M.</a>, <a href="mailto:ken@unicode.org">Whistler, K.</a>, and M. D&uuml;rst, &ldquo;Unicode Normalization Forms,&rdquo; Unicode Standard Annex&nbsp;15, 09&nbsp;2009.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="XRI_Syntax_2.0">[XRI_Syntax_2.0]</a></td>
<td class="author-text">Reed, D. and D. McAlpin, &ldquo;Extensible Resource Identifier (XRI) Syntax V2.0,&rdquo; November&nbsp;2005 (<a href="http://www.oasis-open.org/committees/download.php/15376/xri-syntax-V2.0-cs.html">HTML</a>, <a href="http://www.oasis-open.org/committees/download.php/15377/xri-syntax-V2.0-cs.pdf">PDF</a>).</td></tr>
</table>

<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Notices</h3>

<p>Copyright (c) 2012 The OpenID Foundation.
</p>
<p>
	The OpenID Foundation (OIDF) grants to any Contributor, developer, 
	implementer, or other interested party a non-exclusive, royalty free, 
	worldwide copyright license to reproduce, prepare derivative works from, 
	distribute, perform and display, this Implementers Draft or 
	Final Specification solely for the purposes of (i) developing 
	specifications, and (ii) implementing Implementers Drafts and 
	Final Specifications based on such documents, provided that attribution 
	be made to the OIDF as the source of the material, but that such attribution 
	does not indicate an endorsement by the OIDF.
      
</p>
<p>
	The technology described in this specification was 
	made available from contributions from various sources, 
	including members of the OpenID Foundation and others.  
	Although the OpenID Foundation has taken steps to help ensure 
	that the technology is available for distribution, it takes 
	no position regarding the validity or scope of any intellectual 
	property or other rights that might be claimed to pertain to 
	the implementation or use of the technology described in 
	this specification or the extent to which any license under 
	such rights might or might not be available; neither does it 
	represent that it has made any independent effort to identify 
	any such rights.  The OpenID Foundation and the contributors 
	to this specification make no (and hereby expressly disclaim any) 
	warranties (express, implied, or otherwise), including implied 
	warranties of merchantability, non-infringement, fitness for 
	a particular purpose, or title, related to this specification, 
	and the entire risk as to implementing this specification is 
	assumed by the implementer.  The OpenID Intellectual 
	Property Rights policy requires contributors to offer 
	a patent promise not to assert certain patent claims against 
	other contributors and against implementers.  The OpenID Foundation invites 
	any interested party to bring to its attention any copyrights, 
	patents, patent applications, or other proprietary rights 
	that may cover technology that may be required to practice 
	this specification.
      
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Document History</h3>

<p>[[ To be removed from the final specification ]]
</p>
<p>-09</p>
<ul class="text">
<li>Removed Check ID Endpoint, per issue #570
</li>
<li>Added PAPE Reference to the Informative References, per issue #574
</li>
<li>Added "id_token" response type as being MTI for OpenID Providers
</li>
<li>Changed default OpenID Request Object signing algorithm to RS256, per issue #571
</li>
<li>Use standards track version of JSON Web Token spec
	  (draft-ietf-oauth-json-web-token)
</li>
</ul>

<p>-08</p>
<ul class="text">
<li>Remove the no path component restriction from issuer, per issue #513
</li>
<li>Updated Notices
</li>
<li>Updated References
</li>
</ul>

<p>-07</p>
<ul class="text">
<li>Rename iso29115_supported to acrs_supported
</li>
<li>Rename jwk_document to jwk_url
</li>
<li>specify full email address to be used for the principal parameter
</li>
<li>Added token_endpoint_auth_types_supported for list of Token Endpoint authentication types
</li>
<li>Added token_endpoint_auth_algs_supported for Token Endpoint supported authentication algorithms
</li>
<li>Added 'pairwise' and 'public' to supported identifier types
</li>
<li>Added valid signature and encryption algorithms for OpenID Request Object 
</li>
<li>Added URLs for JWK and X509 encryption keys
</li>
<li>Use RFC 6125 to verify TLS endpoints
</li>
<li>Removed fallback mechanism when discovery endpoint is unreachable
</li>
<li>Removed Account URI scheme
</li>
<li>Changed 'contact' to 'contacts', 'redirect_uri' to 'redirect_uris'
</li>
<li>Added section about string comparison rules needed
</li>
<li>Allows extensions to identifier normalization via specifications
</li>
<li>Clarifies the host in a URL
</li>
<li>Update John Bradley email and affiliation for Implementer's Draft
</li>
<li>Change flows_supported to response_types_supported
</li>
<li>Register openid-configuration .well-known path in IANA Considerations
</li>
<li>Corrected instances of x509_url_encryption to x509_encryption_url
	  and jwk_url_encryption to jwk_encryption_url
</li>
</ul>

<p>-06</p>
<ul class="text">
<li>Changed Check Session Endpoint to Check ID Endpoint to match
          Basic.
</li>
<li>Changed certs_url to x509_url to match registration and JWE
          format.
</li>
</ul>

<p>-05</p>
<ul class="text">
<li>Ticket #46 Added text to 3.3
</li>
<li>Deleted duplicate check session endpoint from 4.2
</li>
<li>Ticket #40 Added clarification of issuer url to 4.2
</li>
<li>Ticket #39 Cleaned up issuer examples and added verification
          text.
</li>
</ul>

<p>-04 </p>
<ul class="text">
<li>Changes associated with renaming "Lite" to "Basic Client" and
          replacing "Core" and "Framework" with "Messages" and "Standard".
</li>
<li>Numerous cleanups, including updating references.
</li>
</ul>

<p>-03 </p>
<ul class="text">
<li>Corrected examples.
</li>
</ul>

<p>-02 </p>
<ul class="text">
<li>Correct issues raised by Johnny Bufu and discussed on the
          7-Jul-11 working group call.
</li>
</ul>

<p>-01 </p>
<ul class="text">
<li>Incorporate working group decisions from 5-Jul-11 spec call.
</li>
<li>Consistency and cleanup pass, including removing unused
          references.
</li>
</ul>

<p>-00 </p>
<ul class="text">
<li>Initial version based upon former openid-connect-swd-1_0
          spec.
</li>
</ul>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nat Sakimura</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nomura Research Institute,
      Ltd.</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:n-sakimura@nri.co.jp">n-sakimura@nri.co.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">John Bradley</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ping Identity</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ve7jtb@ve7jtb.com">ve7jtb@ve7jtb.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael B. Jones</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mbj@microsoft.com">mbj@microsoft.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Edmund Jay</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Illumila</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ejay@mgi1.com">ejay@mgi1.com</a></td></tr>
</table>
</body></html>
