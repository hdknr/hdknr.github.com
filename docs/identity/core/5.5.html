

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5.5. Requesting Claims using the “claims” Request Parameter &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <link rel="stylesheet" href="../static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>5.5. Requesting Claims using the “claims” Request Parameter</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="requesting-claims-using-the-claims-request-parameter">
<h1>5.5.  Requesting Claims using the &#8220;claims&#8221; Request Parameter<a class="headerlink" href="#requesting-claims-using-the-claims-request-parameter" title="Permalink to this headline">¶</a></h1>
<p>OpenID Connect defines the following Authorization Request parameter
to enable requesting individual Claims
and specifying parameters that apply to the requested Claims:</p>
<p>The claims Authentication Request parameter requests that
specific Claims be returned from the UserInfo Endpoint and/or in the ID Token.
It is represented as a JSON object containing lists
of Claims being requested from these locations.
Properties of the Claims being requested MAY also be specified.</p>
<p>Support for the claims parameter is OPTIONAL.
Should an OP not support this parameter and an RP uses it,
the OP SHOULD return a set of Claims to the RP that
it believes would be useful to the RP and the End-User
using whatever heuristics it believes are appropriate.
The <a class="reference internal" href="../discovery.html#term-claims-parameter-supported"><em class="xref std std-term">claims_parameter_supported</em></a> Discovery result
indicates whether the OP supports this parameter.</p>
<p>The claims parameter value is represented in an OAuth 2.0 request
as UTF-8 encoded JSON
(which ends up being form-urlencoded when passed as an OAuth parameter).
When used in a Request Object value, per Section 6.1,
the JSON is used as the value of the claims member.</p>
<p>The top-level members of the Claims request JSON object are:</p>
<dl class="glossary docutils">
<dt id="term-userinfo">userinfo</dt>
<dd><p class="first">OPTIONAL.</p>
<p>Requests that the listed individual Claims be returned
from the UserInfo Endpoint.</p>
<p>If present,
the listed Claims are being requested to be added to any Claims
that are being requested using scope values.</p>
<p>If not present,
the Claims being requested from the UserInfo Endpoint are
only those requested using scope values.</p>
<p class="last">When the userinfo member is used,
the request MUST also use a <a class="reference internal" href="../standard.html#term-response-type"><em class="xref std std-term">response_type</em></a> value
that results in an Access Token being issued
to the Client for use at the UserInfo Endpoint.</p>
</dd>
<dt id="term-id-token">id_token</dt>
<dd><p class="first">OPTIONAL.</p>
<p>Requests that the listed individual Claims be returned
in the ID Token.</p>
<p>If present,
the listed Claims are being requested to be added
to the default Claims in the ID Token.</p>
<p class="last">If not present,
the default ID Token Claims are requested,
as per the ID Token definition in Section 2
and per the additional per-flow ID Token requirements
in Sections 3.1.3.6, 3.2.2.10, 3.3.2.11, and 3.3.3.6.</p>
</dd>
</dl>
<p>Other members MAY be present. Any members used that are not understood MUST be ignored.</p>
<p>An example Claims request is as follows:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
 <span class="s2">&quot;userinfo&quot;</span><span class="o">:</span>
  <span class="p">{</span>
   <span class="s2">&quot;given_name&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;essential&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
   <span class="s2">&quot;nickname&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
   <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;essential&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
   <span class="s2">&quot;email_verified&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;essential&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
   <span class="s2">&quot;picture&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
   <span class="s2">&quot;http://example.info/claims/groups&quot;</span><span class="o">:</span> <span class="kc">null</span>
  <span class="p">},</span>
 <span class="s2">&quot;id_token&quot;</span><span class="o">:</span>
  <span class="p">{</span>
   <span class="s2">&quot;auth_time&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;essential&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
   <span class="s2">&quot;acr&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;values&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;urn:mace:incommon:iap:silver&quot;</span><span class="p">]</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that a Claim that is not in the standard set defined in Section 5.1,
the (example) <a class="reference external" href="http://example.info/claims/groups">http://example.info/claims/groups</a> Claim, is being requested.
Using the claims parameter is the only way to request Claims outside the standard set.
It is also the only way to request specific combinations
of the standard Claims that cannot be specified using scope values.</p>
<p>(draft17)</p>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>