

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenID Connect Standard 1.0 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="OpenID Connect Messages 1.0" href="messages.html" />
    <link rel="prev" title="OpenID Connect Basic Client 1.0" href="basic.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>OpenID Connect Standard 1.0</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="basic.html">OpenID Connect Basic Client 1.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="messages.html">OpenID Connect Messages 1.0</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="openid-connect-standard-1-0">
<h1><a class="toc-backref" href="#id19">OpenID Connect Standard 1.0</a><a class="headerlink" href="#openid-connect-standard-1-0" title="Permalink to this headline">¶</a></h1>
<p>Based on <a class="reference external" href="http://openid.bitbucket.org/openid-connect-standard-1_0.html">OpenID Connect Standard 1.0 - draft 07</a>
(December 22, 2011)</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Now Draft 08 ( February 27, 2012 )</p>
</div>
<div class="section" id="abstract">
<span id="standard-abstract"></span><h2><a class="toc-backref" href="#id20">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>OpenID Connect 1.0 is a simple identity layer
on top of the <a class="reference internal" href="glossary.html#term-oauth"><em class="xref std std-term">OAuth</em></a> 2.0 protocol.
It allows <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> to verify the identity of the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>
based on the authentication performed by an <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>,
as well as to obtain basic profile information about the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>
in an interoperable <a class="footnote-reference" href="#id2" id="id1">[1]</a>  and <a class="reference internal" href="glossary.html#term-restful-manner"><em class="xref std std-term">RESTful manner</em></a>.</p>
<p>OpenID Connect Standard 1.0 is an HTTP protocol binding
for <a class="reference internal" href="messages.html"><em>OpenID Connect Messages 1.0</em></a> request and response messages.</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>How interoperable ?</td></tr>
</tbody>
</table>
<p>(draft 07, 2011-12-22)</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#openid-connect-standard-1-0" id="id19">OpenID Connect Standard 1.0</a><ul>
<li><a class="reference internal" href="#abstract" id="id20">Abstract</a></li>
<li><a class="reference internal" href="#introduction" id="id21">1.  Introduction</a><ul>
<li><a class="reference internal" href="#requirements-notation-and-conventions" id="id22">1.1.  Requirements Notation and Conventions</a></li>
<li><a class="reference internal" href="#terminology" id="id23">1.2.  Terminology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authorization-endpoint" id="id24">2.  Authorization Endpoint</a><ul>
<li><a class="reference internal" href="#openid-connect-scopes" id="id25">2.1.  OpenID Connect Scopes</a></li>
<li><a class="reference internal" href="#protocol-flows" id="id26">2.2.  Protocol Flows</a><ul>
<li><a class="reference internal" href="#how-to-get-an-authorization-code-access-token-and-id-token" id="id27">2.2.1.  How to Get an Authorization Code, Access Token, and ID Token</a></li>
<li><a class="reference internal" href="#authorization-code-flow" id="id28">2.2.2.  Authorization Code Flow</a></li>
<li><a class="reference internal" href="#implicit-flow" id="id29">2.2.3.  Implicit Flow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#authorization-request" id="id30">2.3.  Authorization Request</a><ul>
<li><a class="reference internal" href="#client-prepares-an-authorization-request" id="id31">2.3.1.  Client Prepares an Authorization Request</a><ul>
<li><a class="reference internal" href="#simple-request-method" id="id32">2.3.1.1.  Simple Request Method</a></li>
<li><a class="reference internal" href="#request-parameter-method" id="id33">2.3.1.2.  Request Parameter Method</a><ul>
<li><a class="reference internal" href="#client-sends-a-request-to-the-authorization-server" id="id34">2.3.1.2.1.  Client Sends a Request to the Authorization Server</a></li>
</ul>
</li>
<li><a class="reference internal" href="#request-file-method" id="id35">2.3.1.3.  Request File Method</a><ul>
<li><a class="reference internal" href="#client-generates-the-url-of-the-request-file" id="id36">2.3.1.3.1.  Client Generates the URL of the Request File</a></li>
<li><a class="reference internal" href="#client-sends-a-request-to-authorization-server-via-https-redirect" id="id37">2.3.1.3.2.  Client Sends a Request to Authorization Server via HTTPS Redirect</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#authorization-server-validates-request-object" id="id38">2.3.2.  Authorization Server Validates Request Object</a></li>
<li><a class="reference internal" href="#authorization-server-authenticates-the-end-user" id="id39">2.3.3.  Authorization Server Authenticates the End-User</a></li>
<li><a class="reference internal" href="#authorization-server-obtains-the-end-user-consent-authorization" id="id40">2.3.4.  Authorization Server Obtains the End-User Consent/Authorization</a></li>
<li><a class="reference internal" href="#authorization-server-sends-the-end-user-back-to-the-client" id="id41">2.3.5.  Authorization Server Sends the End-User Back to the Client</a><ul>
<li><a class="reference internal" href="#end-user-grants-authorization" id="id42">2.3.5.1.  End-User Grants Authorization</a></li>
<li><a class="reference internal" href="#end-user-denies-authorization-or-invalid-request" id="id43">2.3.5.2.  End-User Denies Authorization or Invalid Request</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#token-endpoint" id="id44">3.  Token Endpoint</a><ul>
<li><a class="reference internal" href="#requesting-an-access-token" id="id45">3.1.  Requesting an Access Token</a><ul>
<li><a class="reference internal" href="#access-token-request" id="id46">3.1.1.  Access Token Request</a></li>
<li><a class="reference internal" href="#access-token-response" id="id47">3.1.2.  Access Token Response</a></li>
<li><a class="reference internal" href="#access-token-error-response" id="id48">3.1.3.  Access Token Error Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#refreshing-an-access-token" id="id49">3.2.  Refreshing an Access Token</a><ul>
<li><a class="reference internal" href="#refresh-token-response" id="id50">3.2.1.  Refresh Token Response</a></li>
<li><a class="reference internal" href="#refresh-token-error-response" id="id51">3.2.2.  Refresh Token Error Response</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#check-id-endpoint" id="id52">4.  Check ID Endpoint</a><ul>
<li><a class="reference internal" href="#check-id-request" id="id53">4.1.  Check ID Request</a></li>
<li><a class="reference internal" href="#check-id-response" id="id54">4.2.  Check ID Response</a><ul>
<li><a class="reference internal" href="#response-verification" id="id55">4.2.1.  Response Verification</a></li>
</ul>
</li>
<li><a class="reference internal" href="#check-id-error-response" id="id56">4.3.  Check ID Error Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#userinfo-endpoint" id="id57">5.  UserInfo Endpoint</a><ul>
<li><a class="reference internal" href="#userinfo-request" id="id58">5.1.  UserInfo Request</a></li>
<li><a class="reference internal" href="#userinfo-response" id="id59">5.2.  UserInfo Response</a></li>
<li><a class="reference internal" href="#userinfo-error-response" id="id60">5.3.  UserInfo Error Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#discovery-and-registration" id="id61">6.  Discovery and Registration</a><ul>
<li><a class="reference internal" href="#standard-6-1" id="id62">6.1.  UserInfo Request</a></li>
<li><a class="reference internal" href="#standard-6-2" id="id63">6.2.  UserInfo Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#serializations" id="id64">7.  Serializations</a><ul>
<li><a class="reference internal" href="#query-string-serialization" id="id65">7.1.  Query String Serialization</a></li>
<li><a class="reference internal" href="#form-serialization" id="id66">7.2.  Form Serialization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-considerations" id="id67">8.  Security Considerations</a><ul>
<li><a class="reference internal" href="#implicit-grant-flow-threats" id="id68">8.1.  Implicit Grant Flow Threats</a></li>
</ul>
</li>
<li><a class="reference internal" href="#privacy-considerations" id="id69">9.  Privacy Considerations</a></li>
<li><a class="reference internal" href="#iana-considerations" id="id70">10.  IANA Considerations</a><ul>
<li><a class="reference internal" href="#oauth-parameters-registry" id="id71">10.1.  OAuth Parameters Registry</a><ul>
<li><a class="reference internal" href="#scope-parameters" id="id72">10.1.1.  Scope Parameters</a></li>
<li><a class="reference internal" href="#authorization-request-parameter-display" id="id73">10.1.2.  Authorization Request Parameter (display)</a></li>
<li><a class="reference internal" href="#authorization-request-parameter-prompt" id="id74">10.1.3.  Authorization Request Parameter (prompt)</a></li>
<li><a class="reference internal" href="#authorization-request-parameter-nonce" id="id75">10.1.4.  Authorization Request Parameter (nonce)</a></li>
<li><a class="reference internal" href="#authorization-request-parameter-request" id="id76">10.1.5.  Authorization Request Parameter (request)</a></li>
<li><a class="reference internal" href="#authorization-request-parameter-request-uri" id="id77">10.1.6.  Authorization Request Parameter (request_uri)</a></li>
<li><a class="reference internal" href="#standard-10-1-7" id="id78">10.1.7.  ID Token Response Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#oauth-extensions-error-registry" id="id79">10.2.  OAuth Extensions Error Registry</a><ul>
<li><a class="reference internal" href="#authorization-endpoint-error-invalid-request-redirect-uri" id="id80">10.2.1.  Authorization Endpoint Error (invalid_request_redirect_uri)</a></li>
<li><a class="reference internal" href="#authorization-endpoint-error-login-required" id="id81">10.2.2.  Authorization Endpoint Error (login_required)</a></li>
<li><a class="reference internal" href="#authorization-endpoint-error-session-selection-required" id="id82">10.2.3.  Authorization Endpoint Error (session_selection_required)</a></li>
<li><a class="reference internal" href="#authorization-endpoint-error-consent-required" id="id83">10.2.4.  Authorization Endpoint Error (consent_required)</a></li>
<li><a class="reference internal" href="#authorization-endpoint-error-user-mismatched" id="id84">10.2.5.  Authorization Endpoint Error (user_mismatched)</a></li>
<li><a class="reference internal" href="#authorization-endpoint-error-invalid-request-request-uri" id="id85">10.2.6.  Authorization Endpoint Error (invalid_request_request_uri)</a></li>
<li><a class="reference internal" href="#authorization-endpoint-error-invalid-openid-request-object" id="id86">10.2.7.  Authorization Endpoint Error (invalid_openid_request_object)</a></li>
<li><a class="reference internal" href="#token-endpoint-error-invalid-authorization-code" id="id87">10.2.8.  Token Endpoint Error (invalid_authorization_code)</a></li>
<li><a class="reference internal" href="#userinfo-endpoint-error-invalid-schema" id="id88">10.2.9.  UserInfo Endpoint Error (invalid_schema)</a></li>
<li><a class="reference internal" href="#check-id-endpoint-error-invalid-id-token" id="id89">10.2.10.  Check ID Endpoint Error (invalid_id_token)</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#normative-references" id="id90">11. Normative References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="introduction">
<span id="standard-1"></span><h2><a class="toc-backref" href="#id21">1.  Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This specification describes
the binding of the HTTP protocol with the endpoints
described in OpenID Connect Messages [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>(draft 07)</p>
<div class="section" id="requirements-notation-and-conventions">
<span id="standard-1-1"></span><h3><a class="toc-backref" href="#id22">1.1.  Requirements Notation and Conventions</a><a class="headerlink" href="#requirements-notation-and-conventions" title="Permalink to this headline">¶</a></h3>
<p>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this document are to be interpreted as described in [RFC2119] .</p>
<p>Throughout this document, values are quoted to indicate that they are to be taken literally. When using these values in protocol messages, the quotes MUST NOT be used as part of the value.</p>
<p>(draft 07)</p>
</div>
<div class="section" id="terminology">
<span id="standard-1-2"></span><h3><a class="toc-backref" href="#id23">1.2.  Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>This specification uses the terms
&#8220;<a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>&#8221;, &#8220;<a class="reference internal" href="glossary.html#term-refresh-token"><em class="xref std std-term">Refresh Token</em></a>&#8221;,
&#8220;<a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>&#8221;,
&#8220;<a class="reference internal" href="oauth.html#term-authorization-grant"><em class="xref std std-term">Authorization Grant</em></a>&#8221;,
&#8220;<a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>&#8221;,
&#8220;<a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>&#8221;,
&#8220;<a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>&#8221;,
&#8220;<a class="reference internal" href="session.html#term-client-identifier"><em class="xref std std-term">Client Identifier</em></a>&#8221;,
&#8220;<a class="reference internal" href="glossary.html#term-219"><em class="xref std std-term">Client Secret</em></a>&#8221;,
&#8220;<a class="reference internal" href="uma_core.html#term-protected-resource"><em class="xref std std-term">Protected Resource</em></a>&#8221;,
&#8220;<a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a>&#8221;,
&#8220;<a class="reference internal" href="oauth.html#term-resource-server"><em class="xref std std-term">Resource Server</em></a>&#8221;, and
&#8220;<a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>&#8221;
defined by <a class="reference internal" href="glossary.html#term-oauth"><em class="xref std std-term">OAuth</em></a> 2.0 [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>],
and the terms defined by OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].
This specification also defines the following terms:</p>
<dl class="glossary docutils">
<dt id="term-request-file">Request File</dt>
<dd>A document whose contents is a <a class="reference internal" href="#term-jwt"><em class="xref std std-term">JWT</em></a> representing a set of <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> parameters.</dd>
<dt id="term-request-file-uri">Request File URI</dt>
<dd>A URL that references a <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a>.
The <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a> contents MUST be retrievable by the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.</dd>
</dl>
<p>(draft 07, 2011-12-22)</p>
</div>
</div>
<div class="section" id="authorization-endpoint">
<span id="standard-2"></span><h2><a class="toc-backref" href="#id24">2.  Authorization Endpoint</a><a class="headerlink" href="#authorization-endpoint" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a> performs authentication services for the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>
and requests authorization from the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> to release information to OpenID Connect <em class="xref std std-term">Relying Party Clients</em>.
When an <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> accesses a <em class="xref std std-term">Relying Party Client</em> application
which requires the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>&#8216;s identifier and other information,
it sends the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> to the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>&#8216;s <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>
for authentication and authorization.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> then issues
an <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> which asserts the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>&#8216;s identifier and
an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> which allows the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> to access the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>&#8216;s information
at <a class="reference internal" href="uma_core.html#term-protected-resource"><em class="xref std std-term">Protected Resource</em></a> endpoints.
<a class="reference internal" href="uma_core.html#term-protected-resource"><em class="xref std std-term">Protected Resource</em></a> endpoints MAY perform different actions or return different information
based on the <a class="reference internal" href="uma_core.html#term-58"><em class="xref std std-term">scopes</em></a> associated with the presented <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.
<a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> MUST specify how the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> and <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> are to be returned
using the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>.</p>
<p>(draft 07)</p>
<div class="section" id="openid-connect-scopes">
<span id="standard-2-1"></span><h3><a class="toc-backref" href="#id25">2.1.  OpenID Connect Scopes</a><a class="headerlink" href="#openid-connect-scopes" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> MUST specify
the desired <a class="reference internal" href="uma_core.html#term-58"><em class="xref std std-term">scopes</em></a> in an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">authorization request</em></a> to obtain an Access Token with the proper permissions.</p>
<p><a class="reference internal" href="uma_core.html#term-58"><em class="xref std std-term">Scopes</em></a> names defined for OpenID Connect are in <a class="reference internal" href="messages.html#messages-2-1-1"><em>Section 2.1.2</em></a> of
OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].
OAuth 2.0 allows additional <a class="reference internal" href="uma_core.html#term-58"><em class="xref std std-term">scopes</em></a> to be specified as extensions.</p>
<p>OpenID Connect&#8217;s <a class="reference internal" href="uma_core.html#term-scope"><em class="xref std std-term">scope</em></a> use is consistent with <a class="reference internal" href="oauth.html#oauth-3-3"><em>Section 3.3</em></a> of OAuth 2.0 [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].</p>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MAY fully or partially ignore the <a class="reference internal" href="uma_core.html#term-scope"><em class="xref std std-term">scope</em></a>
requested by the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> based on the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> policy <a class="footnote-reference" href="#id6" id="id3">[2]</a> or the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>&#8216;s instructions <a class="footnote-reference" href="#id7" id="id4">[3]</a>.</p>
<p>To increase new account activation,
a <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> may elect to only request a subset of the information available from the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a>.</p>
<p>The following is a non-normative example of a <em class="xref std std-term">Scope Request</em> <a class="footnote-reference" href="#id8" id="id5">[4]</a> .</p>
<div class="highlight-python"><pre>scope=openid profile email phone</pre>
</div>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>Policy sample ?</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[3]</a></td><td>Instruction at authetication and conscent process ?</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[4]</a></td><td>&#8220;Scope Request&#8221; ?</td></tr>
</tbody>
</table>
<p>(draft 07)</p>
</div>
<div class="section" id="protocol-flows">
<span id="standard-2-2"></span><h3><a class="toc-backref" href="#id26">2.2.  Protocol Flows</a><a class="headerlink" href="#protocol-flows" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="glossary.html#term-authorization-requests"><em class="xref std std-term">Authorization Requests</em></a> follow two main paths to obtain <a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a> and <a class="reference internal" href="glossary.html#term-id-tokens"><em class="xref std std-term">ID Tokens</em></a>,
the <a class="reference internal" href="glossary.html#term-implicit-flow"><em class="xref std std-term">Implicit Flow</em></a> and the <a class="reference internal" href="glossary.html#term-authorization-code-flow"><em class="xref std std-term">Authorization Code Flow</em></a>.
The flows determine how the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> and <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> are returned to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.
<a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a> are credentials used to access <a class="reference internal" href="glossary.html#term-protected-resources"><em class="xref std std-term">Protected Resources</em></a>,
as defined in <a class="reference internal" href="oauth.html#oauth-1-4"><em>section 1.4</em></a>  of OAuth 2.0 [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].
<a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a> represent a <a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a>&#8216;s authorization
and MUST NOT be exposed to unauthorized parties.</p>
<p>The <a class="reference internal" href="glossary.html#term-implicit-flow"><em class="xref std std-term">Implicit Flow</em></a> is mainly used by <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> implemented in a browser
using a scripting language.
The <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> and <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> are returned directly to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>,
which MAY expose them to the <a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a> and other applications
which have access to the <a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a>&#8216;s User-Agent.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> does not perform <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> authentication
before issuing the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</p>
<p>The <a class="reference internal" href="glossary.html#term-authorization-code-flow"><em class="xref std std-term">Authorization Code Flow</em></a> returns an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a> to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>,
which can then exchange it for an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> directly.
This provides the added benefit of not exposing the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> to the <a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a>
and possibly other malicious applications with access to the <a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a>&#8216;s User-Agent.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> can also authenticate the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>
before <a class="footnote-reference" href="#id10" id="id9">[5]</a> exchanging the <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a> for an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.
The <a class="reference internal" href="glossary.html#term-authorization-code-flow"><em class="xref std std-term">Authorization Code flow</em></a> is suitable for <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a>
that can securely maintain a <a class="reference internal" href="glossary.html#term-219"><em class="xref std std-term">Client Secret</em></a> between themselves
and the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> whereas the <a class="reference internal" href="glossary.html#term-implicit-flow"><em class="xref std std-term">Implicit flow</em></a> is suitable for <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> that cannot.</p>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[5]</a></td><td>&#8220;at the time when&#8221; ?</td></tr>
</tbody>
</table>
<p>(draft 07)</p>
<div class="section" id="how-to-get-an-authorization-code-access-token-and-id-token">
<span id="standard-2-2-1"></span><h4><a class="toc-backref" href="#id27">2.2.1.  How to Get an Authorization Code, Access Token, and ID Token</a><a class="headerlink" href="#how-to-get-an-authorization-code-access-token-and-id-token" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> specification documents two <a class="reference internal" href="glossary.html#term-response-types"><em class="xref std std-term">response types</em></a>:</p>
<dl class="glossary docutils">
<dt id="term-code">code</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>
as defined in the OAuth 2.0 specification.
Both successful and error responses MUST be added as parameters
to the <a class="reference internal" href="glossary.html#term-query-component"><em class="xref std std-term">query component</em></a> of the response.
All tokens are returned from the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>.
<a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST support this <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a>.</dd>
<dt id="term-token">token</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>
as defined in the <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> specification.
Both successful and error responses MUST be <em class="xref std std-term">fragment-encoded</em>.
No <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> is provided to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.</dd>
</dl>
<p>OpenID Connect supports these additional flows [<a class="reference internal" href="messages.html#term-response-types"><em class="xref std std-term">RESPONSE.TYPES</em></a>] that have been registered:</p>
<dl class="glossary docutils">
<dt id="term-id-token">id_token</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include an <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>.
Both successful and error responses SHOULD be <em class="xref std std-term">fragment-encoded</em>.
<a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> SHOULD support this <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a>.</dd>
<dt id="term-id-token-token">id_token token</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include both an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> as well as an <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>.
Both successful and error responses SHOULD be <em class="xref std std-term">fragment-encoded</em>.
<a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST support this <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a>.</dd>
<dt id="term-code-token">code token</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include both an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> and an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>
as defined in the <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> specification.
Both successful and error responses SHOULD be <em class="xref std std-term">fragment-encoded</em>.</dd>
<dt id="term-code-id-token">code id_token</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include both an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>
as well as an <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>.
Both successful and error responses SHOULD be <em class="xref std std-term">fragment-encoded</em>.</dd>
<dt id="term-code-id-token-token">code id_token token</dt>
<dd>When supplied as the value for the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter,
a successful response MUST include an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>,
an <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>, and an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.
Both successful and error responses SHOULD be <em class="xref std std-term">fragment-encoded</em>.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <strong>response_types_supported</strong> in <a class="reference internal" href="discovery.html#discovery-3-1"><em>3.1.  Provider Configuration Request</em></a></p>
</div>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST support both the code and the &#8216;<a class="reference internal" href="#term-id-token-token"><em class="xref std std-term">id_token token</em></a>&#8216; <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a>.</p>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> may request any <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> registered response type supported by the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.</p>
<p>(draft 08, <a class="reference external" href="http://openid.bitbucket.org/openid-connect-standard-1_0.html#retrieving_code_token">http://openid.bitbucket.org/openid-connect-standard-1_0.html#retrieving_code_token</a>)</p>
</div>
<div class="section" id="authorization-code-flow">
<span id="standard-2-2-2"></span><h4><a class="toc-backref" href="#id28">2.2.2.  Authorization Code Flow</a><a class="headerlink" href="#authorization-code-flow" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="glossary.html#term-authorization-code-flow"><em class="xref std std-term">Authorization Code Flow</em></a> goes through the following steps.</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> containing the desired request parameters.</li>
<li><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> sends a request to the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.</li>
<li><a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> Authenticates the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>.</li>
<li><a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> Obtains the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> Consent/Authorization.</li>
<li><a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> Sends the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> back to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> with an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>.</li>
<li><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> requests a response using the <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a> at the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>.</li>
<li><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> receives a response which contains an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> and <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> in the response body.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> validates the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> at the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a>.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> receives <em class="xref std std-term">ID Token Response</em> with the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>&#8216;s identifier.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> accesses the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> with the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> receives <a class="reference internal" href="glossary.html#term-userinfo-response"><em class="xref std std-term">UserInfo Response</em></a>.</li>
</ol>
</div></blockquote>
<p>Note that in each step,
the party that receives a message MUST verify it according to the verification rule set
in OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>(draft 07)</p>
</div>
<div class="section" id="implicit-flow">
<span id="standard-2-2-3"></span><h4><a class="toc-backref" href="#id29">2.2.3.  Implicit Flow</a><a class="headerlink" href="#implicit-flow" title="Permalink to this headline">¶</a></h4>
<p>The implicit flow follows the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> containing the desired request parameters.</li>
<li><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> sends a request to the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.</li>
<li><a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> Authenticates the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>.</li>
<li><a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> Obtains the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> Consent/Authorization.</li>
<li><a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> Sends the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> back to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>
with an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> and an <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> if requested.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> validates the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> at the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a>.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> receives <em class="xref std std-term">ID Token Response</em> with the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>&#8216;s identifier.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> accesses the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> with the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</li>
<li>(OPTIONAL) <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> receives <a class="reference internal" href="glossary.html#term-userinfo-response"><em class="xref std std-term">UserInfo Response</em></a>.</li>
</ol>
</div></blockquote>
<p>Note that in each step,
the party that receives a message MUST verify it according to the verification rule set
in OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="authorization-request">
<span id="standard-2-3"></span><h3><a class="toc-backref" href="#id30">2.3.  Authorization Request</a><a class="headerlink" href="#authorization-request" title="Permalink to this headline">¶</a></h3>
<p>When the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> wishes to access a <a class="reference internal" href="uma_core.html#term-protected-resource"><em class="xref std std-term">Protected Resource</em></a>,
and the <em class="xref std std-term">End-User Authorization</em> has not yet been obtained,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>.</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST require the use of a transport-layer security mechanism
at the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST support TLS 1.2 as described in RFC 5246 [<a class="reference internal" href="#term-rfc5246"><em class="xref std std-term">RFC5246</em></a>]
and MAY support other transport-layer mechanisms with equivalent security.</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST support the use of the HTTP &#8220;GET&#8221; and &#8220;POST&#8221; methods
defined in RFC 2616 [<a class="reference internal" href="#term-rfc2616"><em class="xref std std-term">RFC2616</em></a>] at the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>.</p>
<p><a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> MAY use the HTTP &#8220;GET&#8221; or &#8220;POST&#8221; method
to send the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> to the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.
If using the HTTP &#8220;GET&#8221; method,
the request parameters are serialized using <a class="reference internal" href="glossary.html#term-uri-query-string-serialization"><em class="xref std std-term">URI query string serialization</em></a>.
If using the HTTP &#8220;POST&#8221; method,
the request parameters are serialized using <em class="xref std std-term">form serialization</em>.</p>
<p>(draft 07)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">An anonymous session  may be provided to an user agent, and bind the Authorization Request to it.
Session key MUST be unique to every each use agent, and not be hijaked by others as an web application.</p>
</div>
<div class="section" id="client-prepares-an-authorization-request">
<span id="standard-2-3-1"></span><h4><a class="toc-backref" href="#id31">2.3.1.  Client Prepares an Authorization Request</a><a class="headerlink" href="#client-prepares-an-authorization-request" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a> with the request parameters
using the HTTP &#8220;GET&#8221; or &#8220;POST&#8221; method.
The scheme used in the <em class="xref std std-term">Authorization URL</em> MUST be HTTPS.
The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST perform a TLS/SSL server certificate check,
per RFC 6125 [<a class="reference internal" href="#term-rfc6125"><em class="xref std std-term">RFC6125</em></a>].</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Check the OP X.509 certificate when an Authorization Request is being provided at a Client.</p>
</div>
<p>The required <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> parameters are as follows:</p>
<dl class="glossary docutils">
<dt id="term-response-type">response_type</dt>
<dd><p class="first">An <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> registered <a class="reference internal" href="oauth_responses.html#term-response-type"><em class="xref std std-term">response type</em></a>
that determines how the <a class="reference internal" href="glossary.html#term-authorization-response"><em class="xref std std-term">Authorization Response</em></a> is returned to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.
As described in
<a class="reference internal" href="#standard-2-2-1"><em>How to Get an Authorization Code, Access Token, and ID Token (2.2.1)</em></a>,
the following registered values are supported:</p>
<blockquote class="last">
<div><ul class="simple">
<li>code</li>
<li>code id_token</li>
<li>id_token</li>
<li>token</li>
<li>token id_token</li>
<li>code token</li>
<li>code token id_token</li>
</ul>
</div></blockquote>
</dd>
<dt id="term-client-id">client_id</dt>
<dd>The client identifier.</dd>
<dt id="term-scope">scope</dt>
<dd>It MUST include <a class="reference internal" href="glossary.html#term-openid"><em class="xref std std-term">openid</em></a> as one of the <strong>space delimited</strong> ASCII strings.
Other values that MAY be included are <a class="reference internal" href="messages.html#term-profile"><em class="xref std std-term">profile</em></a>, and <a class="reference internal" href="messages.html#term-email"><em class="xref std std-term">email</em></a>, <a class="reference internal" href="messages.html#term-address"><em class="xref std std-term">address</em></a>.
The values specify an additive list of <a class="reference internal" href="messages.html#term-claims"><em class="xref std std-term">Claims</em></a>
that are returned by the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> as described
by <em class="xref std std-ref">OpenID Connect Scopes (2.1) &lt;standard_2_1&gt;`</em>.</dd>
<dt id="term-redirect-uri">redirect_uri</dt>
<dd>A redirection URI where the response will be sent.
The Scheme, Host, and Path segments of this URI MUST match
one of the <a class="reference internal" href="reg.html#term-redirect-uris"><em class="xref std std-term">redirect_uris</em></a> registered for the <a class="reference internal" href="#term-client-id"><em class="xref std std-term">client_id</em></a>
in the OpenID Connect Dynamic Client Registration 1.0 [<a class="reference internal" href="#term-openid-registration"><em class="xref std std-term">OpenID.Registration</em></a>] specification.</dd>
<dt id="term-nonce">nonce</dt>
<dd>A string value used to associate a browser session with a <a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a>,
and to mitigate replay attacks.
The value is passed through unmodified to the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>.
One method is to store a random value as a signed session cookie,
and pass the value in the nonce paramater.
The nonce in the returned <a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a> is compared to
the signed session cookie to detect <a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a> replay by third parties.</dd>
</dl>
<p>The request can contain the following OPTIONAL parameters:</p>
<dl class="glossary docutils">
<dt id="term-state">state</dt>
<dd>An opaque value used to maintain state between the request and the callback.</dd>
<dt id="term-request">request</dt>
<dd>A JWT [<a class="reference internal" href="#term-jwt"><em class="xref std std-term">JWT</em></a>] encoded OpenID Request Object.</dd>
<dt id="term-request-uri">request_uri</dt>
<dd>A URL that points to an <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>.</dd>
<dt id="term-display">display</dt>
<dd>An ASCII string value that specifies how the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>
displays the authentication page to the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>.
Refer to <a class="reference internal" href="messages.html#messages-2-1-2"><em>Sec 2.1.2 of OpenID Connect Messages 1.0</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
for more information.</dd>
<dt id="term-prompt">prompt</dt>
<dd>A space delimited list of ASCII strings that can contain the values
<em class="xref std std-term">login</em>, <em class="xref std std-term">consent</em>, <em class="xref std std-term">select_account</em>, and <a class="reference internal" href="oauth_responses.html#term-none"><em class="xref std std-term">none</em></a>.
Refer to OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>] for more information.</dd>
</dl>
<p>There are three methods to construct and send the request to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Simple Request Method</li>
<li>Request Parameter Method</li>
<li>Request File Method</li>
</ol>
</div></blockquote>
<p>The <a class="reference internal" href="glossary.html#term-simple-request-method"><em class="xref std std-term">Simple Request Method</em></a> is used in simple cases
when default <a class="reference internal" href="messages.html#term-userinfo"><em class="xref std std-term">UserInfo</em></a> and <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> Claims are desired.</p>
<p>The <a class="reference internal" href="glossary.html#term-request-parameter-method"><em class="xref std std-term">Request Parameter Method</em></a> is used
by sending an <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>
when the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> desires to retrieve a different set of <a class="reference internal" href="messages.html#term-userinfo"><em class="xref std std-term">UserInfo</em></a> and <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> Claims.
The request parameter method also allows requests to be signed or encrypted.</p>
<p>The <em class="xref std std-term">Request File Method</em> works similar to the <a class="reference internal" href="glossary.html#term-request-parameter-method"><em class="xref std std-term">Request Parameter Method</em></a>
but differs in that it sends an URL as a reference to the <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>.
It enables large requests to be sent securely and compactly even on browsers with limited capabilities.
<a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> SHOULD use the <em class="xref std std-term">Request File Method</em> to minimize the request size.</p>
<p>(draft 07)</p>
<div class="section" id="simple-request-method">
<span id="standard-2-3-1-1"></span><h5><a class="toc-backref" href="#id32">2.3.1.1.  Simple Request Method</a><a class="headerlink" href="#simple-request-method" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a> using the appropriate parameters.
If using the HTTP &#8220;GET&#8221; method,
the request parameters are serialized using <a class="reference internal" href="glossary.html#term-uri-query-string-serialization"><em class="xref std std-term">URI query string serialization</em></a>.
If using the HTTP &#8220;POST&#8221; method,
the request parameters are serialized using <em class="xref std std-term">form serialization</em>.</p>
<p>The following is a non-normative example of an <em class="xref std std-term">Authorization Request URL</em>.
Note that the line wraps within the values are for display purpose only:</p>
<div class="highlight-python"><pre>https://server.example.com/op/authorize?
response_type=code%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="request-parameter-method">
<span id="standard-2-3-1-2"></span><h5><a class="toc-backref" href="#id33">2.3.1.2.  Request Parameter Method</a><a class="headerlink" href="#request-parameter-method" title="Permalink to this headline">¶</a></h5>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a> using the appropriate HTTP parameters serialization.
The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> SHOULD construct the request using the HTTP &#8220;POST&#8221; method, but MAY use the HTTP &#8220;GET&#8221; method.</p>
<p>The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> MUST include the <a class="reference internal" href="#term-request"><em class="xref std std-term">request</em></a> parameter
defined in the <a class="reference internal" href="#standard-2-3-1"><em>Client Prepares an Authorization Request</em></a> section (2.3.1).
The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> MUST NOT include the <a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a> parameter.</p>
<p>The <a class="reference internal" href="#term-request"><em class="xref std std-term">request</em></a> parameter is a JWT [<a class="reference internal" href="#term-jwt"><em class="xref std std-term">JWT</em></a>] encoded <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>
which contains the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
and also specifies the content of the responses returned from the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo</em></a>
and <em class="xref std std-term">Check ID Endpoints</em>.
The JWT object MAY be signed or signed and encrypted via JWS [<a class="reference internal" href="#term-jws"><em class="xref std std-term">JWS</em></a>] and JWE [<a class="reference internal" href="#term-jwe"><em class="xref std std-term">JWE</em></a>] respectively,
thereby providing authentication, integrity, non-repudiation and/or confidentiality.</p>
<p>All <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> parameters that are part of the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
excluding the <a class="reference internal" href="#term-request"><em class="xref std std-term">request</em></a>, <a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a>, , <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a>,
<a class="reference internal" href="#term-29"><em class="xref std std-term">state</em></a>, , <a class="reference internal" href="#term-client-id"><em class="xref std std-term">client_id</em></a> and <a class="reference internal" href="#term-nonce"><em class="xref std std-term">nonce</em></a> parameters
MUST also be JSON Serialized into the <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a> with the same values.
This allows the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> to send signed and/or encrypted requests
to the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> and maintain conformance to OAuth 2.0.</p>
<p>The <a class="reference internal" href="#term-client-id"><em class="xref std std-term">client_id</em></a> , <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a>, <a class="reference internal" href="#term-29"><em class="xref std std-term">state</em></a>, , and <a class="reference internal" href="#term-nonce"><em class="xref std std-term">nonce</em></a> parameters
MAY also be included in the <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>.</p>
<p>The following is a non-normative example of an <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a> before JWT encoding.
Note that the line wraps within the values are for display purpose only:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
 <span class="s2">&quot;response_type&quot;</span><span class="o">:</span> <span class="s2">&quot;code%20id_token&quot;</span><span class="p">,</span>
 <span class="s2">&quot;client_id&quot;</span><span class="o">:</span> <span class="s2">&quot;s6BhdRkqt3&quot;</span><span class="p">,</span>
 <span class="s2">&quot;redirect_uri&quot;</span><span class="o">:</span> <span class="s2">&quot;https://client.example.com/cb&quot;</span><span class="p">,</span>
 <span class="s2">&quot;scope&quot;</span><span class="o">:</span> <span class="s2">&quot;openid profile&quot;</span><span class="p">,</span>
 <span class="s2">&quot;state&quot;</span><span class="o">:</span> <span class="s2">&quot;af0ifjsldkj&quot;</span><span class="p">,</span>
 <span class="s2">&quot;nonce&quot;</span><span class="o">:</span> <span class="s2">&quot;n-0S6_WzA2Mj&quot;</span><span class="p">,</span>
 <span class="s2">&quot;userinfo&quot;</span><span class="o">:</span>
   <span class="p">{</span>
     <span class="s2">&quot;claims&quot;</span><span class="o">:</span>
       <span class="p">{</span>
         <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
         <span class="s2">&quot;nickname&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;optional&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">},</span>
         <span class="s2">&quot;email&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
         <span class="s2">&quot;verified&quot;</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
         <span class="s2">&quot;picture&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;optional&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">}</span>
       <span class="p">}</span>
   <span class="p">},</span>
 <span class="s2">&quot;id_token&quot;</span><span class="o">:</span>
   <span class="p">{</span>
     <span class="s2">&quot;max_age&quot;</span><span class="o">:</span> <span class="mi">86400</span><span class="p">,</span>
     <span class="s2">&quot;iso29115&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following is a non-normative example of a JWT [<a class="reference internal" href="#term-jwt"><em class="xref std std-term">JWT</em></a>] encoded <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>.
Note that the line wraps within the values are for display purpose only:</p>
<div class="highlight-javascript"><pre>JWT algorithm = HS256
HMAC HASH Key = 'aaa'

JSON Encoded Header = "{"alg":"HS256","typ":"JWT"}"
JSON Encoded Payload = "{"response_type":"code id_token",
    "client_id":"s6BhdRkqt3",
    "redirect_uri":"https://client.example.com/cb",
    "scope":"openid profile",
    "state":"af0ifjsldkj",
    "nonce":"n-0S6_WzA2Mj",
    "userinfo":{"claims":{"name":null,"nickname":{"optional":true},
        "email":null,"verified":null,
        "picture":{"optional":true}}},
    "id_token":{"max_age":86400,"iso29115":"2"}}"

JWT = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyZXNwb25zZV90eXBlIjoiY29kZ
    SBpZF90b2tlbiIsImNsaWVudF9pZCI6InM2QmhkUmtxdDMiLCJyZWRpcmVjdF91cmkiO
    iJodHRwczpcL1wvY2xpZW50LmV4YW1wbGUuY29tXC9jYiIsInNjb3BlIjoib3BlbmlkI
    HByb2ZpbGUiLCJzdGF0ZSI6ImFmMGlmanNsZGtqIiwidXNlcmluZm8iOnsiY2xhaW1zI
    jp7Im5hbWUiOm51bGwsIm5pY2tuYW1lIjp7Im9wdGlvbmFsIjp0cnVlfSwiZW1haWwiO
    m51bGwsInZlcmlmaWVkIjpudWxsLCJwaWN0dXJlIjp7Im9wdGlvbmFsIjp0cnVlfX0sI
    mZvcm1hdCI6InNpZ25lZCJ9LCJpZF90b2tlbiI6eyJtYXhfYWdlIjo4NjQwMCwiaXNvM
    jkxMTUiOiIyIn19.2OiqRgrbrHkA1FZ5p_7bc_RSdTbH-wo_Agk-ZRpD3wY</pre>
</div>
<p>The following is a non-normative example of an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
with the <em class="xref std std-term">OpenID Request Method</em>.
Note that the line wraps within the values are for display purpose only:</p>
<div class="highlight-python"><pre>https://server.example.com/authorize?
response_type=code%02id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;state=af0ifjsldkj
&amp;nonce=n-0S6_WzA2Mj
&amp;request=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyZXNwb25zZV90eXBlIjoiY2
9kZSBpZF90b2tlbiIsImNsaWVudF9pZCI6InM2QmhkUmtxdDMiLCJyZWRpcmVjdF91cmkiOi
JodHRwczpcL1wvY2xpZW50LmV4YW1wbGUuY29tXC9jYiIsInNjb3BlIjoib3BlbmlkIHByb2
ZpbGUiLCJzdGF0ZSI6ImFmMGlmanNsZGtqIiwidXNlcmluZm8iOnsiY2xhaW1zIjp7Im5hbW
UiOm51bGwsIm5pY2tuYW1lIjp7Im9wdGlvbmFsIjp0cnVlfSwiZW1haWwiOm51bGwsInZlcm
lmaWVkIjpudWxsLCJwaWN0dXJlIjp7Im9wdGlvbmFsIjp0cnVlfX0sImZvcm1hdCI6InNpZ2
5lZCJ9LCJpZF90b2tlbiI6eyJtYXhfYWdlIjo4NjQwMCwiaXNvMjkxMTUiOiIyIn19.2OiqR
grbrHkA1FZ5p_7bc_RSdTbH-wo_Agk-ZRpD3wY</pre>
</div>
<p>(draft 07)</p>
<div class="section" id="client-sends-a-request-to-the-authorization-server">
<span id="standard-2-3-1-2-1"></span><h6><a class="toc-backref" href="#id34">2.3.1.2.1.  Client Sends a Request to the Authorization Server</a><a class="headerlink" href="#client-sends-a-request-to-the-authorization-server" title="Permalink to this headline">¶</a></h6>
<p>Having constructed the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> sends it to the HTTPS <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>.
This MAY happen via HTTPS redirect, hyperlinking,
or any other means of directing the User-Agent to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>.</p>
<p>Following is a non-normative example using HTTP redirect.
Note: Line wraps are for display purpose only.</p>
<div class="highlight-python"><pre>HTTP/1.1 302 Found
Location: https://server.example.com/authorize?
response_type=code%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;state=af0ifjsldkj
&amp;nonce=n-0S6_WzA2Mj
&amp;request=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyZXNwb25zZV90eXBlIjoiY2
9kZSBpZF90b2tlbiIsImNsaWVudF9pZCI6InM2QmhkUmtxdDMiLCJyZWRpcmVjdF91cmkiOi
JodHRwczpcL1wvY2xpZW50LmV4YW1wbGUuY29tXC9jYiIsInNjb3BlIjoib3BlbmlkIHByb2
ZpbGUiLCJzdGF0ZSI6ImFmMGlmanNsZGtqIiwidXNlcmluZm8iOnsiY2xhaW1zIjp7Im5hbW
UiOm51bGwsIm5pY2tuYW1lIjp7Im9wdGlvbmFsIjp0cnVlfSwiZW1haWwiOm51bGwsInZlcm
lmaWVkIjpudWxsLCJwaWN0dXJlIjp7Im9wdGlvbmFsIjp0cnVlfX0sImZvcm1hdCI6InNpZ2
5lZCJ9LCJpZF90b2tlbiI6eyJtYXhfYWdlIjo4NjQwMCwiaXNvMjkxMTUiOiIyIn19.2OiqR
grbrHkA1FZ5p_7bc_RSdTbH-wo_Agk-ZRpD3wY</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="request-file-method">
<span id="standard-2-3-1-3"></span><h5><a class="toc-backref" href="#id35">2.3.1.3.  Request File Method</a><a class="headerlink" href="#request-file-method" title="Permalink to this headline">¶</a></h5>
<p>The <em class="xref std std-term">Request File Method</em> differs from the other methods
in that it uses a <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a> that contains a <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>.
It then sends the <em class="xref std std-term">Request File URL</em> as part of <em class="xref std std-term">the Authorization Request</em>.</p>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> prepares an <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
using the desired HTTP &#8220;GET&#8221; or &#8220;POST&#8221; method.
The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> SHOULD use the HTTP &#8220;GET&#8221; method,
but MAY use the HTTP &#8220;POST&#8221; method.
The scheme used in the <em class="xref std std-term">Authorization URL</em> MUST be HTTPS.
The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST perform a TLS/SSL server certificate check,
per RFC 6125 [<a class="reference internal" href="#term-rfc6125"><em class="xref std std-term">RFC6125</em></a>].</p>
<p>The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> MUST NOT include the <a class="reference internal" href="#term-request"><em class="xref std std-term">request</em></a> parameter.
The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> MUST include the request_uri parameter.
The target of the URL is a JWT which is a <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a>.
The scheme used in the request_uri value MUST be HTTPS,
unless the target JWT is signed in a way that is verifiable by the Authorization server.
The <a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a> value MUST be reachable by the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>,
and SHOULD be reachable by the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.</p>
<p>All <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> parameters
that are part of the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
excluding the request parameter MUST also be JSON Serialized
into the <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a> with the same values.
This allows the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> to send signed and/or encrypted requests
to the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> and maintain conformance to <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a>.
The <a class="reference internal" href="messages.html#term-openid-request-object"><em class="xref std std-term">OpenID Request Object</em></a> MAY be signed and encrypted
via JWS [<a class="reference internal" href="#term-jws"><em class="xref std std-term">JWS</em></a>] and JWE [<a class="reference internal" href="#term-jwe"><em class="xref std std-term">JWE</em></a>] respectively,
thereby providing authentication, integrity, non-repudiation and/or confidentiality.</p>
<p>Following is a non-normative example of a <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a>.
Note that the line wraps within the values are for display purpose only:</p>
<div class="highlight-python"><pre>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJyZXNwb25zZV90eXBlIjoiY29kZSBpZF9
0b2tlbiIsImNsaWVudF9pZCI6InM2QmhkUmtxdDMiLCJyZWRpcmVjdF91cmkiOiJodHRwczp
cL1wvY2xpZW50LmV4YW1wbGUuY29tXC9jYiIsInNjb3BlIjoib3BlbmlkIHByb2ZpbGUiLCJ
zdGF0ZSI6ImFmMGlmanNsZGtqIiwidXNlcmluZm8iOnsiY2xhaW1zIjp7Im5hbWUiOm51bGw
sIm5pY2tuYW1lIjp7Im9wdGlvbmFsIjp0cnVlfSwiZW1haWwiOm51bGwsInZlcmlmaWVkIjp
udWxsLCJwaWN0dXJlIjp7Im9wdGlvbmFsIjp0cnVlfX0sImZvcm1hdCI6InNpZ25lZCJ9LCJ
pZF90b2tlbiI6eyJtYXhfYWdlIjo4NjQwMCwiaXNvMjkxMTUiOiIyIn19.2OiqRgrbrHkA1F
Z5p_7bc_RSdTbH-wo_Agk-ZRpD3wY</pre>
</div>
<p>(draft 07)</p>
<div class="section" id="client-generates-the-url-of-the-request-file">
<span id="standard-2-3-1-3-1"></span><h6><a class="toc-backref" href="#id36">2.3.1.3.1.  Client Generates the URL of the Request File</a><a class="headerlink" href="#client-generates-the-url-of-the-request-file" title="Permalink to this headline">¶</a></h6>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> then stores the <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a>
either locally or remotely.
This is the <em class="xref std std-term">Request URI</em>, &#8220;<a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a>&#8221;.
The URI MAY be appended with the SHA256 [<em class="xref std std-term">FIPS180-2</em>]
hash of the file after &#8220;#&#8221; so that the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> can detect whether the file has changed.
&#8220;#&#8221; MUST be escaped.</p>
<p>It should be noted that
if the <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a> includes user&#8217;s attribute values,
it MUST NOT be revealed to anybody but the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.
As such, the &#8220;<a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a>&#8221; MUST have an appropriate entropy for its lifetime,
and must be removed after successful authentication or a reasonable timeout.</p>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> then records the <a class="reference internal" href="#term-request-file"><em class="xref std std-term">Request File</em></a> either locally or remotely
and obtains the <a class="reference internal" href="#term-request-file-uri"><em class="xref std std-term">Request File URI</em></a>, &#8220;<a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a>&#8221;.</p>
<p>(draft 07)</p>
</div>
<div class="section" id="client-sends-a-request-to-authorization-server-via-https-redirect">
<span id="standard-2-3-1-3-2"></span><h6><a class="toc-backref" href="#id37">2.3.1.3.2.  Client Sends a Request to Authorization Server via HTTPS Redirect</a><a class="headerlink" href="#client-sends-a-request-to-authorization-server-via-https-redirect" title="Permalink to this headline">¶</a></h6>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> sends
the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> to the <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a>.</p>
<p>The entire URL MUST NOT exceed 512 bytes.</p>
<p>Following is a non-normative example. Note: Line wraps are for display purpose only:</p>
<div class="highlight-python"><pre>HTTP/1.1 302 Found
Location: https://server.example.com/authorize
?response_type=code%20id_token
&amp;cliend_id=s6BhdRkqt3
&amp;request_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Frf%2Ejs
&amp;state=af0ifjsldkj&amp;nonce=n-0S6_WzA2Mj&amp;scope=openid</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
</div>
<div class="section" id="authorization-server-validates-request-object">
<span id="standard-2-3-2"></span><h4><a class="toc-backref" href="#id38">2.3.2.  Authorization Server Validates Request Object</a><a class="headerlink" href="#authorization-server-validates-request-object" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> validates the request
according to the <a class="reference internal" href="messages.html#messages-5-1"><em>Section 5.1 of OpenID Connect Messages 1.0</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-server-authenticates-the-end-user">
<span id="standard-2-3-3"></span><h4><a class="toc-backref" href="#id39">2.3.3.  Authorization Server Authenticates the End-User</a><a class="headerlink" href="#authorization-server-authenticates-the-end-user" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> validates the request
to ensure all required parameters are present and valid.
If the request is valid,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST authenticate the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>.
The way in which the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> authenticates the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>
(e.g. username and password login, session cookies) is beyond the scope of this specification.
An authentication user interface MAY be displayed by the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>
depending on the authentication method used.</p>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST attempt to authenticate the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> in the following cases:</p>
<blockquote>
<div><ul class="simple">
<li>The <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> is not already authenticated by the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>.</li>
<li>The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> contains the <a class="reference internal" href="#term-prompt"><em class="xref std std-term">prompt</em></a> parameter with the value &#8220;<em class="xref std std-term">login</em>&#8221;.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST reauthenticate the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> even if the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> is already authenticated.</li>
</ul>
</div></blockquote>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST NOT attempt authentication in the following cases:</p>
<blockquote>
<div><ul class="simple">
<li>The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> contains the &#8220;<a class="reference internal" href="#term-prompt"><em class="xref std std-term">prompt</em></a>&#8221; parameter
with the value &#8220;<a class="reference internal" href="oauth_responses.html#term-none"><em class="xref std std-term">none</em></a>&#8221;.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST return an error if the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> is unauthenticated.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">&#8220;none&#8221; ask User to have already authenticated and logged in to OP before he starts Connect activities.</p>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-server-obtains-the-end-user-consent-authorization">
<span id="standard-2-3-4"></span><h4><a class="toc-backref" href="#id40">2.3.4.  Authorization Server Obtains the End-User Consent/Authorization</a><a class="headerlink" href="#authorization-server-obtains-the-end-user-consent-authorization" title="Permalink to this headline">¶</a></h4>
<p>Once the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> is authenticated,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST obtain an authorization decision.
This MAY be done by presenting the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> with a dialogue
that allows the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> to recognize
what he is consenting to
and obtain his consent or by establishing consent via other means (for example, via previous administrative consent).</p>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST attempt to request authorization from the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> in the following cases:</p>
<blockquote>
<div><ul class="simple">
<li>The <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> has not pre-authorized the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> for the authorization request.</li>
<li>The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> contains the prompt parameter with the value &#8220;<em class="xref std std-term">consent</em>&#8221;.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST request <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> authorization
even if the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> has previously authorized the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.</li>
</ul>
</div></blockquote>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST NOT request <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> authorization in the following cases:</p>
<blockquote>
<div><ul class="simple">
<li>The <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> contains the &#8220;<a class="reference internal" href="#term-prompt"><em class="xref std std-term">prompt</em></a>&#8221; parameter with the value &#8220;<a class="reference internal" href="oauth_responses.html#term-none"><em class="xref std std-term">none</em></a>&#8221;.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST return an error if the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> has not pre-authorized the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-server-sends-the-end-user-back-to-the-client">
<span id="standard-2-3-5"></span><h4><a class="toc-backref" href="#id41">2.3.5.  Authorization Server Sends the End-User Back to the Client</a><a class="headerlink" href="#authorization-server-sends-the-end-user-back-to-the-client" title="Permalink to this headline">¶</a></h4>
<p>Once the authorization is determined,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> returns a successful or error response.</p>
<p>(draft 07)</p>
<div class="section" id="end-user-grants-authorization">
<span id="standard-2-3-5-1"></span><h5><a class="toc-backref" href="#id42">2.3.5.1.  End-User Grants Authorization</a><a class="headerlink" href="#end-user-grants-authorization" title="Permalink to this headline">¶</a></h5>
<p>If the <a class="reference internal" href="oauth.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a> grants the access request,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> issues an <a class="reference internal" href="glossary.html#term-authorization-response"><em class="xref std std-term">Authorization Response</em></a>
and delivers it to the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> by adding the response parameters
to <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> specified
in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> using the &#8220;<strong>application/x-www-form-urlencoded</strong>&#8221; format.</p>
<p>If the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> includes the string value &#8220;<a class="reference internal" href="#term-19"><em class="xref std std-term">code</em></a>&#8221;,
the following response parameters are included:</p>
<dl class="glossary docutils">
<dt id="term-19">code</dt>
<dd>REQUIRED. The <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>.</dd>
</dl>
<p>Upon receipt of the &#8220;<a class="reference internal" href="#term-19"><em class="xref std std-term">code</em></a>&#8221;,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> requests a response that includes the &#8220;<a class="reference internal" href="#term-30"><em class="xref std std-term">access_token</em></a>&#8221; and other variables. [#]
The requests and responses are described in the <a class="reference internal" href="#standard-3"><em>Token Endpoint</em></a> (3) section.</p>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id12">[6]</a></td><td>Token request ?</td></tr>
</tbody>
</table>
<p>If the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> includes the string value &#8220;<a class="reference internal" href="#term-token"><em class="xref std std-term">token</em></a>&#8221;,
the following response parameters are included:</p>
<dl class="glossary docutils">
<dt id="term-access-token">access_token</dt>
<dd>REQUIRED. The <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</dd>
<dt id="term-token-type">token_type</dt>
<dd>REQUIRED. This specification only supports the <a class="reference internal" href="oauth_threat.html#term-bearer-token"><em class="xref std std-term">Bearer Token</em></a> [<a class="reference internal" href="glossary.html#term-oauth2-0bearer"><em class="xref std std-term">OAuth2.0Bearer</em></a>] scheme.
As such, this value MUST be set to &#8220;<a class="reference internal" href="glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a>&#8221;.</dd>
<dt id="term-expires-in">expires_in</dt>
<dd>OPTIONAL. The <strong>lifetime</strong> in <strong>seconds</strong> of the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</dd>
<dt id="term-23">scope</dt>
<dd>OPTIONAL. The <strong>scopes</strong> of the issued <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</dd>
</dl>
<p>If the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter
in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> includes the string value &#8220;<a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a>&#8221;,
the following response parameters are returned:</p>
<dl class="glossary docutils">
<dt id="term-24">id_token</dt>
<dd>REQUIRED. The <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> of the for the authentication session.</dd>
</dl>
<p>The response parameters MAY also be include:</p>
<dl class="glossary docutils">
<dt id="term-25">state</dt>
<dd>REQUIRED if the <a class="reference internal" href="#term-29"><em class="xref std std-term">state</em></a> parameter is present in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>.
Set it to the exact value of the state parameter received from the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.</dd>
</dl>
<p>No other parameter SHOULD be returned.</p>
<p>If the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter
in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> includes the string value &#8220;<a class="reference internal" href="#term-token"><em class="xref std std-term">token</em></a>&#8221; or &#8220;<a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a>&#8221;,
all response parameters MUST be added to the <em class="xref std std-term">fragment component</em> of the <a class="reference internal" href="glossary.html#term-redirection-uri"><em class="xref std std-term">redirection URI</em></a>.
Otherwise,
the response parameters are added to the <a class="reference internal" href="glossary.html#term-query-component"><em class="xref std std-term">query component</em></a> of the <a class="reference internal" href="glossary.html#term-redirection-uri"><em class="xref std std-term">redirection URI</em></a>.</p>
<p>The following are non-normative examples of requests with differing <em class="xref std std-term">return_type</em> values
and their responses. Line wraps are for display purpose only:</p>
<div class="highlight-python"><pre>https://server.example.com/op/authorize?
response_type=code
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj


HTTP/1.1 302 Found
Location: https://client.example.com/cb?
code=Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
&amp;state=af0ifjsldkj

https://server.example.com/op/authorize?
response_type=token%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj


HTTP/1.1 302 Found
Location: https://client.example.com/cb#
access_token=jHkWEdUXMU1BwAsC4vtUsZwnNvTIxEl0z9K3vx5KF0Y
&amp;token_type=Bearer
&amp;id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC9zZ
XJ2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIjoiaHR0c
DpcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0vzDH3T1
G3liaTNOrfaeWYjuRCEPNXVtaazNQ
&amp;state=af0ifjsldkj

https://server.example.com/op/authorize?
response_type=code%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj


HTTP/1.1 302 Found
Location: https://client.example.com/cb#
code=Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
&amp;id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC9zZ
XJ2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIjoiaHR0c
DpcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0vzDH3T1
G3liaTNOrfaeWYjuRCEPNXVtaazNQ
&amp;state=af0ifjsldkj

https://server.example.com/op/authorize?
response_type=token%20code
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj


HTTP/1.1 302 Found
Location: https://client.example.com/cb#
code=Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
&amp;access_token=jHkWEdUXMU1BwAsC4vtUsZwnNvTIxEl0z9K3vx5KF0Y
&amp;token_type=Bearer
&amp;state=af0ifjsldkj

https://server.example.com/op/authorize?
response_type=token%20code%20id_token
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb
&amp;scope=openid
&amp;nonce=n-0S6_WzA2Mj
&amp;state=af0ifjsldkj


HTTP/1.1 302 Found
Location: https://client.example.com/cb#
code=Qcb0Orv1zh30vL1MPRsbm-diHiMwcLyZvn1arpZv-Jxf_11jnpEX3Tgfvk
&amp;access_token=jHkWEdUXMU1BwAsC4vtUsZwnNvTIxEl0z9K3vx5KF0Y
&amp;token_type=Bearer
&amp;id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC9zZ
XJ2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIjoiaHR0c
DpcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0vzDH3T1
G3liaTNOrfaeWYjuRCEPNXVtaazNQ
&amp;state=af0ifjsldkj</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="end-user-denies-authorization-or-invalid-request">
<span id="standard-2-3-5-2"></span><h5><a class="toc-backref" href="#id43">2.3.5.2.  End-User Denies Authorization or Invalid Request</a><a class="headerlink" href="#end-user-denies-authorization-or-invalid-request" title="Permalink to this headline">¶</a></h5>
<p>If the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> denies the authorization or the user authentication fails,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST return the error authorization response
as defined in OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> returns the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>
to the <a class="reference internal" href="glossary.html#term-redirection-uri"><em class="xref std std-term">redirection URI</em></a> specified in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
with the appropriate error parameters.
No other parameters SHOULD be returned.</p>
<p>The error response parameters are the following:</p>
<dl class="glossary docutils">
<dt id="term-error">error</dt>
<dd>REQUIRED. The error code.</dd>
<dt id="term-error-description">error_description</dt>
<dd>OPTIONAL. A human-readable UTF-8 encoded text description of the error.</dd>
<dt id="term-error-uri">error_uri</dt>
<dd>OPTIONAL. A URI to a web page that includes additional information about the error.</dd>
<dt id="term-29">state</dt>
<dd>REQUIRED if the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> included the <a class="reference internal" href="#term-29"><em class="xref std std-term">state</em></a> parameter.
Set to the exact value received from the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>.</dd>
</dl>
<p>If the <a class="reference internal" href="#term-response-type"><em class="xref std std-term">response_type</em></a> parameter
in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> includes the string value &#8220;<a class="reference internal" href="#term-token"><em class="xref std std-term">token</em></a>&#8221; or &#8220;<a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a>&#8221;,
all error response parameters SHOULD be added to the <em class="xref std std-term">fragment component</em> of the <a class="reference internal" href="glossary.html#term-redirection-uri"><em class="xref std std-term">redirection URI</em></a>.
Otherwise,
the response parameters are added to the <a class="reference internal" href="glossary.html#term-query-component"><em class="xref std std-term">query component</em></a> of the <a class="reference internal" href="glossary.html#term-redirection-uri"><em class="xref std std-term">redirection URI</em></a>.</p>
<p>The following is a non-normative example. Line wraps after the second line is for the display purpose only:</p>
<div class="highlight-python"><pre>HTTP/1.1 302 Found
Location: https://client.example.com/cb?
error=invalid_request
&amp;error_description=the%20request%20is%20not%20valid%20or%20malformed
&amp;state=af0ifjsldkj</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
</div>
</div>
<div class="section" id="token-endpoint">
<span id="standard-3"></span><h2><a class="toc-backref" href="#id44">3.  Token Endpoint</a><a class="headerlink" href="#token-endpoint" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a> handles requests for retrieving and refreshing <a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a>
as well as <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> and other variables.</p>
<p><a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> MUST use the HTTP &#8220;<strong>POST</strong>&#8221; method to make requests to the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>.
Request parameters are added using <em class="xref std std-term">form serialization</em>.</p>
<p><a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> MAY provide authentication parameters in the request to the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>
as described in <a class="reference internal" href="messages.html#messages-2-2-1"><em>section 2.2.1 of OpenID Connect Messages</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST support the use of the HTTP &#8220;<strong>POST</strong>&#8221; method
defined in RFC 2616 [<a class="reference internal" href="#term-rfc2616"><em class="xref std std-term">RFC2616</em></a>] at the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>.</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST require the use of a transport-layer security mechanism.
The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST support TLS 1.2 as described in RFC 5246 [<a class="reference internal" href="#term-rfc5246"><em class="xref std std-term">RFC5246</em></a>]
and MAY support other transport-layer mechanisms with equivalent security.</p>
<p>All <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a> responses
that contain tokens, secrets, or other sensitive information MUST include the following HTTP response header fields and values:</p>
<p>HTTP Response Headers and Values</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Header Name</th>
<th class="head">Header Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Cache-Control</td>
<td>no-store</td>
</tr>
<tr class="row-odd"><td>Pragma</td>
<td>no-cache</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>(draft 07)</p>
<div class="section" id="requesting-an-access-token">
<span id="standard-3-1"></span><h3><a class="toc-backref" href="#id45">3.1.  Requesting an Access Token</a><a class="headerlink" href="#requesting-an-access-token" title="Permalink to this headline">¶</a></h3>
<p>To retrieve an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>,
a <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST have an <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>
obtained via the method as described in <a class="reference internal" href="glossary.html#term-authorization-code-flow"><em class="xref std std-term">Authorization Code Flow</em></a> (<a class="reference internal" href="#standard-2-2-2"><em>2.2.2.  Authorization Code Flow</em></a>&gt;).</p>
<p>(draft 07)</p>
<div class="section" id="access-token-request">
<span id="standard-3-1-1"></span><h4><a class="toc-backref" href="#id46">3.1.1.  Access Token Request</a><a class="headerlink" href="#access-token-request" title="Permalink to this headline">¶</a></h4>
<p>To obtain an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>, <a class="reference internal" href="glossary.html#term-refresh-token"><em class="xref std std-term">Refresh Token</em></a> or <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST authenticate to the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>
using the authentication method registered for its <a class="reference internal" href="#term-client-id"><em class="xref std std-term">client_id</em></a>,
as documented in <a class="reference internal" href="messages.html#messages-2-2-1"><em>Section 2.2.1 of OpenID Connect Messages 1.0</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> sends the parameters via HTTPS POST
to the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a> using form serialization as specified in <em class="xref std std-term">Section 4.1.3</em>
of OAuth 2.0 [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>]:</p>
<p>The following is a non-normative example. Line wraps after line 4 are for display purpose only:</p>
<div class="highlight-python"><pre>POST /token HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded
Authorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW

grant_type=authorization_code&amp;code=SplxlOBeZQQYbYS6WxSbIA
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb</pre>
</div>
<p>The Authorization Server MUST:</p>
<blockquote>
<div><ul class="simple">
<li>Require client authentication for any <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>
issued client credentials (or with other authentication requirements),</li>
<li>Authenticate the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> if client authentication is included
and ensure the <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a> was issued to the authenticated <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>,</li>
<li>Verify that the <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a> is valid, and</li>
<li>Ensure that the <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> parameter is present
if the <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> parameter was included in the initial <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a> and that their values are identical.</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="access-token-response">
<span id="standard-3-1-2"></span><h4><a class="toc-backref" href="#id47">3.1.2.  Access Token Response</a><a class="headerlink" href="#access-token-response" title="Permalink to this headline">¶</a></h4>
<p>Upon receipt of the <a class="reference internal" href="glossary.html#term-token-request"><em class="xref std std-term">Token Request</em></a>,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST return either a successful response
or an error response that corresponds to the received <a class="reference internal" href="glossary.html#term-authorization-code"><em class="xref std std-term">Authorization Code</em></a>.</p>
<p>A successful response returns the &#8220;<strong>application/json</strong>&#8221; media type
and the response body is the <a class="reference internal" href="glossary.html#term-access-token-response"><em class="xref std std-term">Access Token Response</em></a> documented
in <a class="reference internal" href="messages.html#messages-2-2-3"><em>Sec 2.2.3 of OpenID Connect Messages 1.0</em></a>&#8221; [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>Following is a non-normative example of a successful response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store
Pragma: no-cache

{
 "access_token": "SlAV32hkKG",
 "token_type": "Bearer",
 "refresh_token": "8xLOxBtZp8",
 "expires_in": 3600,
 "id_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOl
wvXC9zZXJ2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIj
oiaHR0cDpcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0
vzDH3T1G3liaTNOrfaeWYjuRCEPNXVtaazNQ"
}</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="access-token-error-response">
<span id="standard-3-1-3"></span><h4><a class="toc-backref" href="#id48">3.1.3.  Access Token Error Response</a><a class="headerlink" href="#access-token-error-response" title="Permalink to this headline">¶</a></h4>
<p>If the <a class="reference internal" href="glossary.html#term-token-request"><em class="xref std std-term">Token Request</em></a> is invalid or unauthorized,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> constructs the response
by returning the <em class="xref std std-term">Token Error Response</em> defined in OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
in the entity body of the HTTP response
using the <strong>application/json</strong> media type with HTTP response code <strong>400</strong>.</p>
<p>Following is a non-normative example:</p>
<div class="highlight-python"><pre>HTTP/1.1 400 Bad Request
Content-Type: application/json
Cache-Control: no-store
Pragma: no-cache

{
 "error": "invalid_request"
}</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="refreshing-an-access-token">
<span id="standard-3-2"></span><h3><a class="toc-backref" href="#id49">3.2.  Refreshing an Access Token</a><a class="headerlink" href="#refreshing-an-access-token" title="Permalink to this headline">¶</a></h3>
<p>To refresh an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST authenticate to the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>
using the authentication method registered for its <a class="reference internal" href="#term-client-id"><em class="xref std std-term">client_id</em></a>,
as documented in <a class="reference internal" href="messages.html#messages-2-2-1"><em>Section 2.2.1 of OpenID Connect Messages 1.0</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> sends the parameters via HTTPS POST to the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a>
using <em class="xref std std-term">form serialization</em> as specified in <a class="reference internal" href="oauth.html#oauth-6"><em>Section 6 of OAuth 2.0</em></a> [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>]:</p>
<p>The <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST verify the validity of the <a class="reference internal" href="glossary.html#term-refresh-token"><em class="xref std std-term">Refresh Token</em></a>.</p>
<p>(draft 07)</p>
<div class="section" id="refresh-token-response">
<span id="standard-3-2-1"></span><h4><a class="toc-backref" href="#id50">3.2.1.  Refresh Token Response</a><a class="headerlink" href="#refresh-token-response" title="Permalink to this headline">¶</a></h4>
<p>Upon receipt of the <a class="reference internal" href="glossary.html#term-refresh-token-request"><em class="xref std std-term">Refresh Token Request</em></a>,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> MUST return either a successful response
or an error response that corresponds to the received <a class="reference internal" href="glossary.html#term-refresh-token"><em class="xref std std-term">Refresh Token</em></a>.</p>
<p>Upon successful verification of the <a class="reference internal" href="glossary.html#term-refresh-token"><em class="xref std std-term">Refresh Token</em></a>,
a successful response returns the &#8220;<strong>application/json</strong>&#8221; media type
and the response body is the <a class="reference internal" href="glossary.html#term-access-token-response"><em class="xref std std-term">Access Token Response</em></a> of
<a class="reference internal" href="messages.html#messages-2-2-3"><em>Section 2.2.3 of OpenID Connect Messages 1.0</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>Following is a non-normative example of the <a class="reference internal" href="glossary.html#term-refresh-token"><em class="xref std std-term">Refresh Token</em></a> request and response:</p>
<div class="highlight-python"><pre>POST /token HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

client_id=s6BhdRkqt3
&amp;client_secret=some_secret12345
&amp;grant_type=refresh_token
&amp;refresh_token=8xLOxBtZp8
&amp;scope=openid profile


HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store
Pragma: no-cache

{
 "access_token": "TlBN45jURg",
 "token_type": "Bearer",
 "refresh_token": "9yNOxJtZa5",
 "expires_in": 3600,
 "id_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOl
wvXC9zZXJ2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIj
oiaHR0cDpcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0
vzDH3T1G3liaTNOrfaeWYjuRCEPNXVtaazNQ"
}</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="refresh-token-error-response">
<span id="standard-3-2-2"></span><h4><a class="toc-backref" href="#id51">3.2.2.  Refresh Token Error Response</a><a class="headerlink" href="#refresh-token-error-response" title="Permalink to this headline">¶</a></h4>
<p>If the <a class="reference internal" href="glossary.html#term-refresh-token-request"><em class="xref std std-term">Refresh Token Request</em></a> is invalid or unauthorized,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> returns the <em class="xref std std-term">Token Error Response</em>
as defined in <a class="reference internal" href="oauth.html#oauth-5-2"><em>Section 5.2 of OAuth 2.0</em></a> [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].</p>
<p>(draft 07)</p>
</div>
</div>
</div>
<div class="section" id="check-id-endpoint">
<span id="standard-4"></span><h2><a class="toc-backref" href="#id52">4.  Check ID Endpoint</a><a class="headerlink" href="#check-id-endpoint" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> validates the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>
and returns a text JSON [<a class="reference internal" href="#term-rfc4627"><em class="xref std std-term">RFC4627</em></a>] object
containing the <a class="reference internal" href="messages.html#term-claims"><em class="xref std std-term">Claims</em></a> in the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>. <a class="footnote-reference" href="#id11" id="id12">[6]</a>
This endpoint is used by <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> that are not able to
or do not wish to directly process <a class="reference internal" href="glossary.html#term-id-tokens"><em class="xref std std-term">ID Tokens</em></a>.
In this case, <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">clients</em></a> MAY treat <a class="reference internal" href="glossary.html#term-id-tokens"><em class="xref std std-term">ID Tokens</em></a> as opaque values.</p>
<p><em class="xref std std-term">Check ID Endpoints</em> MUST require the use of a transport-layer security mechanism.
The endpoint MUST support TLS 1.2 as described in RFC 5246 [<a class="reference internal" href="#term-rfc5246"><em class="xref std std-term">RFC5246</em></a>];
when TLS is used,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST perform a TLS/SSL server certificate check, per RFC 6125 [<a class="reference internal" href="#term-rfc6125"><em class="xref std std-term">RFC6125</em></a>].
<em class="xref std std-term">Check ID Endpoints</em> MAY support other transport-layer mechanisms with equivalent security.</p>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id14">[7]</a></td><td>Should refer to Messages spec ?</td></tr>
</tbody>
</table>
<p>(draft 07)</p>
<div class="section" id="check-id-request">
<span id="standard-4-1"></span><h3><a class="toc-backref" href="#id53">4.1.  Check ID Request</a><a class="headerlink" href="#check-id-request" title="Permalink to this headline">¶</a></h3>
<p>To request the information about the authentication performed on the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>,
a request is made to the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> sending the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>
as the <a class="reference internal" href="#term-30"><em class="xref std std-term">access_token</em></a>
by using the <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> <a class="reference internal" href="glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a> [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>] scheme. <a class="footnote-reference" href="#id13" id="id14">[7]</a></p>
<table class="docutils footnote" frame="void" id="id15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[8]</td><td>Authorization Scheme.</td></tr>
</tbody>
</table>
<p><a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a> MAY send requests with the following parameter to the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a>:</p>
<dl class="glossary docutils">
<dt id="term-30">access_token</dt>
<dd>REQUIRED.
The <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> obtained from an OpenID Connect <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>.
This parameter MUST NOT be sent
if the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> is sent in the HTTP Authorization header
as described in <a class="reference internal" href="oauth.html#oauth-7-1"><em>Section 7.1 of OAuth 2.0</em></a> [<a class="reference internal" href="#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].
<a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a> sent in the authorization header MUST be <a class="reference internal" href="glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a> tokens [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>].</dd>
</dl>
<p>The Following is a non-normative example of a <em class="xref std std-term">Check ID request</em>:</p>
<div class="highlight-python"><pre>POST /check_id HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC9zZX
J2ZXIuZXhhbXBsZS5jb20iLCJ1c2VyX2lkIjoiMjQ4Mjg5NzYxMDAxIiwiYXVkIjoiaHR0cD
pcL1wvY2xpZW50LmV4YW1wbGUuY29tIiwiZXhwIjoxMzExMjgxOTcwfQ.eDesUD0vzDH3T1G
3liaTNOrfaeWYjuRCEPNXVtaazNQ</pre>
</div>
<p>The <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST ensure that
the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> being used is the trusted <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a>
for the <a class="reference internal" href="messages.html#term-entity"><em class="xref std std-term">Entity</em></a> via pre-configuration meta-data or discovery.</p>
<p>A request to the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> MAY alternatively be made with the HTTP &#8220;GET&#8221; method,
when using GET the <a class="reference internal" href="#term-30"><em class="xref std std-term">access_token</em></a> MUST be passed in the header.</p>
<p>(draft 07)</p>
</div>
<div class="section" id="check-id-response">
<span id="standard-4-2"></span><h3><a class="toc-backref" href="#id54">4.2.  Check ID Response</a><a class="headerlink" href="#check-id-response" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> MUST return the JSON serialized <a class="reference internal" href="messages.html#term-claims"><em class="xref std std-term">Claims</em></a>
associated with the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>
as described in <em class="xref std std-term">Check ID Response</em> section of OpenID Messages [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
in the HTTP response body.
The <strong>content-type</strong> of the HTTP response MUST be set to <strong>application/json</strong>.</p>
<p>The following is a non-normative example of a response from a <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a>:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
 "iss": "http://server.example.com",
 "user_id": "248289761001",
 "aud": "s6BhdRkqt3",
 "nonce": "n-0S6_WzA2Mj",
 "exp": 1311281970
}</pre>
</div>
<p>(draft 07)</p>
<div class="section" id="response-verification">
<span id="standard-4-2-1"></span><h4><a class="toc-backref" href="#id55">4.2.1.  Response Verification</a><a class="headerlink" href="#response-verification" title="Permalink to this headline">¶</a></h4>
<p>To verify the validity of the <em class="xref std std-term">Response</em>,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> MUST do the following:</p>
<blockquote>
<div><ul class="simple">
<li>The <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> has not returned an error for the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a> being expired or invalid.</li>
<li>Check that the <a class="reference internal" href="session.html#term-iss"><em class="xref std std-term">iss</em></a> (issuer) is equal to that of the pre-configured
or discovered <a class="reference internal" href="messages.html#term-issuer-identifier"><em class="xref std std-term">Issuer Identifier</em></a> for the user session.</li>
<li>Check that the returned <a class="reference internal" href="#term-nonce"><em class="xref std std-term">nonce</em></a> is equal to the <a class="reference internal" href="#term-nonce"><em class="xref std std-term">nonce</em></a> in the <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>.</li>
<li>Verify that the <a class="reference internal" href="session.html#term-8"><em class="xref std std-term">aud</em></a> (audience) contained within the response is the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>&#8216;s <a class="reference internal" href="#term-client-id"><em class="xref std std-term">client_id</em></a>.</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="check-id-error-response">
<span id="standard-4-3"></span><h3><a class="toc-backref" href="#id56">4.3.  Check ID Error Response</a><a class="headerlink" href="#check-id-error-response" title="Permalink to this headline">¶</a></h3>
<p>When an error condition occurs,
the <a class="reference internal" href="messages.html#term-check-id-endpoint"><em class="xref std std-term">Check ID Endpoint</em></a> returns an Error Response
as defined in <a class="reference internal" href="bearer.html#bearer-3"><em>Section 3 of OAuth 2.0 Bearer Tokens</em></a> [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>]
utilizing an error code
as specified in <em class="xref std std-ref">Section 2.3.3 of OpenID Connect Messages 1.0</em> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>Following is a non-normative example of an error response:</p>
<div class="highlight-python"><pre>HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm="example.com",
                     error="invalid_id_token",
                     error_description="The ID token expired"</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="userinfo-endpoint">
<span id="standard-5"></span><h2><a class="toc-backref" href="#id57">5.  UserInfo Endpoint</a><a class="headerlink" href="#userinfo-endpoint" title="Permalink to this headline">¶</a></h2>
<p>To obtain the requested <a class="reference internal" href="messages.html#term-claims"><em class="xref std std-term">Claims</em></a> about the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a>,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> makes a GET or POST request to the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a>
as in <a class="reference internal" href="messages.html"><em>OpenID Connect Messages 1.0</em></a> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST require the use of a transport-layer security mechanism.
The Authorization Server MUST support TLS 1.2 as described in RFC 5246 [<a class="reference internal" href="#term-rfc5246"><em class="xref std std-term">RFC5246</em></a>]
and MAY support other transport-layer mechanisms with equivalent security.</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST support the use of the HTTP &#8220;GET&#8221; and HTTP &#8220;POST&#8221; methods
defined in RFC 2616 [<a class="reference internal" href="#term-rfc2616"><em class="xref std std-term">RFC2616</em></a>] at the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a>.</p>
<p><a class="reference internal" href="glossary.html#term-authorization-servers"><em class="xref std std-term">Authorization Servers</em></a> MUST be able to accept <a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a>
via <a class="reference internal" href="glossary.html#term-bearer-tokens"><em class="xref std std-term">Bearer Tokens</em></a> [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>] specification.</p>
<p>(draft 07)</p>
<div class="section" id="userinfo-request">
<span id="standard-5-1"></span><h3><a class="toc-backref" href="#id58">5.1.  UserInfo Request</a><a class="headerlink" href="#userinfo-request" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> SHOULD send the <a class="reference internal" href="glossary.html#term-userinfo-request"><em class="xref std std-term">UserInfo Request</em></a> defined
in <em class="xref std std-ref">section 3.3 of the OpenID Connect Messages 1.0</em> [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
either in HTTP GET or POST request [#].</p>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[9]</td><td>Section 2.4.1 ? ( <a class="reference internal" href="messages.html#messages-2-4-1"><em>2.4.1.  UserInfo Request</em></a> )</td></tr>
</tbody>
</table>
<p>The <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> obtained from an OpenID Connect <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a>
MUST be sent as a <a class="reference internal" href="oauth_threat.html#term-bearer-token"><em class="xref std std-term">Bearer Token</em></a> [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>]</p>
<p><a class="reference internal" href="bearer.html#bearer-2"><em>Section 2 of the OAuth 2.0 Bearer Token</em></a> [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>] specification documents
the permissible methods of sending the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>.</p>
<p>It is RECOMMENDED that
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> use the <a class="reference internal" href="glossary.html#term-authorization-header-method"><em class="xref std std-term">authorization header method</em></a> for all requests using GET.</p>
<p>The following is a non-normative example. Line wraps are for display purpose only:</p>
<div class="highlight-python"><pre>GET /userinfo?schema=openid HTTP/1.1
Host: server.example.com
Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJ ... fQ.8Gj_    sj ... _X</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="userinfo-response">
<span id="standard-5-2"></span><h3><a class="toc-backref" href="#id59">5.2.  UserInfo Response</a><a class="headerlink" href="#userinfo-response" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="session.html#term-user-id"><em class="xref std std-term">user_id</em></a> claim in the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> response
MUST exactly match the <a class="reference internal" href="session.html#term-user-id"><em class="xref std std-term">user_id</em></a> claim in the <a class="reference internal" href="messages.html#term-id-token"><em class="xref std std-term">ID Token</em></a>,
before using additional <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> claims.</p>
<p>Upon receipt of the <a class="reference internal" href="glossary.html#term-userinfo-request"><em class="xref std std-term">UserInfo request</em></a>,
the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> MUST return
the <em class="xref std std-term">JSON Serialization</em> of the <a class="reference internal" href="glossary.html#term-userinfo-response"><em class="xref std std-term">UserInfo response</em></a> as in OpenID Messages [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>]
in the HTTP response body.
The content-type of the HTTP response MUST be set to <strong>application/json</strong>
if the response body is a text JSON structure.
If the JSON response is JWS [<a class="reference internal" href="#term-jws"><em class="xref std std-term">JWS</em></a>] signed or JWE [<a class="reference internal" href="#term-jwe"><em class="xref std std-term">JWE</em></a>] encrypted,
then the content-type MUST be set to <strong>application/jwt</strong>.</p>
<p>Following is a non-normative example of such response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
 "user_id": "248289761001",
 "name": "Jane Doe"
 "given_name": "Jane",
 "family_name": "Doe",
 "email": "janedoe@example.com",
 "picture": "http://example.com/janedoe/me.jpg"
}</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="userinfo-error-response">
<span id="standard-5-3"></span><h3><a class="toc-backref" href="#id60">5.3.  UserInfo Error Response</a><a class="headerlink" href="#userinfo-error-response" title="Permalink to this headline">¶</a></h3>
<p>When an error condition occurs,
the <a class="reference internal" href="messages.html#term-userinfo-endpoint"><em class="xref std std-term">UserInfo Endpoint</em></a> returns an Error Response as defined
in <a class="reference internal" href="bearer.html#bearer-3"><em>Section 3 of OAuth 2.0 Bearer Tokens</em></a>  [<a class="reference internal" href="#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>]
utilizing an error code as specified in <a class="reference internal" href="messages.html#messages-2-4-3"><em>Section 2.4.3 of OpenID Connect Messages 1.0</em></a>
[<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>Following is a non-normative example of an error response:</p>
<div class="highlight-python"><pre>HTTP/1.1 401 Unauthorized
WWW-Authenticate: Bearer realm="example.com",
                     error="invalid_token",
                     error_description="The access token expired"</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="discovery-and-registration">
<span id="standard-6"></span><h2><a class="toc-backref" href="#id61">6.  Discovery and Registration</a><a class="headerlink" href="#discovery-and-registration" title="Permalink to this headline">¶</a></h2>
<p>Some OpenID Connect installations can use a pre-configured set of OpenID Providers
and/or Relying Parties.
In those cases,
it may not be necessary to support dynamic discovery of information
about identities or services or dynamic registration of <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a>.</p>
<p>However,
if installations choose to support unanticipated interactions
between <em class="xref std std-term">Relying Parties</em> and <a class="reference internal" href="glossary.html#term-openid-providers"><em class="xref std std-term">OpenID Providers</em></a>
that do not have pre-configured relationships,
they SHOULD accomplish this by implementing the facilities defined
in the OpenID Connect Discovery 1.0 [<a class="reference internal" href="#term-openid-discovery"><em class="xref std std-term">OpenID.Discovery</em></a>]
and OpenID Connect Dynamic Client Registration 1.0 [<a class="reference internal" href="#term-openid-registration"><em class="xref std std-term">OpenID.Registration</em></a>] specifications.</p>
<p>(draft 07)</p>
<div class="section" id="standard-6-1">
<span id="id17"></span><h3><a class="toc-backref" href="#id62">6.1.  UserInfo Request</a><a class="headerlink" href="#standard-6-1" title="Permalink to this headline">¶</a></h3>
<p>Client SHOULD send the UserInfo request defined in section 3.3 of the OpenID Connect Messages 1.0 [OpenID.Messages] either in HTTP GET or POST request.</p>
<p>The request parameters are the following:</p>
<blockquote>
<div><dl class="docutils">
<dt>access_token</dt>
<dd>REQUIRED. The access_token obtained from an OpenID Connect authorization request. This parameter MUST NOT be sent if the access token is sent in the HTTP Authorization header as described in Section 7.1 of OAuth 2.0 [OAuth.2.0]. Access tokens sent in the authorization header must be Bearer tokens [OAuth.2.0.Bearer]. If the client is using the HTTP GET method, it SHOULD send the access token in the authorization header.</dd>
<dt>schema</dt>
<dd>OPTIONAL. The schema in which the data is to be returned. The only predefined value is openid. If this parameter is not included, the response may be a proprietary schema to support backwards compatibility. A URL MAY be passed to define custom schemes not specified by short names. Custom scheme names and responses are out of scope for this specification.</dd>
<dt>id</dt>
<dd>This identifier is reserved for backwards compatibility. It MUST be ignored by the endpoint if the openid schema is used.</dd>
</dl>
</div></blockquote>
<p>The following is a non-normative example. Line wraps are for display purpose only:</p>
<div class="highlight-python"><pre>POST /userinfo HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

access_token=SlAV32hkKG</pre>
</div>
</div>
<div class="section" id="standard-6-2">
<span id="id18"></span><h3><a class="toc-backref" href="#id63">6.2.  UserInfo Response</a><a class="headerlink" href="#standard-6-2" title="Permalink to this headline">¶</a></h3>
<p>Upon receipt of the UserInfo request, the UserInfo endpoint MUST return the JSON Serialization of the UserInfo response as in OpenID Messages [OpenID.Messages] in the HTTP response body. The content-type of the HTTP response MUST be set to application/json if the response body is a text JSON structure. If the JSON response is JWS [JWS] signed or JWE [JWE] encrypted, then the content-type MUST be set to application/jwt.</p>
<p>Following is a non-normative example of such response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Content-Type: application/json

{
 "name": "Jane Doe"
 "given_name": "Jane",
 "family_name": "Doe",
 "email": "janedoe@example.com",
 "picture": "http://example.com/janedoe/me.jpg"
}</pre>
</div>
<p id="standard-6-2-1">6.2.1.  UserInfo Error Response</p>
<p>When some error condition arises, the UserInfo endpoint returns the JSON serialized Error Response defined in section 3.3.3 of OpenID Connect Messages 1.0 [OpenID.Messages] in the entity body of the HTTP response using the application/json media type with HTTP response code 400.</p>
<p>Following is a non-normative example of an error response:</p>
<div class="highlight-python"><pre>HTTP/1.1 400 Bad Request
Content-Type: application/json

{
  "error":"invalid_request"
}</pre>
</div>
</div>
</div>
<div class="section" id="serializations">
<span id="standard-7"></span><h2><a class="toc-backref" href="#id64">7.  Serializations</a><a class="headerlink" href="#serializations" title="Permalink to this headline">¶</a></h2>
<p>A request message MAY be serialized using one of the following methods:</p>
<blockquote>
<div><ol class="arabic simple">
<li><em class="xref std std-ref">Query String Serialization</em></li>
<li><em class="xref std std-ref">Form Serialization</em></li>
</ol>
</div></blockquote>
<p>(draft 07)</p>
<div class="section" id="query-string-serialization">
<span id="standard-7-1"></span><h3><a class="toc-backref" href="#id65">7.1.  Query String Serialization</a><a class="headerlink" href="#query-string-serialization" title="Permalink to this headline">¶</a></h3>
<p>In order to serialize the parameters using the query string serialization,
the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> constructs the string by adding the parameters
and values to the query component of a URL
using the <strong>application/x-www-form-urlencoded</strong> format
as defined by [<em class="xref std std-term">W3C.REC‑html401‑19991224</em>].
Query string serialization is typically used in HTTP GET requests.</p>
<p>Following is a non-normative example of such serialization:</p>
<div class="highlight-python"><pre>GET /authorize?scope=openid&amp;response_type=code
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1
Host: server.example.com</pre>
</div>
<p>(draft 07)</p>
</div>
<div class="section" id="form-serialization">
<span id="standard-7-2"></span><h3><a class="toc-backref" href="#id66">7.2.  Form Serialization</a><a class="headerlink" href="#form-serialization" title="Permalink to this headline">¶</a></h3>
<p>Parameters and their values are form serialized
by adding the parameter names
and values to the entity body of the HTTP request
using the <strong>application/x-www-form-urlencoded</strong> format
as defined by [<em class="xref std std-term">W3C.REC‑html401‑19991224</em>].
Form serialization is typically used in HTTP POST requests.</p>
<p>Following is a non-normative example of such serialization:</p>
<div class="highlight-python"><pre>POST /authorize HTTP/1.1
Host: server.example.com
Content-Type: application/x-www-form-urlencoded

scope=openid&amp;response_type=code
&amp;client_id=s6BhdRkqt3
&amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb</pre>
</div>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="security-considerations">
<span id="standard-8"></span><h2><a class="toc-backref" href="#id67">8.  Security Considerations</a><a class="headerlink" href="#security-considerations" title="Permalink to this headline">¶</a></h2>
<p>This specification references the security considerations
defined in OpenID Connect Messages 1.0 [<a class="reference internal" href="#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>In addition, the following list of attack vectors and remedies are also considered.</p>
<p>(draft 07)</p>
<div class="section" id="implicit-grant-flow-threats">
<span id="standard-8-1"></span><h3><a class="toc-backref" href="#id68">8.1.  Implicit Grant Flow Threats</a><a class="headerlink" href="#implicit-grant-flow-threats" title="Permalink to this headline">¶</a></h3>
<p>In the <a class="reference internal" href="glossary.html#term-implicit-grant-flow"><em class="xref std std-term">implicit grant flow</em></a>,
the <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> is returned
in the <em class="xref std std-term">fragment part</em> of the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>&#8216;s <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> through HTTPS,
thus it is protected between the <em class="xref std std-term">OP</em> and the <a class="reference internal" href="glossary.html#term-user-agent"><em class="xref std std-term">User-Agent</em></a>,
and <a class="reference internal" href="glossary.html#term-user-agent"><em class="xref std std-term">User-Agent</em></a> and the <em class="xref std std-term">RP</em>.
The only the place it can be captured is the <a class="reference internal" href="glossary.html#term-user-agent"><em class="xref std std-term">User-Agent</em></a>
where the TLS session is terminated,
and is possible if the User-Agent is infested by malware.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em class="xref std std-term">ARP Spoofing</em> can read the SSL packet.</p>
</div>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="privacy-considerations">
<span id="standard-9"></span><h2><a class="toc-backref" href="#id69">9.  Privacy Considerations</a><a class="headerlink" href="#privacy-considerations" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="messages.html#term-userinfo"><em class="xref std std-term">UserInfo</em></a> response typically contains <a class="reference internal" href="glossary.html#term-personally-identifiable-information"><em class="xref std std-term">Personally Identifiable Information</em></a>.
As such,
<a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> consent for the release of the information
for the specified purpose SHOULD be obtained at or prior to the authorization time
in accordance with relevant regulations.
The purpose of use is typically registered in association with the <a class="reference internal" href="#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a>.</p>
<p>Only necessary <a class="reference internal" href="messages.html#term-userinfo"><em class="xref std std-term">UserInfo</em></a> data should be stored at the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a>
and the <a class="reference internal" href="session.html#term-client"><em class="xref std std-term">Client</em></a> SHOULD associate the received data with the purpose of use statement.</p>
<p>The <a class="reference internal" href="oauth.html#term-resource-server"><em class="xref std std-term">Resource Server</em></a> SHOULD make the <a class="reference internal" href="messages.html#term-userinfo"><em class="xref std std-term">UserInfo</em></a> access log
available to the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> so that the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> can monitor who accessed his data.</p>
<p>To protect the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> from a possible correlation among <a class="reference internal" href="glossary.html#term-clients"><em class="xref std std-term">Clients</em></a>,
the use of a <a class="reference internal" href="glossary.html#term-pairwise-pseudonymous-identifier"><em class="xref std std-term">Pairwise Pseudonymous Identifier</em></a> (PPID) as the <a class="reference internal" href="session.html#term-user-id"><em class="xref std std-term">user_id</em></a> SHOULD be considered.</p>
<p>(draft 07)</p>
</div>
<div class="section" id="iana-considerations">
<span id="standard-10"></span><h2><a class="toc-backref" href="#id70">10.  IANA Considerations</a><a class="headerlink" href="#iana-considerations" title="Permalink to this headline">¶</a></h2>
<p>(draft 07)</p>
<div class="section" id="oauth-parameters-registry">
<span id="standard-10-1"></span><h3><a class="toc-backref" href="#id71">10.1.  OAuth Parameters Registry</a><a class="headerlink" href="#oauth-parameters-registry" title="Permalink to this headline">¶</a></h3>
<p>(draft 07)</p>
<div class="section" id="scope-parameters">
<span id="standard-10-1-1"></span><h4><a class="toc-backref" href="#id72">10.1.1.  Scope Parameters</a><a class="headerlink" href="#scope-parameters" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request
for the &#8220;<a class="reference internal" href="uma_core.html#term-scope"><em class="xref std std-term">scope</em></a>&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="glossary.html#term-openid"><em class="xref std std-term">openid</em></a>, <a class="reference internal" href="messages.html#term-profile"><em class="xref std std-term">profile</em></a>, <a class="reference internal" href="messages.html#term-email"><em class="xref std std-term">email</em></a>, <a class="reference internal" href="messages.html#term-address"><em class="xref std std-term">address</em></a></li>
<li>Parameter usage location:
The <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a> request,
the <a class="reference internal" href="messages.html#term-end-user"><em class="xref std std-term">End-User</em></a> <a class="reference internal" href="oauth_responses.html#term-authorization-endpoint"><em class="xref std std-term">Authorization Endpoint</em></a> response,
the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a> request,
the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">Token Endpoint</em></a> response,
and the <em class="xref std std-term">WWW-Authenticate</em> header field.</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-request-parameter-display">
<span id="standard-10-1-2"></span><h4><a class="toc-backref" href="#id73">10.1.2.  Authorization Request Parameter (display)</a><a class="headerlink" href="#authorization-request-parameter-display" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter registration request for the Authorization Request in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="#term-display"><em class="xref std std-term">display</em></a></li>
<li>Parameter usage location: <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a></li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-request-parameter-prompt">
<span id="standard-10-1-3"></span><h4><a class="toc-backref" href="#id74">10.1.3.  Authorization Request Parameter (prompt)</a><a class="headerlink" href="#authorization-request-parameter-prompt" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter registration request for the Authorization Request in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="#term-prompt"><em class="xref std std-term">prompt</em></a></li>
<li>Parameter usage location: <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a></li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-request-parameter-nonce">
<span id="standard-10-1-4"></span><h4><a class="toc-backref" href="#id75">10.1.4.  Authorization Request Parameter (nonce)</a><a class="headerlink" href="#authorization-request-parameter-nonce" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter registration request for the Authorization Request in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="#term-nonce"><em class="xref std std-term">nonce</em></a></li>
<li>Parameter usage location: <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a></li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-request-parameter-request">
<span id="standard-10-1-5"></span><h4><a class="toc-backref" href="#id76">10.1.5.  Authorization Request Parameter (request)</a><a class="headerlink" href="#authorization-request-parameter-request" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter registration request for the Authorization Request in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="#term-request"><em class="xref std std-term">request</em></a></li>
<li>Parameter usage location: <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a></li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-request-parameter-request-uri">
<span id="standard-10-1-6"></span><h4><a class="toc-backref" href="#id77">10.1.6.  Authorization Request Parameter (request_uri)</a><a class="headerlink" href="#authorization-request-parameter-request-uri" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter registration request for the Authorization Request in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="#term-request-uri"><em class="xref std std-term">request_uri</em></a></li>
<li>Parameter usage location: <a class="reference internal" href="glossary.html#term-authorization-request"><em class="xref std std-term">Authorization Request</em></a></li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="standard-10-1-7">
<span id="id-token-response-parameters"></span><h4><a class="toc-backref" href="#id78">10.1.7.  ID Token Response Parameters</a><a class="headerlink" href="#standard-10-1-7" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter registration request for the <em class="xref std std-term">ID Token Response</em> in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Parameter name: <a class="reference internal" href="#term-24"><em class="xref std std-term">id_token</em></a></li>
<li>Parameter usage location: <a class="reference internal" href="glossary.html#term-authorization-response"><em class="xref std std-term">Authorization Response</em></a>, <a class="reference internal" href="glossary.html#term-access-token-response"><em class="xref std std-term">Access Token Response</em></a></li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[ this document ]]</li>
<li>Related information: None</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
</div>
<div class="section" id="oauth-extensions-error-registry">
<span id="standard-10-2"></span><h3><a class="toc-backref" href="#id79">10.2.  OAuth Extensions Error Registry</a><a class="headerlink" href="#oauth-extensions-error-registry" title="Permalink to this headline">¶</a></h3>
<p>(draft 07)</p>
<div class="section" id="authorization-endpoint-error-invalid-request-redirect-uri">
<span id="standard-10-2-1"></span><h4><a class="toc-backref" href="#id80">10.2.1.  Authorization Endpoint Error (invalid_request_redirect_uri)</a><a class="headerlink" href="#authorization-endpoint-error-invalid-request-redirect-uri" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: invalid_request_redirect_uri</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-endpoint-error-login-required">
<span id="standard-10-2-2"></span><h4><a class="toc-backref" href="#id81">10.2.2.  Authorization Endpoint Error (login_required)</a><a class="headerlink" href="#authorization-endpoint-error-login-required" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: login_required</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-endpoint-error-session-selection-required">
<span id="standard-10-2-3"></span><h4><a class="toc-backref" href="#id82">10.2.3.  Authorization Endpoint Error (session_selection_required)</a><a class="headerlink" href="#authorization-endpoint-error-session-selection-required" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: session_selection_required</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-endpoint-error-consent-required">
<span id="standard-10-2-4"></span><h4><a class="toc-backref" href="#id83">10.2.4.  Authorization Endpoint Error (consent_required)</a><a class="headerlink" href="#authorization-endpoint-error-consent-required" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: consent_required</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-endpoint-error-user-mismatched">
<span id="standard-10-2-5"></span><h4><a class="toc-backref" href="#id84">10.2.5.  Authorization Endpoint Error (user_mismatched)</a><a class="headerlink" href="#authorization-endpoint-error-user-mismatched" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: user_mismatched</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-endpoint-error-invalid-request-request-uri">
<span id="standard-10-2-6"></span><h4><a class="toc-backref" href="#id85">10.2.6.  Authorization Endpoint Error (invalid_request_request_uri)</a><a class="headerlink" href="#authorization-endpoint-error-invalid-request-request-uri" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: invalid_request_request_uri</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="authorization-endpoint-error-invalid-openid-request-object">
<span id="standard-10-2-7"></span><h4><a class="toc-backref" href="#id86">10.2.7.  Authorization Endpoint Error (invalid_openid_request_object)</a><a class="headerlink" href="#authorization-endpoint-error-invalid-openid-request-object" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: invalid_openid_request_object</li>
<li>Error usage location: Authorization Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="token-endpoint-error-invalid-authorization-code">
<span id="standard-10-2-8"></span><h4><a class="toc-backref" href="#id87">10.2.8.  Token Endpoint Error (invalid_authorization_code)</a><a class="headerlink" href="#token-endpoint-error-invalid-authorization-code" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: invalid_authorization_code</li>
<li>Error usage location: Token Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="userinfo-endpoint-error-invalid-schema">
<span id="standard-10-2-9"></span><h4><a class="toc-backref" href="#id88">10.2.9.  UserInfo Endpoint Error (invalid_schema)</a><a class="headerlink" href="#userinfo-endpoint-error-invalid-schema" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: invalid_schema</li>
<li>Error usage location: UserInfo Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
<div class="section" id="check-id-endpoint-error-invalid-id-token">
<span id="standard-10-2-10"></span><h4><a class="toc-backref" href="#id89">10.2.10.  Check ID Endpoint Error (invalid_id_token)</a><a class="headerlink" href="#check-id-endpoint-error-invalid-id-token" title="Permalink to this headline">¶</a></h4>
<p>The following is the parameter value registration request for the &#8220;scope&#8221; parameter as defined in this specification:</p>
<blockquote>
<div><ul class="simple">
<li>Error name: invalid_schema</li>
<li>Error usage location: UserInfo Endpoint</li>
<li>Related protocol extension:</li>
<li>Change controller: IETF</li>
<li>Specification document(s): [[this document ]]</li>
</ul>
</div></blockquote>
<p>(draft 07)</p>
</div>
</div>
</div>
<div class="section" id="normative-references">
<span id="standard-11"></span><h2><a class="toc-backref" href="#id90">11. Normative References</a><a class="headerlink" href="#normative-references" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-jwe">JWE</dt>
<dd>Jones, M., Rescorla, E., and J. Hildebrand, “JSON Web Encryption (JWE),” December 2011.</dd>
<dt id="term-jws">JWS</dt>
<dd>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, “JSON Web Signature,” December 2011.</dd>
<dt id="term-jwt">JWT</dt>
<dd>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, “JSON Web Token,” December 2011.</dd>
<dt id="term-oauth-bearer">OAuth.Bearer</dt>
<dd>Jones, M., Hardt, D., and D. Recordon, “OAuth 2.0 Protocol: Bearer Tokens,” December 2011.</dd>
<dt id="term-oauth-responses">OAuth.Responses</dt>
<dd>de Medeiros, B., Scurtescu, M., and P. Tarjan, “OAuth 2.0 Multiple Response Type Encoding Practices,” December 2011.</dd>
<dt id="term-oauth2-0">OAuth2.0</dt>
<dd>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, “OAuth 2.0 Authorization Protocol,” September 2011.</dd>
<dt id="term-openid-discovery">OpenID.Discovery</dt>
<dd>Sakimura, N., Bradley, J., Jones, M., and E. Jay, “OpenID Connect Discovery 1.0,” December 2011.</dd>
<dt id="term-openid-messages">OpenID.Messages</dt>
<dd>Sakimura, N., Recordon, D., Bradley, J., de Medeiros, B., Jones, M., and E. Jay, “OpenID Connect Messages 1.0,” December 2011.</dd>
<dt id="term-openid-registration">OpenID.Registration</dt>
<dd>Sakimura, N., Bradley, J., and M. Jones, “OpenID Connect Dynamic Client Registration 1.0,” December 2011.</dd>
<dt id="term-rfc2119">RFC2119</dt>
<dd>Bradner, S., “Key words for use in RFCs to Indicate Requirement Levels,” BCP 14, RFC 2119, March 1997 (TXT, HTML, XML).</dd>
<dt id="term-rfc2616">RFC2616</dt>
<dd>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, “Hypertext Transfer Protocol &#8211; HTTP/1.1,” RFC 2616, June 1999 (TXT, PS, PDF, HTML, XML).</dd>
<dt id="term-rfc4627">RFC4627</dt>
<dd>Crockford, D., “The application/json Media Type for JavaScript Object Notation (JSON),” RFC 4627, July 2006 (TXT).</dd>
<dt id="term-rfc5246">RFC5246</dt>
<dd>Dierks, T. and E. Rescorla, “The Transport Layer Security (TLS) Protocol Version 1.2,” RFC 5246, August 2008 (TXT).</dd>
<dt id="term-rfc6125">RFC6125</dt>
<dd>Saint-Andre, P. and J. Hodges, “Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS),” RFC 6125, March 2011 (TXT).</dd>
<dt id="term-w3c-rec-html401-19991224">W3C.REC-html401-19991224</dt>
<dd>Raggett, D., Hors, A., and I. Jacobs, “HTML 4.01 Specification,” World Wide Web Consortium Recommendation REC-html401-19991224, December 1999 (HTML).</dd>
</dl>
<p>(draft 07)</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="basic.html">OpenID Connect Basic Client 1.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="messages.html">OpenID Connect Messages 1.0</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/660be19d7963.
    </div>
  </body>
</html>