
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenID Connect Implicit Client Implementerâ€™s Guide 1.0 - draft 14 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/basic.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/bootstrap-3.0.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/bootstrap-sphinx.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="OpenID Connect Standard 1.0" href="standard.html" />
    <link rel="prev" title="OpenID Connect Basic Client Profile 1.0" href="basic.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">identity</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="oauth.html">RFC6759:The OAuth 2.0 Authorization Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_bearer.html">The OAuth 2.0 Authorization Framework: Bearer Token Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_threat.html">Auth 2.0 Threat Model and Security Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_revocation.html">RFC7009:Token Revocation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oauth_jwt_bearer.html">JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_saml2_bearer.html">SAML 2.0 Bearer Assertion Profiles for OAuth 2.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oauth_assertion.html">Assertion Framework for OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_mac.html">HTTP Authentication: MAC Access Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_reg.html">OAuth Dynamic Client Registration Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_introspect.html">OAuth Token Introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_meta.html">JSON Metadata for OAuth Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_res_reg.html">OAuth 2.0 Resource Set Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth-lrdd.html">Link relation Type Registrations for OAuth 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_auth.html">OAuth 2.0 User Authentication and Consent For Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_responses.html">OAuth 2.0 Multiple Response Type Encoding Practices - draft 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_post.html">OAuth 2.0 Form Post Response Mode - draft 01</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oauth_res.html">OAuth Resoure</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="openid_connect.html">OpenID Connect</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">OpenID Connect Core 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="reg.html">OpenID Connect Dynamic Client Registration 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="discovery.html">OpenID Connect Discovery 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">OpenID Connect Session Management 1.0</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basic.html">OpenID Connect Basic Client Profile 1.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">OpenID Connect Implicit Client Implementer&#8217;s Guide 1.0 - draft 14</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="standard.html">OpenID Connect Standard 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">OpenID Connect Messages 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="uma_core.html">User-Managed Access (UMA) Profile of OAuth 2.0 : draft09</a></li>
<li class="toctree-l1"><a class="reference internal" href="uma_trust.html">Binding Obligations on User-Managed Access (UMA) Participants</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="jose.html">Terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwa.html">JSON Web Algorithms (JWA) : draft21</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwt.html">JSON Web Token (JWT) : draft19</a></li>
<li class="toctree-l1"><a class="reference internal" href="jws.html">JSON Web Signature (JWS) : draft25</a></li>
<li class="toctree-l1"><a class="reference internal" href="jws_hok.html">Holder-of-Key JSON Web Signature (JWS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwe.html">JSON Web Encryption (JWE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwk.html">JSON Web Key (JWK) : draft24</a></li>
<li class="toctree-l1"><a class="reference internal" href="jws_js.html">JSON Web Signature JSON Serialization (JWS-JS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwe_js.html">JSON Web Encryption JSON Serialization (JWE-JS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jose_usecase.html">Use Cases and Requirements for JSON Object Signing and Encryption (JOSE)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hostmeta.html">Web Host Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="webfinger.html">WebFinger</a></li>
<li class="toctree-l1"><a class="reference internal" href="swd.html">Simple Web Discovery (SWD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="acct.html">The &#8216;acct&#8217; URI Scheme</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rfc3394.html">RFC3394:Advanced Encryption Standard (AES) Key Wrap Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="nist-sp-800-59a.html">NIST SP 800-56A:Recommendation for Pair-Wise Key Establishment Schemes Using Discrete Logarithm Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="nist-sp-800-63.html">Electronic Authentication Guideline</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="backplane.html">Backplane</a></li>
<li class="toctree-l1"><a class="reference internal" href="backplane.html#backplane-2-0">Backplane 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="lrdd.html">LRDD: Link-based Resource Descriptor Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="revoke.html">Token Revocation</a></li>
<li class="toctree-l1"><a class="reference internal" href="poco.html">Portable Contacts 1.0 Draft C</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Terms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="saml.html">SAML</a></li>
<li class="toctree-l1"><a class="reference internal" href="xacml.html">XACML</a></li>
<li class="toctree-l1"><a class="reference internal" href="shibboleth.html">Shibboleth</a></li>
<li class="toctree-l1"><a class="reference internal" href="SamlHokProfile.html">SAML V2.0 Holder-of-Key Assertion Profile Version 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="SamlHokWebSsoProfile.html">SAML V2.0 Holder-of-Key Web Browser SSO Profile Version 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="wss_saml_token_profile.html">Web Services Security SAML Token Profile Version 1.1.1</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scim_rest.html">Simple Cloud Identity Management: Protocol 1.0 (REST API 1.0)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="active_directory.html">Active Directory &amp; Connect</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">TODO/TBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource.html">Resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="discussion.html">Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="signed_nonce.html">Decoupling Identity and Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="adtech.html">AdTech</a></li>
<li class="toctree-l1"><a class="reference internal" href="technight_9.html">Technight #9</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="well-known.html">RFC5783: Defining Well-Known Uniform Resource Identifiers (URIs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rfc5988.html">RFC5988:Web Linking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="impl_id_token.html">ID Token:Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="impl_jws.html">JOSE JWS:Implementation</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">OpenID Connect Implicit Client Implementer&#8217;s Guide 1.0 - draft 14</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#protocol-elements">2.  Protocol Elements</a><ul>
<li><a class="reference internal" href="#implicit-flow">2.1.  Implicit Flow</a><ul>
<li><a class="reference internal" href="#authorization-server-sends-end-user-back-to-client">2.1.5.  Authorization Server Sends End-User Back to Client</a><ul>
<li><a class="reference internal" href="#end-user-grants-authorization">2.1.5.1.  End-User Grants Authorization</a></li>
<li><a class="reference internal" href="#example-redirect-uri-response">2.1.5.3.  Example Redirect URI Response</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="basic.html"
         title="Previous Chapter: OpenID Connect Basic Client Profile 1.0">&laquo; OpenID Connect B...</a></li>
  <li><a href="standard.html"
         title="Next Chapter: OpenID Connect Standard 1.0">OpenID Connect S... &raquo;</a></li>
              
            
            
            
            
              <li>
<div id="sourcelink">
  <a href="sources/implicit.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="openid-connect-implicit-client-implementer-s-guide-1-0-draft-14">
<span id="implicit-head"></span><h1>OpenID Connect Implicit Client Implementer&#8217;s Guide 1.0 - draft 14<a class="headerlink" href="#openid-connect-implicit-client-implementer-s-guide-1-0-draft-14" title="Permalink to this headline">Â¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><a class="reference external" href="https://openid.net/specs/openid-connect-implicit-1_0.html">https://openid.net/specs/openid-connect-implicit-1_0.html</a></li>
</ul>
</div>
<div class="section" id="abstract">
<span id="implicit-abstract"></span><h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">Â¶</a></h2>
<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol. It enables Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User in an interoperable and REST-like manner.</p>
<p>This OpenID Connect Implicit Client Implementer&#8217;s Guide 1.0 contains a subset of the OpenID Connect Core 1.0 specification that is designed to be easy to read and implement for basic Web-based Relying Parties using the OAuth 2.0 Implicit Flow. This specification intentionally duplicates content from the Core specification to provide a self-contained implementer&#8217;s guide for basic Web-based Relying Parties using the OAuth Implicit Flow.</p>
<p>OpenID Providers and non-Web-based applications should instead consult the Core specification.</p>
<p>(draft14)</p>
</div>
<div class="section" id="protocol-elements">
<span id="implicit-2"></span><h2>2.  Protocol Elements<a class="headerlink" href="#protocol-elements" title="Permalink to this headline">Â¶</a></h2>
<p>Authentication Requests can follow one of three paths: the Authorization Code Flow, the Implicit Flow, or the Hybrid Flow. The Authorization Code Flow is intended for Clients that can securely maintain a Client Secret between themselves and the Authorization Server, whereas the Implicit Flow is intended for Clients that cannot. However, the Authorization Code flow is sometimes also used by Native applications and other Clients in order to be able to obtain a Refresh Token, even when they cannot ensure the secrecy of the Client Secret value. The Hybrid Flow combines aspects of the Authorization Code Flow and the Implicit Flow. It enables Clients to obtain an ID Token optionally an Access Token with only one round trip to the Authorization Server, possibly minimizing latency, while still enabling Clients to later get tokens from the Token Endpoint &#8211; especially a Refresh Token.</p>
<p>This specification only provides information that is sufficient for basic Clients using the Implicit Flow.</p>
<p>(draft14)</p>
<div class="section" id="implicit-flow">
<span id="implicit-2-1"></span><h3>2.1.  Implicit Flow<a class="headerlink" href="#implicit-flow" title="Permalink to this headline">Â¶</a></h3>
<p>The Implicit Flow consists of the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Client prepares an Authentication Request containing the desired request parameters.</li>
<li>Client sends the request to the Authorization Server.</li>
<li>Authorization Server authenticates the End-User.</li>
<li>Authorization Server obtains End-User Consent/Authorization.</li>
<li>Authorization Server sends the End-User back to the Client with an ID Token and, if requested, an Access Token.</li>
<li>Client validates the tokens and retrieves the End-User&#8217;s Subject Identifier.</li>
</ol>
</div></blockquote>
<p>(draft14)</p>
<div class="section" id="authorization-server-sends-end-user-back-to-client">
<span id="implicit-2-1-5"></span><h4>2.1.5.  Authorization Server Sends End-User Back to Client<a class="headerlink" href="#authorization-server-sends-end-user-back-to-client" title="Permalink to this headline">Â¶</a></h4>
<p>Once the authorization is determined, the Authorization Server returns a successful response or an error response.</p>
<p>(draft14)</p>
<div class="section" id="end-user-grants-authorization">
<span id="implicit-2-1-5-1"></span><h5>2.1.5.1.  End-User Grants Authorization<a class="headerlink" href="#end-user-grants-authorization" title="Permalink to this headline">Â¶</a></h5>
<p>If the <a class="reference internal" href="uma_core.html#term-resource-owner"><em class="xref std std-term">Resource Owner</em></a> grants the access request,
the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> issues an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a>
and delivers it to the <a class="reference internal" href="uma_core.html#term-client"><em class="xref std std-term">Client</em></a>
by adding the following parameters
to the <em class="xref std std-term">fragment component</em> of the <a class="reference internal" href="glossary.html#term-redirection-uri"><em class="xref std std-term">redirection URI</em></a>
using the <strong>application/x-www-form-urlencoded</strong> format
as defined in <a class="reference internal" href="oauth.html#oauth-4-2-2"><em>Section 4.2.2 of OAuth 2.0</em></a> <a class="reference internal" href="oauth_saml2_bearer.html#term-rfc6749"><em class="xref std std-term">[RFC6749]</em></a>
and OAuth 2.0 Multiple Response Type Encoding Practices <a class="reference internal" href="oauth_post.html#term-oauth-responses"><em class="xref std std-term">[OAuth.Responses]</em></a>.</p>
<p>In the <a class="reference internal" href="glossary.html#term-implicit-flow"><em class="xref std std-term">Implicit Flow</em></a>,
the entire response is returned in the <em class="xref std std-term">fragment component</em> of the redirect URI,
as defined in <a class="reference internal" href="oauth.html#oauth-4-2-2"><em>4.2.2 of OAuth 2.0</em></a> <a class="reference internal" href="oauth_saml2_bearer.html#term-rfc6749"><em class="xref std std-term">[RFC6749]</em></a>.</p>
<dl class="glossary docutils">
<dt id="term-access-token">access_token</dt>
<dd>REQUIRED. Access Token for the UserInfo Endpoint.</dd>
<dt id="term-token-type">token_type</dt>
<dd><p class="first">REQUIRED.</p>
<p>OAuth 2.0 Token Type value.</p>
<p>The value MUST be <a class="reference internal" href="glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a>
or another token_type value that the Client has negotiated with the Authorization Server.</p>
<p class="last">Clients implementing this profile MUST support the OAuth 2.0 Bearer Token Usage <a class="reference internal" href="oauth_introspect.html#term-rfc6750"><em class="xref std std-term">[RFC6750]</em></a> specification.
This profile only describes the use of bearer tokens.</p>
</dd>
<dt id="term-id-token">id_token</dt>
<dd>REQUIRED. ID Token.</dd>
<dt id="term-state">state</dt>
<dd><p class="first">OAuth 2.0 state value.</p>
<p>REQUIRED if the state parameter is present in the Client Authorization Request.</p>
<p class="last">Clients MUST verify that the state value is equal to the exact value of state parameter in the Authorization Request.</p>
</dd>
<dt id="term-expires-in">expires_in</dt>
<dd>OPTIONAL. Expiration time of the Access Token in seconds since the response was generated.</dd>
</dl>
<p>The Client can then use the Access Token to access protected resources at Resource Servers.</p>
<p>The following is a non-normative example (with line wraps for the display purposes only):</p>
<div class="highlight-python"><pre>HTTP/1.1 302 Found
Location: https://client.example.org/cb#
  access_token=SlAV32hkKG
  &amp;token_type=bearer
  &amp;id_token=eyJ0 ... NiJ9.eyJ1c ... I6IjIifX0.DeWt4Qu ... ZXso
  &amp;expires_in=3600
  &amp;state=af0ifjsldkj</pre>
</div>
<p>( draft 09 , <a class="reference external" href="http://openid.net/specs/openid-connect-implicit-1_0.html#implicit_ok">http://openid.net/specs/openid-connect-implicit-1_0.html#implicit_ok</a> )</p>
</div>
<div class="section" id="example-redirect-uri-response">
<span id="implicit-2-1-5-3"></span><h5>2.1.5.3.  Example Redirect URI Response<a class="headerlink" href="#example-redirect-uri-response" title="Permalink to this headline">Â¶</a></h5>
<p>The Client must provide a way for the User-Agent
to parse the fragment encoded response
and post it to the Web Server Client for validation.</p>
<p>The following is an example of a JavaScript file
that a Client might host at its redirect_uri.
This is loaded by the redirect from the Authorization Server.
The fragment is parsed and then sent by POST to a URI that will validate the information received.</p>
<p>Following is a non-normative example of a Redirect URI response:</p>
<div class="highlight-python"><pre>GET /cb HTTP/1.1
Host: client.example.org

HTTP/1.1 200 OK
Content-Type: text/html</pre>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>

<span class="c1">// First, parse the query string</span>
<span class="kd">var</span> <span class="nx">params</span> <span class="o">=</span> <span class="p">{},</span> <span class="nx">postBody</span> <span class="o">=</span> <span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
    <span class="nx">regex</span> <span class="o">=</span> <span class="sr">/([^&amp;=]+)=([^&amp;]*)/g</span><span class="p">,</span> <span class="nx">m</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="nx">m</span> <span class="o">=</span> <span class="nx">regex</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">postBody</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">params</span><span class="p">[</span><span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="nb">decodeURIComponent</span><span class="p">(</span><span class="nx">m</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="p">}</span>

<span class="c1">// And send the token over to the server</span>
<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="c1">// using POST so query isn&#39;t logged</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;https://&#39;</span> <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">host</span> <span class="o">+</span>
                 <span class="s1">&#39;/catch_response&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;application/x-www-form-urlencoded&#39;</span><span class="p">);</span>

<span class="nx">req</span><span class="p">.</span><span class="nx">onreadystatechange</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// If the response from the POST is 200 OK, redirect the user</span>
      <span class="nb">window</span><span class="p">.</span><span class="nx">location</span> <span class="o">=</span> <span class="s1">&#39;https://&#39;</span>
        <span class="o">+</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">host</span> <span class="o">+</span> <span class="s1">&#39;/redirect_after_login&#39;</span>
    <span class="p">}</span>
<span class="c1">// if the OAuth response is invalid, generate an error message</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">400</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;There was an error processing the token&#39;</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Something other than 200 was returned&#39;</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">postBody</span><span class="p">);</span>
</pre></div>
</div>
<p>(draft 10, <a class="reference external" href="http://openid.net/specs/openid-connect-implicit-1_0.html#implicit_callback">http://openid.net/specs/openid-connect-implicit-1_0.html#implicit_callback</a> )</p>
</div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
  <h2>HDKNR.COM</h2>
  
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011, HDKNR.COM.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.<br/>
    </p>
  </div>
</footer>

  </body>
</html>