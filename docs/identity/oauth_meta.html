

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>JSON Metadata for OAuth Responses &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>JSON Metadata for OAuth Responses</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="json-metadata-for-oauth-responses">
<h1><a class="toc-backref" href="#id1">JSON Metadata for OAuth Responses</a><a class="headerlink" href="#json-metadata-for-oauth-responses" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#json-metadata-for-oauth-responses" id="id1">JSON Metadata for OAuth Responses</a><ul>
<li><a class="reference internal" href="#abstract" id="id2">Abstract</a></li>
<li><a class="reference internal" href="#introduction" id="id3">1. Introduction</a></li>
<li><a class="reference internal" href="#requirements" id="id4">2. Requirements</a></li>
<li><a class="reference internal" href="#json-meta-object" id="id5">3. JSON Meta Object</a><ul>
<li><a class="reference internal" href="#links-member" id="id6">3.1. _links Member</a><ul>
<li><a class="reference internal" href="#href" id="id7">3.1.1. href</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><a class="reference external" href="http://tools.ietf.org/html/draft-sakimura-oauth-meta-01">http://tools.ietf.org/html/draft-sakimura-oauth-meta-01</a></li>
</ul>
<div class="section" id="abstract">
<span id="oauth-meta-abstract"></span><h2><a class="toc-backref" href="#id2">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>This specification defines an extensible <em class="xref std std-term">metadata</em> member
that may be inserted into the <a class="reference internal" href="oauth.html"><em>OAuth 2.0</em></a> responses
to assist the <a class="reference internal" href="oauth.html#term-clients"><em class="xref std std-term">clients</em></a> to process those responses.</p>
<p>It is expressed as a member called &#8220;<a class="reference internal" href="#term-links"><em class="xref std std-term">_links</em></a>&#8221;
that is inserted as the top level member in the responses.</p>
<p>It will allow the client to learn
where the members in the response could be used and how, etc.
Since it is just a member,
any client that does not understand this extension should not break
and work normally while supporting clients can utilize the metadata to its advantage.</p>
<p>( <a class="reference external" href="http://tools.ietf.org/html/draft-sakimura-oauth-meta-01">http://tools.ietf.org/html/draft-sakimura-oauth-meta-01</a> )</p>
<p>( draft 01 )</p>
</div>
<div class="section" id="introduction">
<span id="oauth-meta-1"></span><h2><a class="toc-backref" href="#id3">1. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Although OAuth 2.0 <a class="reference internal" href="oauth_introspect.html#term-rfc6749"><em class="xref std std-term">[RFC6749]</em></a> has been known
for its REST friendliness,
OAuth itself is not RESTful,
as it heavily relies on <strong>out-of-band information</strong> to drive the interactions.</p>
<p>This situation can be eased by hypertext-enabling the JSON responses
through the introduction of a member that represents such hypertext
and other metadata.</p>
<p>To achieve this,
this specification introduces a top level member &#8220;<a class="reference internal" href="#term-links"><em class="xref std std-term">_links</em></a>&#8221;
that represents various <em class="xref std std-term">link relationships</em> and other <em class="xref std std-term">metadata</em>.</p>
<p>(draft 01)</p>
</div>
<div class="section" id="requirements">
<span id="oauth-meta-2"></span><h2><a class="toc-backref" href="#id4">2. Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;,
&#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this
document are to be interpreted as described in RFC 2119 [RFC2119].</div></blockquote>
<p>(draft 01)</p>
</div>
<div class="section" id="json-meta-object">
<span id="oauth-meta-3"></span><h2><a class="toc-backref" href="#id5">3. JSON Meta Object</a><a class="headerlink" href="#json-meta-object" title="Permalink to this headline">¶</a></h2>
<p>A JSON Meta Object uses the format described in <a class="reference internal" href="oauth_introspect.html#term-rfc4627"><em class="xref std std-term">[RFC4627]</em></a>
and is intended to be inserted into a JSON document
to express some of the <em class="xref std std-term">metadata</em> associated with it as &#8220;<a class="reference internal" href="#term-links"><em class="xref std std-term">_links</em></a>&#8221; member.</p>
<p>The value of the &#8220;_links&#8221; member is a <strong>JSON object</strong>
that expresses <em class="xref std std-term">link relationships</em> (&#8220;rel&#8221;),
which in turn holds an object with &#8220;href&#8221;
and other members or an array of such objects.</p>
<p>Following non-normative schematic example should help envisage what
it would look like.
(Note: line-wraps are for display purpose only.)</p>
<div class="highlight-json"><pre>{
  "_links":{
    "self":{"href":"https://example.com/token?code=123"},
    "http://openid.net/specs/connect/1.0/#userinfo_ep":[
      {
        "href":"https://example.com/user/{user_id}",
        "method":"GET",
        "Authorize":"{token_type} {access_token}"
      },
      {
        "href":"https://example.com/user/{user_id}",
        "method":"POST",
        "Authorize":"{token_type} {access_token}",
        "params":[
          "name","birthday"
        ]
      }
  },
  "token_type":"Bearer",
  "access_token":"aCeSsToKen"
}</pre>
</div>
<p>Here, we have &#8220;_links&#8221; member that expresses various &#8220;relations&#8221;
such as &#8220;self&#8221; and &#8220;<a class="reference external" href="http://openid.net/specs/connect/1.0/#userinfo_ep">http://openid.net/specs/connect/1.0/#userinfo_ep</a>&#8221;.</p>
<p>Each relationships has either a <em class="xref std std-term">link relations object</em>
or an array of link relations objects as its value.</p>
<p>The link relations objects holds various members such as &#8220;href&#8221;.
They are explained in the next section.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last">
<li><dl class="first docutils">
<dt>上のJSONの例では２つのリレーションシップを含んでいます</dt>
<dd><ul class="first last simple">
<li>self</li>
<li>Connect UserInfo</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>リレーションシップは、</dt>
<dd><ul class="first last simple">
<li>リレーションシップオブジェクト</li>
<li>リレーションシップオブジェクトの配列</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<p>(draft 01)</p>
<div class="section" id="links-member">
<span id="oauth-meta-links"></span><span id="oauth-meta-3-1"></span><h3><a class="toc-backref" href="#id6">3.1. _links Member</a><a class="headerlink" href="#links-member" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-links">_links</dt>
<dd><a class="reference internal" href="#oauth-meta-links"><em>3.1. _links Member</em></a></dd>
</dl>
<p>&#8220;_links&#8221; member holds exactly one object that contains the following
members with relation as the &#8220;string&#8221; defined in [RFC4627].</p>
<p>The &#8220;string&#8221; SHOULD be a link relation type that is either defined
in the IANA registry defined in Web Linking [RFC5988] or a URI that
describes the relation.</p>
<p>Each relation member holds exactly one object or one array,
whose elements are objects.
Each object has following members, which are all optional.</p>
<p>(draft 01)</p>
<div class="section" id="href">
<h4><a class="toc-backref" href="#id7">3.1.1. href</a><a class="headerlink" href="#href" title="Permalink to this headline">¶</a></h4>
<p>The value of the &#8220;href&#8221; member is a <em class="xref std std-term">URI Template</em> <em class="xref std std-term">[RFC6570]</em>
that the relation points to.</p>
<p>The values for template parameters SHOULD be
taken from the value of the top-level members in the including
JSON object whose &#8220;string&#8221; matches the template variable name.</p>
<p>(draft 01)</p>
</div>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/3c28de26aac2.
    </div>
  </body>
</html>