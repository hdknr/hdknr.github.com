

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Breaking change in OAuth 2.0 rev. 23 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <link rel="stylesheet" href="../static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Breaking change in OAuth 2.0 rev. 23</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="breaking-change-in-oauth-2-0-rev-23">
<h1>Breaking change in OAuth 2.0 rev. 23<a class="headerlink" href="#breaking-change-in-oauth-2-0-rev-23" title="Permalink to this headline">¶</a></h1>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001672-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001672.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001672.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001672-html" title="Permalink to this headline">¶</a></h2>
<p>I only noticed now that rev 23 had a breaking change.
it seems to doesn&#8217;t allow the response_type=code token
unless we define another client type such as &#8220;<strong>hybrid</strong>&#8221;.</p>
<p>This is a breaking change.</p>
<p>I wonder why I did not notice it till now.</p>
<p>See below.</p>
<p>&gt;From <a class="reference internal" href="../oauth.html#oauth-2-1"><em>section 2.1</em></a> of
<a class="reference external" href="http://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=draft-ietf-oauth-v2-23.txt">http://tools.ietf.org/rfcdiff?difftype=&#8211;hwdiff&amp;url2=draft-ietf-oauth-v2-23.txt</a></p>
<p>&#8220;A client application consisting of multiple components, each with its
own client type (e.g. a distributed client with both a confidential
server-based component and a public browser-based component), <em>MUST</em>
register each component separately as a different client to ensure
proper handling by the authorization server.&#8221;</p>
<p>Discuss.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001673-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001673.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001673.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001673-html" title="Permalink to this headline">¶</a></h2>
<p>Yes I didn&#8217;t see any discussion on that before the change.</p>
<p>It is unclear if you can define a new client type,
it is not a real parameter.</p>
<p>Perhaps it is enough to say
that any client asking for code token is hybrid
and needs to be treated appropriately.
Though that section seems to make having a separate client_id
for each component mandatory.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001674-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001674.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001674.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001674-html" title="Permalink to this headline">¶</a></h2>
<p>Yes I didn&#8217;t see any discussion on that before the change.</p>
<p>It is unclear if you can define a new client type,
it is not a real parameter.</p>
<p>Perhaps it is enough to say that
any client asking for <a class="reference internal" href="../standard.html#term-code-token"><em class="xref std std-term">code token</em></a> is <strong>hybrid</strong>
and needs to be treated appropriately.
Though that section seems to make
having a separate client_id for each component mandatory.</p>
<p>Indeed, and that&#8217;s the breaking point.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001675-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001675.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001675.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001675-html" title="Permalink to this headline">¶</a></h2>
<p>The way I read it, &#8220;<a class="reference internal" href="../standard.html#term-code-token"><em class="xref std std-term">code token</em></a>&#8221; is its own type,
and it needs to be treated differently from either &#8220;code&#8221; or &#8220;token&#8221;,
which isn&#8217;t a change.
What the intent of the text is, I believe,
is to keep people from using the same client id with &#8220;code&#8221; as with &#8220;token&#8221;.
This would effectively be mixing public and private clients
in the most normal use cases,
which is the section that it&#8217;s in,
and that&#8217;s not a good thing.</p>
<p>I don&#8217;t think it&#8217;s actually a breaking change,
but I&#8217;m less convinced of the utility of normative language here.</p>
<blockquote>
<div>&#8211; Justin</div></blockquote>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001676-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001676.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001676.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001676-html" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The way I read it, &#8220;code token&#8221; is its own type, and it needs to be treated</div></blockquote>
<p>My first take was that but the text goes:</p>
<blockquote>
<div>a distributed client with both a confidential
server-based component and a public browser-based component), <em>MUST</em>
register each component separately as a different client</div></blockquote>
<p>so looks to me that it does not allow that interpretation...</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001684-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001684.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001684.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001684-html" title="Permalink to this headline">¶</a></h2>
<p>A related question came up on the OAuth WG list:
<a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg08548.html">http://www.ietf.org/mail-archive/web/oauth/current/msg08548.html</a>
though I don&#8217;t know if that provides much guidance.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001677-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001677.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001677.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001677-html" title="Permalink to this headline">¶</a></h2>
<p>This is the only discussion about this change.
<a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg08271.html">http://www.ietf.org/mail-archive/web/oauth/current/msg08271.html</a></p>
<p>And this is the response I got in OAuth ML.
<a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg08548.html">http://www.ietf.org/mail-archive/web/oauth/current/msg08548.html</a></p>
<p>According to the Eran&#8217;s reply, I thought extensions (eg. response_type=code token) can overwrite the requirement.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001678-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001678.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001678.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001678-html" title="Permalink to this headline">¶</a></h2>
<p><strong>The problem is the normative MUST language</strong>.
If it were SHOULD, it is less of the problem.</p>
<p>Since it is a MUST, we cannot extend it.
That is the problem that I am pointing  out.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001679-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001679.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001679.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001679-html" title="Permalink to this headline">¶</a></h2>
<p>Not true &#8211; extensions can override MUST requirements
if they specify the conditions that break it.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001682-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001682.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001682.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001682-html" title="Permalink to this headline">¶</a></h2>
<p>Good to know it.
I thought an extension could only extend
from an extension point
but could not override a normative  language.
If it can, it would not be a problem.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001685-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001685.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001685.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001685-html" title="Permalink to this headline">¶</a></h2>
<p>I am quite confused with this change.</p>
<p>In particular,
I am not sure <strong>response_type</strong> is anymore relevant.
Can&#8217;t it be inferred from the client,
since each client is bound to a security context?</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001686-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001686.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001686.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001686-html" title="Permalink to this headline">¶</a></h2>
<p>If we&#8217;re concerned about this change,
we should begin discussing it on the OAuth mailing list
and lobbying to have it undone.
Discussing it on the AB list won&#8217;t accomplish this.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001687-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001687.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001687.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001687-html" title="Permalink to this headline">¶</a></h2>
<p>I agree and I am planning to raise the issue here.
However, I would like to register it here
that I don&#8217;t think the current approach to defer
to extensions is necessarily sufficient to remove all cause for concern by this WG.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001688-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001688.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001688.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001688-html" title="Permalink to this headline">¶</a></h2>
<p>&gt; If we’re concerned about this change, we should begin discussing it on the
&gt; OAuth mailing list and lobbying to have it undone.  Discussing it on the AB
&gt; list won’t accomplish this.</p>
<p>I just sent a message to the OAuth list in this regard. Yes, I think
this should be debated there.</p>
<p>Marius</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001689-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001689.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001689.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001689-html" title="Permalink to this headline">¶</a></h2>
<p>So it was my attempt to see if it were a problem that we can solve
here or not and good to hear that you filed it to the oauth list.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001680-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001680.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001680.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001680-html" title="Permalink to this headline">¶</a></h2>
<p>The change does not preclude these being the same physical client</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001681-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001681.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120312/001681.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120312-001681-html" title="Permalink to this headline">¶</a></h2>
<p>Right, this, too. A client could effectively have two personae.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/660be19d7963.
    </div>
  </body>
</html>