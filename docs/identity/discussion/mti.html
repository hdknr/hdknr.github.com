

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mandatory-to-implement token type &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <link rel="stylesheet" href="../static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Mandatory-to-implement token type</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="mandatory-to-implement-token-type">
<h1>Mandatory-to-implement token type<a class="headerlink" href="#mandatory-to-implement-token-type" title="Permalink to this headline">¶</a></h1>
<div class="section" id="http-www-ietf-org-mail-archive-web-oauth-current-msg07906-html">
<h2><a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg07906.html">http://www.ietf.org/mail-archive/web/oauth/current/msg07906.html</a><a class="headerlink" href="#http-www-ietf-org-mail-archive-web-oauth-current-msg07906-html" title="Permalink to this headline">¶</a></h2>
<p>Stephen, as AD, brought up the question of <em class="xref std std-term">mandatory-to-implement</em>
token types, in the IETF 82 meeting.  There was some extended
discussion on the point:</p>
<ul class="simple">
<li>Stephen is firm in his belief that it&#8217;s necessary for interoperability.
He notes that mandatory to <em>implement</em> is not the same as mandatory to <em>use</em>.</li>
<li>Several participants believe
that without a mechanism for requesting or negotiating a token type,
there is no value in having any type be <em class="xref std std-term">mandatory to implement</em>.</li>
</ul>
<p>Stephen is happy to continue the discussion on the list, and make his point clear.
In any case,
there was clear consensus in the room that we <em>should</em> specify a <em class="xref std std-term">mandatory-to-implement</em> type,
and that that type be <a class="reference internal" href="../glossary.html#term-bearer-tokens"><em class="xref std std-term">bearer tokens</em></a>.
This would be specified in the base document,
and would make a normative reference from the base doc to the bearer token doc.</p>
<p>We need to confirm that consensus on the mailing list,
so this starts the discussion.
Let&#8217;s work on resolving this over the next week or so, and moving forward:</p>
<ol class="arabic simple">
<li>Should we specify some token type as <em class="xref std std-term">mandatory to implement</em>?
Why or why not (<em>briefly</em>)?</li>
<li>If we do specify one, which token type should it be?</li>
</ol>
<p>Barry, as chair</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>mandatory-to-implement</li>
<li>mandatory-to-use</li>
</ul>
</div>
</div>
<div class="section" id="http-www-ietf-org-mail-archive-web-oauth-current-msg07918-html">
<h2><a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg07918.html">http://www.ietf.org/mail-archive/web/oauth/current/msg07918.html</a><a class="headerlink" href="#http-www-ietf-org-mail-archive-web-oauth-current-msg07918-html" title="Permalink to this headline">¶</a></h2>
<p>&gt; 1. Should we specify some token type as mandatory to implement?  Why
&gt; or why not (<em>briefly</em>)?</p>
<p>No,
since I do not believe that the force of compliance with this one point of the spec
will be enough to persuade those who don&#8217;t want to use
whatever the MTI token type ends up being to use it.
Let&#8217;s say that we were to pick <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a>,
but Example.com decides to only support <a class="reference internal" href="../glossary.html#term-mac"><em class="xref std std-term">MAC</em></a> for their API.
Is it correct to say that Example.com is not really doing OAuth2?
I would argue no,
since they&#8217;re doing everything within spec to issue tokens,
and the tokens that they&#8217;re issuing are well defined and within spec as well.
So then let&#8217;s say, hypothetically, that in order comply with the letter of the law,
they implement a <a class="reference internal" href="../oauth_threat.html#term-bearer-token"><em class="xref std std-term">Bearer token</em></a> as well as <a class="reference internal" href="../glossary.html#term-mac"><em class="xref std std-term">MAC</em></a>.
But which type do they issue to clients?
Clients have no way of choosing or discovering which what kind of token comes back (yet).
If <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a> is MTI, how do you even use another token type?</p>
<p>Which brings us to <em class="xref std std-term">MTI</em> in clients,  <a class="footnote-reference" href="#id2" id="id1">[1]</a>
which makes even less sense.
Let&#8217;s say that I&#8217;m writing a client to talk to Example.com,
which hands back <em class="xref std std-term">MAC tokens</em>.
I want to comply with the spec,
so I implement <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a> support in my client,
code paths which will never see the light of day.</p>
<p>Then there&#8217;s the argument
that a generic library is what&#8217;s really meant by &#8220;client&#8221; here,
and that those MUST follow the MTI guidelines.
I also find this to be ludicrous, since client libraries will implement whatever servers support.
A good client library will support <em>both</em> <a class="reference internal" href="../glossary.html#term-mac"><em class="xref std std-term">MAC</em></a> and <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a> together,
along with whatever magical tokens that haven&#8217;t been dreamed up yet that are getting traction.</p>
<p>Ultimately, I think that our declaring something MTI is a position of
hubris that won&#8217;t affect how people really use this thing.</p>
<blockquote>
<div>&#8211; Justin</div></blockquote>
</div>
<div class="section" id="http-www-ietf-org-mail-archive-web-oauth-current-msg07921-html">
<h2><a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg07921.html">http://www.ietf.org/mail-archive/web/oauth/current/msg07921.html</a><a class="headerlink" href="#http-www-ietf-org-mail-archive-web-oauth-current-msg07921-html" title="Permalink to this headline">¶</a></h2>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>: refered.</td></tr>
</tbody>
</table>
<p>I think this is really the key problem.
To date, there isn&#8217;t a unified library that clients and servers are using
that could force this issue:
every server/site is rolling their own oauth sdk,
and they don&#8217;t have much reason <em>now</em> to change that.
If/when something emerged as being the oauth equivalent of openssl,
then it would make sense to tighten requirements on such a library
to achieve better interoperability.
It would also coincide with actual real world _knowledge_ of
what the appropriate MUST-IMPLEMENT&#8217;s are instead of guessing.
All a <em class="xref std std-term">mandatory requirement</em> will do now is alienate a lot implementations
who are otherwise striving to be compliant.</p>
<p>So my bottom line to Stephen:
defer this to a later recycle of the rfc.</p>
<p>Mike</p>
</div>
<div class="section" id="http-www-ietf-org-mail-archive-web-oauth-current-msg07923-html">
<h2><a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg07923.html">http://www.ietf.org/mail-archive/web/oauth/current/msg07923.html</a><a class="headerlink" href="#http-www-ietf-org-mail-archive-web-oauth-current-msg07923-html" title="Permalink to this headline">¶</a></h2>
<p>&gt; 1. Should we specify some token type as mandatory to implement?  Why or
&gt; why not (<em>briefly</em>)?</p>
<p>On the server - no.
It makes no sense
because the server <strong>dictates</strong> the token type
so if it decides to never issue the mandated type,
what&#8217;s the point in implementing?</p>
<p>On the client, maybe.
If the server knows that a client will always understand a set of token types,
it can choose to use that and ensure interop (or not).
In practice,
<strong>mandating will add no real interop value</strong>.
Almost every client will hard-code the token types
it needs to understand and providers are not likely to support more than one or to change it.
We can mandate a type for &#8216;generic clients&#8217; so that libraries support both,
but it won&#8217;t actually make any difference.</p>
<p>Bottom line,
this is a red herring.
OAuth doesn&#8217;t really provide this level of interop and was never designed for that.
In the future,
when we have more interop web APIs (photos, social, etc.)
and we have real world experience with discovery,
this will be important. But that&#8217;s a few years away (at least).</p>
<p>&gt; 2. If we do specify one, which token type should it be?</p>
<p>This is a no win situation.
Most providers will ignore a requirement to support MAC,
or will support it but will not see much usage because most developers
when given the choice will go with <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a>.
Mandating <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a> will be ignored by providers who want better security
and will most likely render <a class="reference internal" href="../glossary.html#term-mac"><em class="xref std std-term">MAC</em></a> pointless.
If we mandate <a class="reference internal" href="../glossary.html#term-bearer"><em class="xref std std-term">Bearer</em></a>,
I see no point in even publishing <a class="reference internal" href="../glossary.html#term-mac"><em class="xref std std-term">MAC</em></a>
as it will turn into a purely theoretical exercise.</p>
<p>Given the history of this group,
no change is the only likely consensus.</p>
<p>EHL</p>
</div>
<div class="section" id="http-www-ietf-org-mail-archive-web-oauth-current-msg07973-html">
<h2><a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg07973.html">http://www.ietf.org/mail-archive/web/oauth/current/msg07973.html</a><a class="headerlink" href="#http-www-ietf-org-mail-archive-web-oauth-current-msg07973-html" title="Permalink to this headline">¶</a></h2>
<p>Re: &#8220;So, pick one (my strong personal preference) or establish and
document why you&#8217;re not picking one seem to me to be the choices
available.&#8221;</p>
<p>We don&#8217;t have discovery done (enough)
yet to lean on it in the core spec,
but if we did I&#8217;d be in favor of something that says
that you must implement either an MTI token
OR a discovery mechanism that advertises at least one token.
Would that be workable?</p>
<p>We could bang on the discovery stuff in pretty short order I think if we needed to.</p>
<p>-bill</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>