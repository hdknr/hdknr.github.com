

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Does Connect support public clients? &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <link rel="stylesheet" href="../static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Does Connect support public clients?</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="does-connect-support-public-clients">
<h1>Does Connect support public clients?<a class="headerlink" href="#does-connect-support-public-clients" title="Permalink to this headline">¶</a></h1>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001592-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001592.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001592.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001592-html" title="Permalink to this headline">¶</a></h2>
<p>Hi all,</p>
<p>I&#8217;m unable to find out whether OpenID Connect supports <a class="reference internal" href="../oauth.html#term-public-clients"><em class="xref std std-term">public clients</em></a>.
It seems Connect assumes all clients register with the OP and obtain a
client credential. If this observation is correct, what is the reason
for being <strong>more restrictive</strong> than OAuth?</p>
<p>regards,
Torsten.</p>
<p>Torsten,</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001598-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001598.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001598.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001598-html" title="Permalink to this headline">¶</a></h2>
<p>From your tickets it looks like you are thinking that the <em class="xref std std-term">Basic client profile</em> is for <em class="xref std std-term">JS clients</em>
in the browser doing <em class="xref std std-term">canvas type Aps</em> and directly accessing the <em class="xref std std-term">check_id</em> and <em class="xref std std-term">user_info</em> endpoints.</p>
<p>The idea for what i&#8217;t worth was that it is intended to be a <em class="xref std std-term">Web server profile</em>
that uses the browser side <a class="reference internal" href="../glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a>,
with a simple sever side callback that extracts the fragment
and passes it to the server for processing and verification.
That is why <em class="xref std std-term">Cross Origin Resource</em> sharing is not mentioned win that profile.</p>
<p>It is true
that that profile could be used for a <em class="xref std std-term">Canvas type JS app</em> in the browser
accessing the endpoints as well.</p>
<p>Would your preference have been to make the <em class="xref std std-term">basic client</em> use the <em class="xref std std-term">code flow</em>?
It is arguably similar in complexity at the end of the day,
but with better security for <em class="xref std std-term">Web Server type applications</em>.</p>
<p>I would probably just have the <a class="reference internal" href="../glossary.html#term-client"><em class="xref std std-term">client</em></a> base64 decode the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a>
and forget calling the <em class="xref std std-term">check_id endpoint</em>.
If the client doesn&#8217;t have the correct token endpoint
and gives the <a class="reference internal" href="../glossary.html#term-219"><em class="xref std std-term">client secret</em></a> to it checking the signature on the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a> is not very useful:)</p>
<p>Regards
John B.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001596-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001596.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001596.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001596-html" title="Permalink to this headline">¶</a></h2>
<p>All clients must register there <em class="xref std std-term">redirect_url</em> and get a <a class="reference internal" href="../standard.html#term-client-id"><em class="xref std std-term">client_id</em></a>.</p>
<p>They are <strong>not required</strong> to use the <a class="reference internal" href="../glossary.html#term-219"><em class="xref std std-term">client secret</em></a> if they are <a class="reference internal" href="../oauth.html#term-public-clients"><em class="xref std std-term">public clients</em></a>.</p>
<p>We talked about allowing a <a class="reference internal" href="../standard.html#term-client-id"><em class="xref std std-term">client_id</em></a> of  &#8220;public&#8221;
and not requiring pre-registerd <a class="reference internal" href="../standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a>,
but the feedback was that <strong>IdP were uncomfortable</strong> giving <a class="reference internal" href="../glossary.html#term-access-tokens"><em class="xref std std-term">access tokens</em></a> to unknown clients.</p>
<p><a class="reference internal" href="../glossary.html#term-oauth"><em class="xref std std-term">OAuth</em></a> recommends against <a class="reference internal" href="../oauth.html#term-public-clients"><em class="xref std std-term">public clients</em></a> with <strong>unregistered</strong> <a class="reference internal" href="../standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a>.</p>
<p>In a effort to have some balance we do have <a class="reference internal" href="../glossary.html#term-dynamic-registration"><em class="xref std std-term">dynamic registration</em></a> for <a class="reference internal" href="../glossary.html#term-clients"><em class="xref std std-term">clients</em></a>.</p>
<p>If a user wants to revoke a <a class="reference internal" href="../glossary.html#term-client"><em class="xref std std-term">client</em></a> not having all of them
with the same <a class="reference internal" href="../standard.html#term-client-id"><em class="xref std std-term">client_id</em></a> is probably an advantage.</p>
<p>If it is something you think you need I am open to discussing it.</p>
<p>John B.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001599-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001599.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001599.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001599-html" title="Permalink to this headline">¶</a></h2>
<p>I would prefer to have the <em class="xref std std-term">Basic Client</em> use the <em class="xref std std-term">code flow</em>
for another reason:
the <strong>code flow</strong> is the only one that&#8217;s mandatory to implement for the <a class="reference internal" href="../glossary.html#term-server"><em class="xref std std-term">server</em></a>.
So what we have right now is advice for <em class="xref std std-term">servers</em> to implement
something that our advice to <a class="reference internal" href="../glossary.html#term-clients"><em class="xref std std-term">clients</em></a> say they don&#8217;t have to.</p>
<blockquote>
<div>&#8211; Justin</div></blockquote>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001600-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001600.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001600.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001600-html" title="Permalink to this headline">¶</a></h2>
<p>Both <a class="reference internal" href="../standard.html#term-19"><em class="xref std std-term">code</em></a> and &#8216;<em class="xref std std-term">token id_token</em>&#8216;  should be <em class="xref std std-term">mediatory to implement</em> for <em class="xref std std-term">servers</em>.</p>
<p>Is there a particular place that you are seeing that in the spec.
I think that is a bug, if true.   I will look for it today.</p>
<p>If the WG did want code to be the only <a class="reference internal" href="#term-mti-flow"><em class="xref std std-term">MTI flow</em></a> then we would defiantly need
to change the <em class="xref std std-term">basic profile</em> to <a class="reference internal" href="../standard.html#term-19"><em class="xref std std-term">code</em></a>.</p>
<p>John</p>
<dl class="glossary docutils">
<dt id="term-mti-flow"><span id="term-mti-token"></span><span id="term-mti"></span><span id="term-mandatory-to-implement"></span>MTI flow<br />MTI Token<br />MTI<br />mandatory-to-implement</dt>
<dd><p class="first">may be Mandatory-To-Implement flow. Connect Basic MUST implement &#8220;code&#8221; and &#8220;token id_token&#8221;.</p>
<p class="last">OAuth MTI token discussion is  <a class="reference external" href="http://www.ietf.org/mail-archive/web/oauth/current/msg07906.html">http://www.ietf.org/mail-archive/web/oauth/current/msg07906.html</a></p>
</dd>
</dl>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001601-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001601.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001601.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001601-html" title="Permalink to this headline">¶</a></h2>
<p>Hrm. Reading through the drafts again just now, it does clearly say that
&#8216;<a class="reference internal" href="../standard.html#term-19"><em class="xref std std-term">code</em></a>&#8216; and &#8216;<em class="xref std std-term">token id_token</em>&#8216; are <a class="reference internal" href="#term-mti"><em class="xref std std-term">MTI</em></a>,
so I&#8217;m not sure where I got that impression from.
My mistake.</p>
<blockquote>
<div>&#8211; Justin</div></blockquote>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001602-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001602.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001602.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001602-html" title="Permalink to this headline">¶</a></h2>
<p>No problem, sometimes even I am surprised by things that have snuck in
or are left over from older versions.</p>
<p>Do you still prefer the <a class="reference internal" href="../standard.html#term-19"><em class="xref std std-term">code</em></a> follow for the <em class="xref std std-term">basic client profile</em>?</p>
<p>John</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001603-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001603.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001603.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001603-html" title="Permalink to this headline">¶</a></h2>
<p>Yes, I certainly do. <strong>It&#8217;s cleaner in design</strong>, its pattern is <strong>more proven</strong>,
and it can be implemented in all kinds of different clients, even
lightweight Javascript ones.</p>
<p>The <a class="reference internal" href="../glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a> is an optimization for <strong>fewer network calls</strong>,
and it&#8217;s always felt more like a <strong>codified hack</strong> than a real protocol flow to me.
Whenever I&#8217;ve seen somebody pressed on the issue of whether
or not their clients could really support the <em class="xref std std-term">code flow</em>,
they&#8217;ve admitted that yes, they could, but they didn&#8217;t want to pay
the time costs of a second round trip to the server.</p>
<p>We&#8217;re also concentrating on the <em class="xref std std-term">code flow</em> for our own Connect
deployment, and we&#8217;ll patch in the <a class="reference internal" href="../glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a> sometime later.</p>
<blockquote>
<div>&#8211; Justin</div></blockquote>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001604-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001604.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001604.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001604-html" title="Permalink to this headline">¶</a></h2>
<p>As I recall it was Facebook and Google who were keen on the <a class="reference internal" href="../glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a>.</p>
<p>Part of the argument was that
it was easier to get someone to implement it by dropping some <em class="xref std std-term">JS code</em>
on their site for the <em class="xref std std-term">callback URI</em> and setting the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a> as a <em class="xref std std-term">cookie</em>.</p>
<p>It is a different approach than the more traditional library one, that fits the <em class="xref std std-term">code flow</em> better.</p>
<p>I am not personally attached to the <a class="reference internal" href="../glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a>.</p>
<p>However we probably need wider feedback before changing the <em class="xref std std-term">basic client profile</em>.</p>
<p>John</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Implicit Flow advantages:</p>
<ul class="last simple">
<li>Easier to deploy:  Just drop Facebook/Google provided Javscript on your pages.</li>
<li>ID Token can be user agent authenication cookie.   It is good for big cloud providers like Google/Facebook.</li>
</ul>
</div>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001627-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001627.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001627.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001627-html" title="Permalink to this headline">¶</a></h2>
<p>&gt; As I recall it was Facebook and Google who were keen on the implicit flow.</p>
<p>Actually, I think I suggested at least once to have &#8216;<a class="reference internal" href="../standard.html#term-19"><em class="xref std std-term">code</em></a>&#8216; be the
basic flow in OpenIDConnect.
Not that I think the current approach of using &#8216;token&#8217; to have been a bad decision.
Just that I don&#8217;t have a strong view either way.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001628-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001628.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001628.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001628-html" title="Permalink to this headline">¶</a></h2>
<p>It was a close decision, as I recall.
Both flows work almost equally well.</p>
<p>The question was what would look simpler for a client to implement.</p>
<p>I think the thought at the time was that we could produce a <em class="xref std std-term">JS</em>
that someone could drop on their site and have them up and running
with the <em class="xref std std-term">Basic profile</em> <strong>without significant server side programming</strong>.</p>
<p>One thing we are missing for the current Basic profile is that drop in JS code example.</p>
<p>Without the implicit example/template JS the <em class="xref std std-term">code flow</em> may be simper for server side programers to understand.</p>
<p>John B.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001629-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001629.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001629.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001629-html" title="Permalink to this headline">¶</a></h2>
<p>The <em class="xref std std-term">token flow</em> is simpler <em>if</em> there&#8217;s an existing corroborating server page
with the returned javascript, which is the Facebook use case.
Without that existing code, as John points out,
it&#8217;s no simpler than the code, and potentially more complex to implement securely.</p>
<blockquote>
<div>&#8211; Justin</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Javascript proof sample is required for Basic RP implementer.</p>
</div>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001630-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001630.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001630.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001630-html" title="Permalink to this headline">¶</a></h2>
<p>This sounds to me like an argument for us
to create the JavaScript code so the promise of clients not having do any substantial programming
to use Connect can come true.
That&#8217;s the reason we chose the <a class="reference internal" href="../glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a>,
and why I think we should make it possible by getting the code written.</p>
<p>The process of writing the code might also give us valuable feedback on the specs,
while we&#8217;re still at Implementer&#8217;s Draft stage.</p>
<p>Who would make sense to write that code?
Maybe we could use <strong>some directed funding</strong> to make it happen???</p>
<blockquote>
<div>&#8211; Mike</div></blockquote>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001631-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001631.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001631.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001631-html" title="Permalink to this headline">¶</a></h2>
<p>There are two approaches we could take with the JS code.</p>
<p>The <strong>simple one</strong> is the example code I posted earlier in the thread
that the client puts at it <a class="reference internal" href="../standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a>
and it takes the <a class="reference internal" href="../glossary.html#term-fragment"><em class="xref std std-term">fragment</em></a> and sends it to the <em class="xref std std-term">Web server client</em> via POST for parsing.</p>
<p>The <strong>more complicated one</strong> would be to have the JS make the and process
the response setting the validated <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a> as a cookie
and save the <em class="xref std std-term">user_info</em> attributes to <em class="xref std std-term">HTML local storage</em> or post them back to the <em class="xref std std-term">Web Client</em>.</p>
<p>That would be the most standalone example.
Include a <em class="xref std std-term">JS login widget</em> and it will set a <em class="xref std std-term">openID cookie</em> once they are logged in.
The Web Client just needs to validate the signature of the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a>.</p>
<p>There are probably in-between states.
There is probably example code around for most of that,
someone needs to put it together and clean it up.</p>
<p>John  B</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001632-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001632.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001632.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001632-html" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s add discussion of getting this code written to our agenda for the in-person working group meeting.</p>
<blockquote>
<div>&#8211; Mike</div></blockquote>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001636-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001636.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001636.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001636-html" title="Permalink to this headline">¶</a></h2>
<p>+1</p>
<p>Unlike FB Connect, we do support <em class="xref std std-term">asymmetric signature</em>
so the <em class="xref std std-term">signature validation</em> actually can be done by the JS client as well.</p>
<p>=nat</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001637-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001637.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001637.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001637-html" title="Permalink to this headline">¶</a></h2>
<p>Yes, but the <em class="xref std std-term">Basic client profile</em> is <strong>only using symmetric signatures</strong>.</p>
<p>The other issues is even if the <em class="xref std std-term">JS client</em> can validate the signature
the Web server still can&#8217;t trust the validation,
it needs to validate the assertion itself
before releasing any of it&#8217;s resources to the client.</p>
<p>I suppose one interesting option
we haven&#8217;t talked about is using the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a>
as the <a class="reference internal" href="../standard.html#term-30"><em class="xref std std-term">access_token</em></a> for additional API resources on the <em class="xref std std-term">Client Web Server</em>.
That should work quite nicely given the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a> has the <a class="reference internal" href="../glossary.html#term-client"><em class="xref std std-term">client</em></a> as it&#8217;s <a class="reference internal" href="../glossary.html#term-audience"><em class="xref std std-term">audience</em></a> already.</p>
<p>John B.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001638-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001638.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001638.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001638-html" title="Permalink to this headline">¶</a></h2>
<p>In the case of FB,
only the way that the <em class="xref std std-term">web server</em> can protect itself and
the user is to send the <a class="reference internal" href="../glossary.html#term-access-token"><em class="xref std std-term">access token</em></a> to an undocumented api /app and get
the intended <a class="reference internal" href="../standard.html#term-client-id"><em class="xref std std-term">client_id</em></a>.</p>
<p>That is just like the <a class="reference internal" href="../messages.html#term-check-id-endpoint"><em class="xref std std-term">check id endpoint</em></a> except that
it is using <a class="reference internal" href="../glossary.html#term-access-token"><em class="xref std std-term">access token</em></a> instead: i.e., it is a <em class="xref std std-term">Check access token endpoint</em>.
We could define such an extension endpoint.</p>
<p>Nat</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001639-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001639.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001639.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001639-html" title="Permalink to this headline">¶</a></h2>
<p>The current proposal is to <strong>add a hash</strong> of the <a class="reference internal" href="../standard.html#term-30"><em class="xref std std-term">access_token</em></a>
to the <a class="reference internal" href="../standard.html#term-24"><em class="xref std std-term">id_token</em></a> so that we would not need a separate <a class="reference internal" href="../standard.html#term-30"><em class="xref std std-term">access_token</em></a> <em class="xref std std-term">introspection endpoint</em>.</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001605-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001605.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001605.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001605-html" title="Permalink to this headline">¶</a></h2>
<p>Actually, after Johns blog post about the vulnerability of OAuth as
authentication, I got a strong feedback from security and privacy community
that <em class="xref std std-term">it is insane to send the token to the server</em>.
The token was issued to the <a class="reference internal" href="../glossary.html#term-157"><em class="xref std std-term">user agent</em></a>
and sending that to the server constitutes security, privacy and policy breach.
If we are to avoid sending token to the server,
implicit flow is not simple any more.
We have to use CORS or postMessage inter frame communication etc.</p>
<p>That is another reason to consider the possibility of making the code flow the default.</p>
<p>Nat Sakimura</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To whom Implict tokens are to be issued  ?</p>
<blockquote class="last">
<div><ol class="arabic simple">
<li>User Agent : User must grant to issue a token to UA where his privacy data is used at.</li>
<li>User Agent and Client : Javascript and pages are controlled by Clients anyway.</li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001606-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001606.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001606.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001606-html" title="Permalink to this headline">¶</a></h2>
<p>+1 pro <a class="reference internal" href="../standard.html#term-19"><em class="xref std std-term">code</em></a> as default flow
Gesendet mit BlackBerry® Webmail von Telekom Deutschland</p>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001625-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001625.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001625.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001625-html" title="Permalink to this headline">¶</a></h2>
<p>Actually, I am not suggeting to through current Basic Client (side flow) Profile.</p>
<p>I was suggesting that perhaps it would be worthwhile to have appropriately
constrained Basic Server side flow Profile as well.</p>
<p>Reading through some of the FB documentation,
<strong>I believe it does not have to be in the RFC format</strong>, really.
For those people who wants to read only a concise document,
a white paper or a blog post like thing in a similar manner to
<a class="reference external" href="http://nat.sakimura.org/2012/01/20/openid-connect-nutshell/">http://nat.sakimura.org/2012/01/20/openid-connect-nutshell/</a> would be more
valuable, I suppose.</p>
<p>=nat</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Could be two basics:</p>
<ul class="last simple">
<li>Basic Client Side</li>
<li>Basic Server Side</li>
</ul>
</div>
</div>
<div class="section" id="http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001626-html">
<h2><a class="reference external" href="http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001626.html">http://lists.openid.net/pipermail/openid-specs-ab/Week-of-Mon-20120220/001626.html</a><a class="headerlink" href="#http-lists-openid-net-pipermail-openid-specs-ab-week-of-mon-20120220-001626-html" title="Permalink to this headline">¶</a></h2>
<p>A correction: s/through/throw away/=</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>