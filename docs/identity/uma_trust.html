

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Binding Obligations on User-Managed Access (UMA) Participants &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="Terms" href="jose.html" />
    <link rel="prev" title="User-Managed Access (UMA) Profile of OAuth 2.0" href="uma_core.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Binding Obligations on User-Managed Access (UMA) Participants</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="uma_core.html">User-Managed Access (UMA) Profile of OAuth 2.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="jose.html">Terms</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="binding-obligations-on-user-managed-access-uma-participants">
<h1>Binding Obligations on User-Managed Access (UMA) Participants<a class="headerlink" href="#binding-obligations-on-user-managed-access-uma-participants" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Internet Draft 化しました</li>
<li>Based on <a class="reference external" href="http://tools.ietf.org/html/draft-maler-oauth-umatrust-00">http://tools.ietf.org/html/draft-maler-oauth-umatrust-00</a></li>
</ul>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id1">Abstract</a></li>
<li><a class="reference internal" href="#introduction" id="id2">1. Introduction</a><ul>
<li><a class="reference internal" href="#distinguishing-software-endpoints-from-legally-responsible-parties" id="id3">2.1 Distinguishing Software Endpoints from Legally Responsible Parties</a></li>
<li><a class="reference internal" href="#sharing-constellations" id="id4">2.2. Sharing Constellations</a></li>
<li><a class="reference internal" href="#uma-trust-relationships" id="id5">2.3. UMA Trust Relationships</a><ul>
<li><a class="reference internal" href="#the-authorizing-user-requesting-party-trust-relationships-at-the-heart-of-uma" id="id6">2.3.1. The Authorizing User-Requesting Party Trust Relationships at the Heart of UMA</a></li>
<li><a class="reference internal" href="#the-trust-relationships-among-the-authorizing-user-am-operator-and-host-operator-formed-by-their-introduction" id="id7">2.3.2. The Trust Relationships Among the Authorizing User, AM Operator, and Host Operator Formed by Their Introduction</a></li>
<li><a class="reference internal" href="#the-trust-relationships-between-the-host-operator-and-am-operator-that-govern-the-protection-api" id="id8">2.3.3. The Trust Relationships Between the Host Operator and AM Operator That Govern the Protection API</a></li>
<li><a class="reference internal" href="#the-trust-relationships-between-the-am-operator-and-requesting-party-that-govern-access" id="id9">2.3.4. The Trust Relationships Between The AM Operator and Requesting Party That Govern Access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-role-of-private-agreements" id="id10">2.4. The Role of Private Agreements</a></li>
</ul>
</li>
</ul>
</div>
<table class="docutils field-list" frame="void" id="uma-trust-abstract" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">orphan:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="section" id="abstract">
<h2><a class="toc-backref" href="#id1">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="uma_core.html"><em>User-Managed Access</em></a> (UMA) is a profile of OAuth 2.0.</p>
<p>UMA defines how resource owners can control protected-resource access by clients
operated by arbitrary requesting parties, where the resources reside
on any number of resource servers, and where a centralized
authorization server governs access based on resource owner policy.</p>
<p>This document provides a <strong>contractual framework</strong> that defines the
<strong>minimum obligations</strong> of parties that operate and use
UMA-conforming software programs and services.</p>
<p>The goal of this framework is to support <strong>end-to-end legal enforceability</strong>
of the terms and conditions of access sharing relationships
between authorizing and requesting sides that use UMA.</p>
<p>The audience for this document includes technologists,
legal professionals, and operators of UMA-conforming services.</p>
<p>(draft 00 : <a class="reference external" href="http://tools.ietf.org/html/draft-maler-oauth-umatrust-00">http://tools.ietf.org/html/draft-maler-oauth-umatrust-00</a>)</p>
</div>
<div class="section" id="introduction">
<span id="uma-trust-2"></span><h2><a class="toc-backref" href="#id2">1. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="glossary.html#term-uma"><em class="xref std std-term">UMA</em></a> is a protocol that describes a technical &#8220;contract&#8221;
for HTTP-based interactions
(such as standardized request and response messages involving standardized data formats)
among compliant software entities.
The entities fill various roles in order to achieve &#8220;user-managed access&#8221; to Web resources.
The following diagram illustrates the high-level goal of UMA.</p>
<img alt="images/overall-goal.png" src="images/overall-goal.png" />
<p>The following diagram illustrates the high-level architecture UMA uses to achieve its goal.</p>
<img alt="images/architecture.png" src="images/architecture.png" />
<p>Software entities participating in a protocol are frequently known as endpoints. The UMA endpoints are:</p>
<blockquote>
<div><ul>
<li><p class="first"><em class="xref std std-term">Authorizing user</em> (the &#8220;user&#8221; in User-Managed Access)</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;User&#8221; is often used informally in the UMA spec,
where what is really meant is the browser</li>
</ul>
<blockquote>
<div><p>(or other client software application) being operated by this person</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="glossary.html#term-authorization-manager"><em class="xref std std-term">Authorization manager</em></a> (<a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>)</p>
</li>
<li><p class="first"><a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">Host</em></a> (of &#8220;<a class="reference internal" href="glossary.html#term-protected-resources"><em class="xref std std-term">protected resources</em></a>&#8221;)</p>
</li>
<li><p class="first"><em class="xref std std-term">Requester</em></p>
</li>
</ul>
</div></blockquote>
<div class="section" id="distinguishing-software-endpoints-from-legally-responsible-parties">
<span id="uma-trust-2-1"></span><h3><a class="toc-backref" href="#id3">2.1 Distinguishing Software Endpoints from Legally Responsible Parties</a><a class="headerlink" href="#distinguishing-software-endpoints-from-legally-responsible-parties" title="Permalink to this headline">¶</a></h3>
<p>Because software is just a tool
and can’t be held legally responsible for its own actions,
and because <a class="reference internal" href="glossary.html#term-uma"><em class="xref std std-term">UMA</em></a> has a goal of setting legally enforceable conditions
for access authorization to resources,
we acknowledge the importance of the natural persons (human beings)
and legal persons (such as companies) that run, control, own, contract to use, etc.
UMA-compliant software.
Let’s refer to these as parties to distinguish them
from protocol endpoints,
and name the corresponding UMA parties as follows:</p>
<blockquote>
<div><ul>
<li><p class="first"><em class="xref std std-term">Authorizing user</em> &#8212; the natural person seeking to protect resources stored at the host</p>
<blockquote>
<div><ul class="simple">
<li>&#8220;Authorizing user&#8221; is used instead of the more generic &#8220;authorizing party&#8221;
because the scope of UMA&#8217;s initial version focuses primarily on humans acting
on their own behalf on the Web,
rather than companies or other legal persons</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Host operator &#8212; the natural or legal person responsible for the running host service</p>
</li>
<li><p class="first">Authorization manager operator (AM operator) – the natural or legal person responsible for the running AM service</p>
</li>
<li><p class="first">Requesting party &#8212; the natural or legal person seeking access to protected resources</p>
</li>
</ul>
</div></blockquote>
<img alt="images/parties.png" src="images/parties.png" />
</div>
<div class="section" id="sharing-constellations">
<span id="uma-trust-2-2"></span><h3><a class="toc-backref" href="#id4">2.2. Sharing Constellations</a><a class="headerlink" href="#sharing-constellations" title="Permalink to this headline">¶</a></h3>
<p>While the essential end-to-end relationship being managed in UMA
is the one between the <em class="xref std std-term">authorizing user</em> and the <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a>,
there are subtle variations around the nature of the latter and the nature of the software they might use,
as illustrated by the following diagram.</p>
<img alt="images/req-complexities.png" src="images/req-complexities.png" />
<p>Each of these types of <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a> and interaction style defines a different sharing constellation.
Following are examples of each:</p>
<blockquote>
<div><ul>
<li><p class="first">Person-to-self sharing:</p>
<p>This describes most OAuth-mediated access,
for example,
when Alice introduces the Klout service to her Twitter account.
She uses both services herself,
and wants them to communicate together on her behalf.</p>
</li>
<li><p class="first">Person-to-person sharing:</p>
<p>Today,
many Web 2.0 sites offer some level of this control,
but methods, strengths, and interfaces are inconsistent
between sites and we&#8217;re not able to reuse policies across sites.</p>
<p>For example,
Alice can share Flickr photos with Bob by adding him to her Flickr &#8220;friends&#8221;
or &#8220;family&#8221; list or by mailing him a special link to a photo album.
Or Alice can add Bob as a &#8220;friend&#8221; on Facebook.</p>
</li>
<li><p class="first">Person-to-organization sharing mediated by a requesting party agent:</p>
<p>For example,
Alice wants to give her dentist&#8217;s office temporary access to her calendar,
to make it easier to schedule a series of root canal appointments.
Carl, the office assistant, might be the actual person acting
on behalf of the dentist&#8217;s practice who sees Alice&#8217;s calendar.</p>
</li>
<li><p class="first">Person-to-organization sharing mediated by an autonomous web service client:</p>
<p>For example,
Alice has crafted a &#8220;personal request for proposals&#8221; (RFP)
because she&#8217;s in the market for a new car,
and she&#8217;s willing to let car dealerships in her region of the country see the RFP
and make her offers.
Different car dealerships might use Web crawler services
to go out and collect such RFPs,
and these services will have to prove in automated fashion
that they legitimately represent the right kind of business.</p>
</li>
</ul>
</div></blockquote>
<p>Each constellation&#8217;s requirements for successful user-managed access may be distinct.</p>
<p>For example,
in person-to-self sharing,
it&#8217;s unlikely Alice will want to impose stringent contract terms on herself.
In person-to-organization sharing,
if the organization is using a web service client,
it makes no sense to present a browser-interaction interface to it.
And if the organization is acting through an agent
such as a receptionist or administrator,
that person may need to prove they are acting on behalf of the organization.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">constellation = group,cluster</p>
</div>
</div>
<div class="section" id="uma-trust-relationships">
<span id="uma-trust-2-3"></span><h3><a class="toc-backref" href="#id5">2.3. UMA Trust Relationships</a><a class="headerlink" href="#uma-trust-relationships" title="Permalink to this headline">¶</a></h3>
<p>The really interesting question is:</p>
<p>If something goes wrong,
will it be possible to assign responsibility accurately?</p>
<p>For example,
if Alice sets policies that she thinks will prevent Zeke from seeing her calendar,
and Zeke gets access somehow through some requester client app,
who exactly was at fault?
Since UMA imposes a very loose coupling between the setting of <a class="reference internal" href="glossary.html#term-policy"><em class="xref std std-term">policy</em></a>,
the application of policy in assigning authorizations,
and the providing of resources,
a lot could go wrong.
The act of authorization has to be made meaningful through making different parties&#8217; actions enforceable and auditable.</p>
<p>The baseline behavior expectations of all UMA parties are summarized in the following diagram,
and elucidated in the following sections.
Here&#8217;s how to read this diagram.
When party A relies on party B to do something,
this means party A has a reasonable expectation that party B will do it.
Depending on actual legal arrangements between them,
this might or might not rise to the level of a liability on party B&#8217;s part.</p>
<img alt="images/TR-summary.png" src="images/TR-summary.png" />
<p>Note that
various deployments of online services might impose additional &#8220;special terms&#8221;
beyond the &#8220;general terms&#8221; imposed by the use of the <a class="reference internal" href="uma_core.html"><em>UMA core protocol</em></a>.
Such services might specify these terms in technical profiles of the UMA specification,
in contractual form, or both.</p>
<div class="section" id="the-authorizing-user-requesting-party-trust-relationships-at-the-heart-of-uma">
<span id="uma-trust-2-3-1"></span><h4><a class="toc-backref" href="#id6">2.3.1. The Authorizing User-Requesting Party Trust Relationships at the Heart of UMA</a><a class="headerlink" href="#the-authorizing-user-requesting-party-trust-relationships-at-the-heart-of-uma" title="Permalink to this headline">¶</a></h4>
<p>This is the set of trust relationships
that describes the overall purpose of UMA.
(The <em class="xref std std-term">authorizing user</em> works through the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> as a proxy for authorization management.)</p>
<img alt="images/U-R.png" src="images/U-R.png" />
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TR</td>
<td>Who relies on whom?</td>
<td>Expected behavior of the responsible party</td>
<td>When is TR formed?</td>
<td>Comments</td>
</tr>
<tr class="row-even"><td>U⇾R(am)</td>
<td><em class="xref std std-term">Authorizing user</em> relies on <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a></td>
<td><p class="first">To truthfully supply claims required for access authorization to the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>.</p>
<p class="last">To adhere to any promises made in the form of <em class="xref std std-term">self-asserted claims</em>.</p>
</td>
<td>In <em class="xref std std-term">UMA phase 2</em>,
when the <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a> supplies claims to the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>.</td>
<td>This is precisely the <strong>end-to-end access authorization agreement</strong> that <a class="reference internal" href="glossary.html#term-uma"><em class="xref std std-term">UMA</em></a> exists to forge.</td>
</tr>
<tr class="row-odd"><td>R⇾U(am)</td>
<td><a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">Requesting party</em></a> relies on <em class="xref std std-term">authorizing user</em></td>
<td>To respect the boundaries of <strong>data usage constraints</strong> given to the <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a>.</td>
<td>In <em class="xref std std-term">UMA phase 2</em>,
when the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> grants the <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a> a permission for the <a class="reference internal" href="glossary.html#term-requested-scope"><em class="xref std std-term">requested scope</em></a>.</td>
<td><p class="first">For example,
the user should not subsequently protest the <a class="reference internal" href="uma_core.html#term-requesting-party"><em class="xref std std-term">requesting party</em></a>’s resale of the user’s data
if this was allowed by the terms of the access authorization.</p>
<p class="last">The <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> operator acts as the user’s <strong>proxy</strong>
(in the U⇾AM relationship forged previously) set the boundaries of permissions
based on the user&#8217;s policies.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-trust-relationships-among-the-authorizing-user-am-operator-and-host-operator-formed-by-their-introduction">
<span id="uma-trust-2-3-2"></span><h4><a class="toc-backref" href="#id7">2.3.2. The Trust Relationships Among the Authorizing User, AM Operator, and Host Operator Formed by Their Introduction</a><a class="headerlink" href="#the-trust-relationships-among-the-authorizing-user-am-operator-and-host-operator-formed-by-their-introduction" title="Permalink to this headline">¶</a></h4>
<p>This is the set of trust relationships formed in <em class="xref std std-term">UMA phase 1</em>,
when the user introduces a <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> and <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> to work together in protecting resources.
The user will likely introduce many <a class="reference internal" href="glossary.html#term-hosts"><em class="xref std std-term">hosts</em></a> to the same <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>.
In some cases,
particular <a class="reference internal" href="glossary.html#term-hosts"><em class="xref std std-term">hosts</em></a> may make it possible to protect some resources
with one <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> and other resources with a different <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>.</p>
<p>(A number of pairwise agreements between these parties will likely have been made outside of UMA interactions;
see <a class="reference internal" href="#uma-trust-2-4"><em>The Role of Private Agreements for further discussion</em></a>.)</p>
<img alt="images/U-AM-H.png" src="images/U-AM-H.png" />
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TR</td>
<td>Who relies on whom?</td>
<td>Expected behavior of the responsible party</td>
<td>When is TR formed?</td>
<td>Comments</td>
</tr>
<tr class="row-even"><td>U⇾AM(h)</td>
<td><em class="xref std std-term">Authorizing user</em> relies on <a class="reference internal" href="glossary.html#term-am-operator"><em class="xref std std-term">AM operator</em></a></td>
<td>To work with this specific <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a>
in protecting the user&#8217;s resources hosted here.</td>
<td>In <em class="xref std std-term">UMA phase 1</em>,
when the user authorizes the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>
to issue a <a class="reference internal" href="glossary.html#term-host-access-token"><em class="xref std std-term">host access token</em></a>
to this <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> for use at the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>&#8216;s <a class="reference internal" href="glossary.html#term-protection-api"><em class="xref std std-term">protection API</em></a>.</td>
<td>Later,
in <a class="reference internal" href="glossary.html#term-phases-2"><em class="xref std std-term">phases 2</em></a> and <em class="xref std std-term">3</em>,
the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> will require the <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> to present a valid <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">access token</em></a>
whenever it uses the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>’s <a class="reference internal" href="glossary.html#term-protection-api"><em class="xref std std-term">protection API</em></a>
on behalf of this user.
These authorization and <a class="reference internal" href="glossary.html#term-protected-api"><em class="xref std std-term">protected API</em></a> mechanisms are purely OAuth-based.</td>
</tr>
<tr class="row-odd"><td>AM⇾U(h)</td>
<td><a class="reference internal" href="glossary.html#term-am-operator"><em class="xref std std-term">AM operator</em></a> relies on <em class="xref std std-term">authorizing user</em></td>
<td>To introduce the desired <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a>
to this <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> in outsourcing protection of this <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a>&#8216;s resources.</td>
<td>In <em class="xref std std-term">UMA phase 1</em>,
when the user authorizes the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>
to issue a <a class="reference internal" href="glossary.html#term-host-access-token"><em class="xref std std-term">host access token</em></a> to this <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a>
for use at the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>&#8216;s <a class="reference internal" href="glossary.html#term-protection-api"><em class="xref std std-term">protection API</em></a>.</td>
<td>&nbsp;</td>
</tr>
<tr class="row-even"><td>U⇾H(am)</td>
<td><em class="xref std std-term">Authorizing user</em> relies on <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a></td>
<td>To participate in the outsourcing of authorization for <a class="reference internal" href="glossary.html#term-protected-resources"><em class="xref std std-term">protected resources</em></a>
and to respect the <a class="reference internal" href="glossary.html#term-permissions"><em class="xref std std-term">permissions</em></a> generated by the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>.</td>
<td>In <em class="xref std std-term">UMA phase 1</em>,
when the user authorizes the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> to issue a <a class="reference internal" href="glossary.html#term-host-access-token"><em class="xref std std-term">host access token</em></a>
to this <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> for use at the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>&#8216;s <a class="reference internal" href="glossary.html#term-protection-api"><em class="xref std std-term">protection API</em></a>.</td>
<td>Once the <a class="reference internal" href="glossary.html#term-am-operator"><em class="xref std std-term">AM operator</em></a> becomes the user’s <a class="reference internal" href="glossary.html#term-authorization-proxy"><em class="xref std std-term">authorization proxy</em></a>,
it begins relying on the <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a> in other more specific ways.
1See the section below.</td>
</tr>
<tr class="row-odd"><td>H⇾U(am)</td>
<td><a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">Host operator</em></a> relies on <em class="xref std std-term">authorizing user</em></td>
<td>To introduce the <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> to the desired <a class="reference internal" href="glossary.html#term-am-operator"><em class="xref std std-term">AM operator</em></a>.</td>
<td>In <em class="xref std std-term">UMA phase 1</em>,
when the <a class="reference internal" href="glossary.html#term-user"><em class="xref std std-term">user</em></a>
(having been redirected by the <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> to the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> selected by the user)
authorizes
that <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a> to issue a <a class="reference internal" href="glossary.html#term-host-access-token"><em class="xref std std-term">host access token</em></a> to this <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a>
for use at the <a class="reference internal" href="glossary.html#term-am"><em class="xref std std-term">AM</em></a>&#8216;s <a class="reference internal" href="glossary.html#term-protection-api"><em class="xref std std-term">protection API</em></a>.</td>
<td>Once the <a class="reference internal" href="glossary.html#term-am-operator"><em class="xref std std-term">AM operator</em></a> becomes the user’s <a class="reference internal" href="glossary.html#term-authorization-proxy"><em class="xref std std-term">authorization proxy</em></a>,
the <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a> begins relying on it in other more specific ways.
See the section below.</td>
</tr>
<tr class="row-even"><td>AM⇾H(u)</td>
<td><a class="reference internal" href="glossary.html#term-am-operator"><em class="xref std std-term">AM operator</em></a> relies on <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a></td>
<td>To register <a class="reference internal" href="uma_core.html#term-resource-sets"><em class="xref std std-term">resource sets</em></a> and
applicable actions accurately
according to the user’s wishes for protection/selective sharing.</td>
<td>In <em class="xref std std-term">UMA phase 1</em>,
when the <a class="reference internal" href="glossary.html#term-host"><em class="xref std std-term">host</em></a> engages in <em class="xref std std-term">resource registration</em>.</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-trust-relationships-between-the-host-operator-and-am-operator-that-govern-the-protection-api">
<span id="uma-trust-2-3-3"></span><h4><a class="toc-backref" href="#id8">2.3.3. The Trust Relationships Between the Host Operator and AM Operator That Govern the Protection API</a><a class="headerlink" href="#the-trust-relationships-between-the-host-operator-and-am-operator-that-govern-the-protection-api" title="Permalink to this headline">¶</a></h4>
<p>This is the set of trust relationships that allow the protection outsourcing to take place.
The host operator and AM operator have two contexts for dealing with each other:
one is specific to the authorizing user (the same two operators could participate in protection for different users)
and the other is specific to the requesting party
(the same two operators could be protecting the same resource
on behalf of the same user but fielding requests from different requesting parties).</p>
<p>(A number of pairwise agreements between these parties may have been made outside of UMA interactions;
see The Role of Private Agreements for further discussion.)</p>
<img alt="images/H-AM.png" src="images/H-AM.png" />
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TR</td>
<td>Who relies on whom?</td>
<td>Expected behavior of the responsible party</td>
<td>When is TR formed?</td>
<td>Comments</td>
</tr>
<tr class="row-even"><td>H⇾AM(r)</td>
<td>Host operator relies on AM operator</td>
<td>To provide accurate requester token status information, including active permissions.</td>
<td>In UMA phase 2, when the host requests and the AM provides the requester token status.</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>H⇾AM(u)</td>
<td>Host operator relies on AM operator</td>
<td>To represent the user’s constraints accurately in demanding claims and in issuing permissions.</td>
<td>In UMA phase 2, when the host registers the permission being sought by a requesting party at the AM.</td>
<td>Subsequently, when the requester approaches the AM seeking that permission, the AM matches user policies to the permission in driving any requests for claims.</td>
</tr>
<tr class="row-even"><td>AM⇾H(r)</td>
<td>AM operator relies on host operator</td>
<td>To respect the status of permissions granted by the AM operator.</td>
<td>In UMA phase 2, when the host requests and the AM provides the requester token status.</td>
<td>Currently the AM operator must literally trust the host operator to &#8220;do the right thing&#8221;; we have an open issue considering how to allow the AM to track expected host behavior for non-repudiation.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-trust-relationships-between-the-am-operator-and-requesting-party-that-govern-access">
<span id="uma-trust-2-3-4"></span><h4><a class="toc-backref" href="#id9">2.3.4. The Trust Relationships Between The AM Operator and Requesting Party That Govern Access</a><a class="headerlink" href="#the-trust-relationships-between-the-am-operator-and-requesting-party-that-govern-access" title="Permalink to this headline">¶</a></h4>
<p>The host operator need not trust the requesting party at all, because it outsources the job entirely to the AM operator.
These trust relationships reflect how the requesting party goes from untrusted to trusted for a particular scope of access, as far as the AM operator (acting as a proxy for the authorizing user) is concerned.</p>
<img alt="images/AM-R.png" src="images/AM-R.png" />
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TR</td>
<td>Who relies on whom?</td>
<td>Expected behavior of the responsible party</td>
<td>When is TR formed?</td>
<td>Comments</td>
</tr>
<tr class="row-even"><td>AM⇾R(u)</td>
<td>AM operator relies on requesting party</td>
<td>To truthfully supply any self-asserted claims required for access authorization.</td>
<td>In UMA phase 2, when the AM demands and the requesting party supplies claims.</td>
<td>Where claims are supplied that can be verified by the AM, there is no need for this sort of &#8220;reliance&#8221;. We anticipate finding a way to bind trusted claims about the identity of a &#8220;requesting natural person&#8221; to subsequent self-asserted claims such as promises to adhere to a data usage agreement. In this way, we can strengthen the enforceability of such promises without having to rely on mere AM operator trust on the requesting party&#8217;s say-so (or, for that matter, authorizing user trust on the AM operator&#8217;s say-so).</td>
</tr>
<tr class="row-odd"><td>R⇾AM(u)</td>
<td>Requesting party relies on AM operator</td>
<td>To request only claims whose supply supports the application of the user&#8217;s authorization constraints.</td>
<td>In UMA phase 2, when the AM demands and the requesting party supplies claims.</td>
<td>The requesting party has the real-time opportunity to authorize sharing of the demanded claims, but this should not be relied on as the only brake against an AM that over-demands claims.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="the-role-of-private-agreements">
<span id="uma-trust-2-4"></span><h3><a class="toc-backref" href="#id10">2.4. The Role of Private Agreements</a><a class="headerlink" href="#the-role-of-private-agreements" title="Permalink to this headline">¶</a></h3>
<p>Whenever a person uses a website or web application, typically some contractual agreement is in force between them, such as a Terms of Service (TOS) contract that the user accepts (passively or actively) through using the site, and possibly also other mutual and/or custom agreements. Regardless of whether any services being offered by various operators are UMA-compliant or not, we can assume that some explicit or implicit terms of service/usage exist between pairs of parties that interact online, as illustrated in the following diagram.</p>
<img alt="images/private-agreements.png" src="images/private-agreements.png" />
<p>For the purposes of this document, assume that technical UMA-protocol compliance is built into this pairwise level of TOS. This way, we can put aside simple technical expectations among the parties (for example, whether a host endpoint can rely on an AM endpoint to present a properly functioning protection API), and concentrate instead of expectations that rise to the level of &#8220;baseline business expectations.&#8221; The following is a summary of the major &#8220;out-of-band&#8221; trust relationships:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>TR</td>
<td>Who relies on whom?</td>
<td>Expected behavior of the responsible party</td>
<td>When is TR formed?</td>
<td>Comments</td>
</tr>
<tr class="row-even"><td>U⇾H</td>
<td><em class="xref std std-term">Authorizing user</em> relies on <a class="reference internal" href="glossary.html#term-host-operator"><em class="xref std std-term">host operator</em></a></td>
<td>To host the user’s resources.</td>
<td>Not part of UMA; prior to phase 1.</td>
<td>These are precisely the user’s expectations around the host operator as, well, the operator of the hosting service. The nature of such services may be very different depending on the application-specific API presented by the host. This can result in a variety of user-related data or content being stored, manipulated, served out, etc.</td>
</tr>
<tr class="row-odd"><td>H⇾U</td>
<td>Host operator relies on authorizing user</td>
<td>To adhere to the host operator’s TOS.</td>
<td>Not part of UMA; prior to phase 1. (Typically when the user initially registers for an account at the service.)</td>
<td>The host operator might require the user to authenticate in any of a number of ways, including through federated login.</td>
</tr>
<tr class="row-even"><td>U⇾AM</td>
<td>Authorizing user relies on AM operator</td>
<td>To work with host operators and requesting parties in the manner intended by UMA.</td>
<td>Not part of UMA; prior to phase 1. (Typically when the user initially registers for an account at the service.)</td>
<td>These are precisely the user’s expectations around the AM operator as, well, the operator of an authorization management service.</td>
</tr>
<tr class="row-odd"><td>AM⇾U</td>
<td>AM operator relies on authorizing user</td>
<td>To adhere to the AM operator’s TOS.</td>
<td>Not part of UMA; prior to phase 1. (Typically when the user initially registers for an account at the service.)</td>
<td>The AM might require the user to authenticate in any of a number of ways, including through federated login.</td>
</tr>
<tr class="row-even"><td>AM⇾H</td>
<td>AM operator relies on host operator</td>
<td>To adhere to the AM operator&#8217;s TOS for host operators. To protect any unique OAuth client credentials given to it.</td>
<td>Not part of UMA; prior to phase 1 or dynamically during it when the AM provisions the host with OAuth client credentials.</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td>AM⇾R</td>
<td>AM operator relies on requester client app operator</td>
<td>To adhere to the AM operator&#8217;s TOS for requester client app operators. To protect any unique OAuth client credentials given to it.</td>
<td>Not part of UMA; during phase 2 when the AM provisions the requester with OAuth client credentials.</td>
<td>UMA defines a strict and simple profile of OAuth for this dynamic provisioning of client credentials, with no in-band method of allowing the AM to impose constraints on the requester. However, this stage may be associated with &#8220;API-wrap&#8221; TOS (akin to &#8220;browse-wrap&#8221; that binds a user who merely visits a website).</td>
</tr>
<tr class="row-even"><td>R⇾agent</td>
<td>Requesting party relies on person acting as agent for it</td>
<td>To adhere to any employment agreement or other contractual agreement governing that person&#8217;s work for that requesting party</td>
<td>Not part of UMA.</td>
<td>The authorizing user&#8217;s policy may specify that the requesting party prove that the request is being mediated by a legitimate agent for that party. However, the requesting party itself is the one who may impose constraints on its workforce around keeping information learned in the course of business confidential etc.</td>
</tr>
<tr class="row-odd"><td>R⇾client operator</td>
<td>Requesting party relies on third-party operator of client app software</td>
<td>To adhere to any contractual agreement governing that operator&#8217;s app or running service</td>
<td>Not part of UMA.</td>
<td>For example, a car dealership may contract out to use a cloud service that crawls the Web looking for personal RFPs that meet the dealership&#8217;s criteria.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="uma_core.html">User-Managed Access (UMA) Profile of OAuth 2.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="jose.html">Terms</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>