
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenID Connect Native Application Token Agent API Bindings 1.0 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/basic.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="static/bootstrap-3.0.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/bootstrap-sphinx.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="OpenID Connect Native Application Token Agent Core 1.0" href="napps_core.html" />
    <link rel="prev" title="OpenID Connect Native Application Token Provisioning Profile 1.0" href="napps.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">identity</a>
        <span class="navbar-text navbar-version pull-left"><b>1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul>
<li class="toctree-l1"><a class="reference internal" href="oauth.html">RFC6759:The OAuth 2.0 Authorization Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_bearer.html">The OAuth 2.0 Authorization Framework: Bearer Token Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_threat.html">Auth 2.0 Threat Model and Security Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_revocation.html">RFC7009:Token Revocation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oauth_jwt_bearer.html">JSON Web Token (JWT) Bearer Token Profiles for OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_saml2_bearer.html">SAML 2.0 Bearer Assertion Profiles for OAuth 2.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oauth_assertion.html">Assertion Framework for OAuth 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_mac.html">HTTP Authentication: MAC Access Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_reg.html">OAuth Dynamic Client Registration Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_introspect.html">OAuth Token Introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_meta.html">JSON Metadata for OAuth Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_res_reg.html">OAuth 2.0 Resource Set Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth-lrdd.html">Link relation Type Registrations for OAuth 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_auth.html">OAuth 2.0 User Authentication and Consent For Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_responses.html">OAuth 2.0 Multiple Response Type Encoding Practices - draft 11</a></li>
<li class="toctree-l1"><a class="reference internal" href="oauth_post.html">OAuth 2.0 Form Post Response Mode - draft 01</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="oauth_res.html">OAuth Resoure</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="openid_connect.html">OpenID Connect</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">OpenID Connect Core 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="reg.html">OpenID Connect Dynamic Client Registration 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="discovery.html">OpenID Connect Discovery 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="session.html">OpenID Connect Session Management 1.0</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="napps.html">OpenID Connect Native Application Token Provisioning Profile 1.0</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">OpenID Connect Native Application Token Agent API Bindings 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="napps_core.html">OpenID Connect Native Application Token Agent Core 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basic.html">OpenID Connect Basic Client Profile 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="implicit.html">OpenID Connect Implicit Client Implementer&#8217;s Guide 1.0 - draft 14</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="standard.html">OpenID Connect Standard 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="messages.html">OpenID Connect Messages 1.0</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="uma_core.html">User-Managed Access (UMA) Profile of OAuth 2.0 : draft09</a></li>
<li class="toctree-l1"><a class="reference internal" href="uma_trust.html">Binding Obligations on User-Managed Access (UMA) Participants</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="jose.html">Terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwa.html">JSON Web Algorithms (JWA) : draft30</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwt.html">JSON Web Token (JWT) : draft22</a></li>
<li class="toctree-l1"><a class="reference internal" href="jws.html">JSON Web Signature (JWS) : draft28</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwe.html">JSON Web Encryption (JWE)(draft30)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwk.html">JSON Web Key (JWK) : draft30</a></li>
<li class="toctree-l1"><a class="reference internal" href="jose_usecase.html">RFC7165:Use Cases and Requirements for JSON Object Signing and Encryption (JOSE)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="jws_hok.html">Holder-of-Key JSON Web Signature (JWS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jws_js.html">JSON Web Signature JSON Serialization (JWS-JS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="jwe_js.html">JSON Web Encryption JSON Serialization (JWE-JS)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hostmeta.html">Web Host Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="webfinger.html">WebFinger</a></li>
<li class="toctree-l1"><a class="reference internal" href="swd.html">Simple Web Discovery (SWD)</a></li>
<li class="toctree-l1"><a class="reference internal" href="acct.html">The &#8216;acct&#8217; URI Scheme</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rfc3394.html">RFC3394:Advanced Encryption Standard (AES) Key Wrap Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="nist-sp-800-59a.html">NIST SP 800-56A:Recommendation for Pair-Wise Key Establishment Schemes Using Discrete Logarithm Cryptography</a></li>
<li class="toctree-l1"><a class="reference internal" href="nist-sp-800-63.html">Electronic Authentication Guideline</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="backplane.html">Backplane</a></li>
<li class="toctree-l1"><a class="reference internal" href="backplane.html#backplane-2-0">Backplane 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="lrdd.html">LRDD: Link-based Resource Descriptor Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="revoke.html">Token Revocation</a></li>
<li class="toctree-l1"><a class="reference internal" href="poco.html">Portable Contacts 1.0 Draft C</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Terms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="saml.html">SAML</a></li>
<li class="toctree-l1"><a class="reference internal" href="xacml.html">XACML</a></li>
<li class="toctree-l1"><a class="reference internal" href="shibboleth.html">Shibboleth</a></li>
<li class="toctree-l1"><a class="reference internal" href="SamlHokProfile.html">SAML V2.0 Holder-of-Key Assertion Profile Version 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="SamlHokWebSsoProfile.html">SAML V2.0 Holder-of-Key Web Browser SSO Profile Version 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="wss_saml_token_profile.html">Web Services Security SAML Token Profile Version 1.1.1</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scim_rest.html">Simple Cloud Identity Management: Protocol 1.0 (REST API 1.0)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="active_directory.html">Active Directory &amp; Connect</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">TODO/TBD</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource.html">Resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="discussion.html">Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="signed_nonce.html">Decoupling Identity and Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="adtech.html">AdTech</a></li>
<li class="toctree-l1"><a class="reference internal" href="technight_9.html">Technight #9</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="well-known.html">RFC5783: Defining Well-Known Uniform Resource Identifiers (URIs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="rfc5988.html">RFC5988:Web Linking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="impl_id_token.html">ID Token:Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="impl_jws.html">JOSE JWS:Implementation</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">OpenID Connect Native Application Token Agent API Bindings 1.0</a><ul>
<li><a class="reference internal" href="#abstract">Abstract</a><ul>
<li><a class="reference internal" href="#status-of-this-memo">Status of this Memo</a></li>
<li><a class="reference internal" href="#copyright-notice">Copyright Notice</a></li>
</ul>
</li>
<li><a class="reference internal" href="#introduction">1.  Introduction</a><ul>
<li><a class="reference internal" href="#requirements-notation-and-conventions">1.1.  Requirements Notation and Conventions</a></li>
<li><a class="reference internal" href="#terminology">1.2.  Terminology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#overview">2.  Overview</a></li>
<li><a class="reference internal" href="#deployment-models">3.  Deployment Models</a></li>
<li><a class="reference internal" href="#native-application-interactions">4.  Native Application Interactions</a><ul>
<li><a class="reference internal" href="#token-agent-passes-secondary-access-token-to-application">4.1.  Token Agent passes secondary access token to Application</a></li>
<li><a class="reference internal" href="#application-requests-secondary-access-token-of-token-agent">4.2.  Application requests secondary access token of Token Agent</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security-considerations">5.  Security Considerations</a></li>
<li><a class="reference internal" href="#privacy-considerations">6.  Privacy Considerations</a></li>
<li><a class="reference internal" href="#iana-considerations">7.  IANA Considerations</a></li>
<li><a class="reference internal" href="#references">8.  References</a><ul>
<li><a class="reference internal" href="#normative-references">8.1.  Normative References</a></li>
<li><a class="reference internal" href="#informative-references">8.2.  Informative References</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-a-acknowledgements">Appendix A.  Acknowledgements</a></li>
<li><a class="reference internal" href="#appendix-b-document-history">Appendix B.  Document History</a></li>
<li><a class="reference internal" href="#authors-addresses">Authors&#8217; Addresses</a></li>
<li><a class="reference internal" href="#full-copyright-statement">Full Copyright Statement</a></li>
<li><a class="reference internal" href="#intellectual-property">Intellectual Property</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="napps.html"
         title="Previous Chapter: OpenID Connect Native Application Token Provisioning Profile 1.0">&laquo; OpenID Connect N...</a></li>
  <li><a href="napps_core.html"
         title="Next Chapter: OpenID Connect Native Application Token Agent Core 1.0">OpenID Connect N... &raquo;</a></li>
              
            
            
            
            
              <li>
<div id="sourcelink">
  <a href="sources/napps_api.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="openid-connect-native-application-token-agent-api-bindings-1-0">
<h1>OpenID Connect Native Application Token Agent API Bindings 1.0<a class="headerlink" href="#openid-connect-native-application-token-agent-api-bindings-1-0" title="Permalink to this headline">¶</a></h1>
<div class="section" id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>OpenID Connect 1.0 is
a simple identity layer on top of the OAuth 2.0 protocol.</p>
<p>It allows Clients to verify the identity of
the End-User based on the authentication
performed by an Authorization Server,
as well as to obtain basic profile information
about the End-User in an interoperable and RESTful manner.</p>
<p>The OpenID Connect Native Application Token Agent API Bindings 1.0 is
a profile of the OpenID Connect Standard 1.0 specification designed
to enable &#8216;authorization agents&#8217; on devices,
ie native applications that obtain OAuth access tokens
on behalf of other native applications.</p>
<div class="section" id="status-of-this-memo">
<h3>Status of this Memo<a class="headerlink" href="#status-of-this-memo" title="Permalink to this headline">¶</a></h3>
<p>OIDF-Drafts are working documents of the OpenID Foundation (OIDF).</p>
<p>OIDF-Drafts are draft documents valid for a maximum of six months and
may be updated, replaced, or obsoleted by other documents at any
time.  It is inappropriate to use OIDF-Drafts as reference material
or to cite them other than as &#8220;work in progress.&#8221;</p>
<p>This OIDF-Draft will expire on November 2, 2014.</p>
</div>
<div class="section" id="copyright-notice">
<h3>Copyright Notice<a class="headerlink" href="#copyright-notice" title="Permalink to this headline">¶</a></h3>
<p>Copyright (C) OpenID Foundation (2014).  All Rights Reserved.</p>
</div>
</div>
<div class="section" id="introduction">
<h2>1.  Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>OpenID Connect Native Application Token Agent API Bindings 1.0
is a profile of the OpenID Connect Core 1.0 [OpenID.Core] specification
that stipulates how a specialized OpenID Connect Client
called an <a class="reference internal" href="napps_core.html#term-token-agent"><em class="xref std std-term">Token Agent</em></a> can obtain tokens
on behalf of other installed native applications
- thereby provisioning tokens to those applications and
so enabling a Single SignOn experience for End-Users.</p>
<p>The API Bindings specification describes the communication
between the Token Agent and native applications
in different deployment environments.</p>
<div class="section" id="requirements-notation-and-conventions">
<h3>1.1.  Requirements Notation and Conventions<a class="headerlink" href="#requirements-notation-and-conventions" title="Permalink to this headline">¶</a></h3>
<p>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;,
&#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this
document are to be interpreted as described in [RFC2119].</p>
<p>Throughout this document, values are quoted to indicate that they are
to be taken literally.  When using these values in protocol messages,
the quotes MUST NOT be used as part of the value.</p>
</div>
<div class="section" id="terminology">
<h3>1.2.  Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>This specification uses the terms &#8220;Access Token&#8221;, &#8220;Refresh Token&#8221;,
&#8220;Authorization Code&#8221;, &#8220;Authorization Grant&#8221;, &#8220;Authorization Server&#8221;,
&#8220;Authorization Endpoint&#8221;, &#8220;Client&#8221;, &#8220;Client Identifier&#8221;, &#8220;Client
Secret&#8221;, &#8220;Protected Resource&#8221;, &#8220;Resource Owner&#8221;, &#8220;Resource Server&#8221;,
and &#8220;Token Endpoint&#8221; defined by OAuth 2.0 [RFC6749].  This
specification also defines the following terms:</p>
<dl class="glossary docutils">
<dt id="term-token-agent"><span id="term-ta"></span>Token Agent<br />TA</dt>
<dd>A native application that obtains access tokens on
behalf of other native applications - thereby enabling a Single
SignOn experience for Native Application end users because the
End-Users need only explicitly authenticate the _TA_ once per
Authorization Server.</dd>
<dt id="term-appinfo-endpoint">AppInfo Endpoint</dt>
<dd>A protected resource that the _TA_ can call (using
its primary access token) to obtain metadata corresponding to a
set of applications - both web &amp; native.  The _TA_ uses the
application metadata in order to obtain secondary access tokens
for those applications.</dd>
<dt id="term-primary-token">Primary Token</dt>
<dd>An OAuth token (access, refresh, and id_token)
obtained by the _TA_ for its own uses.</dd>
<dt id="term-secondary-token">Secondary Token</dt>
<dd>An OAuth access token obtained by the _TA_ on behalf
of another native application.</dd>
</dl>
</div>
</div>
<div class="section" id="overview">
<h2>2.  Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>More and more applications, both enterprise on-prem and cloud-based,
are accessed through REST APIs in addition to, or instead of,
browser-based access.  Mobile clients will be a key consumer of such
APIs.  Native installed applications (e.g for iOS , Android,
BlackBerry, etc devices) offer an important alternative to web or
browser-based applications.  Both models have their pros/cons.</p>
<p>OAuth 2.0 is an authentication &amp; authorization framework for such
REST APIs.  Critically, OAuth 2.0 is explicitly designed to support
the variety of different client types that will be accessing REST
APIs - both applications running on web servers within the enterprise
calling out to the cloud/partners etc, as well as applications
running on mobile phones belonging to employees and customers.  OAuth
supports this variety of client types by defining multiple mechanisms
for &#8216;getting a token&#8217;, the different mechanisms acknowledging the
constraints of particular client types.</p>
<p>For accessing protected resources behind an API using OAuth for
authentication, the mobile application requires an access token -
this to be presented on the HTTP calls to the API.</p>
<p>The high-level sequence by which the client obtains and uses an
access token is:</p>
<dl class="docutils">
<dt>o  Get the User authenticated at the corresponding Authorization</dt>
<dd>Server (AS)</dd>
<dt>o  (OPT) Get the AS to obtain the User&#8217;s consent for the client&#8217;s</dt>
<dd>access of the API</dd>
</dl>
<p>o  Accept the token(s) delivered back by the AS</p>
<p>o  Attach the access token to REST API calls</p>
<p>The presumption is that each native application client will perform
the above steps.  When a User has multiple native applications on
their device (as is more and more the case) this may be an
unacceptable usability burden.</p>
<p>This burden can be reduced by introducing an &#8216;authorization agent&#8217;
(TA) onto the device.  Rather than each native application directly
obtaining its own OAuth tokens, the direct token retrieval is assumed
by the authorization agent, with the tokens then handed over to the
native applications for their normal use.  Rather than the user
individually authenticating and authorizing each native application,
they do so only for the authorization agent - this then bootstrapping
subsequently obtaining tokens for the other native applications.
Because the User only authenticates and authorizes the authorization
agent, the usability burden is significantly reduced.</p>
<p>The _TA_ model is shown below</p>
<div class="highlight-python"><pre>+-------------+
| Device      |
| +--------+  |                                          +-------------+
| |        |-------- Login &amp; Authorization (1)----------&gt;|             |
| |        |  |                                          |             |
| |  Token |&lt;------ Primary Tokens for TA - (2)----------|             |
| |  Agent |  |                                          |     AS      |
| |        |---- Request Secondary tokens for apps (3)--&gt;|             |
| |        |  |                                          |             |
| |        |&lt;-------Secondary Tokens for apps (4)--------|             |
| |        |  |                                          +-------------+
| +--------+  |                                             /\    /\
|    /\       |                                              |    |
|    | Pass   |                                      Validate tokens (7)
|    |Tokens  |                                              |    |
|    \/ (5)   |                                             \/    |
| +--------+  |                                           +-----+ |
| |  App1  | -|--------- API Call with token (6)--------&gt; | RS1 | |
| +--------+  |                                           +-----+ \/
| +--------+  |                                           +---------+
| |  App2  | -|--------- API Call with token (6)--------&gt; |  RS2    |
| +--------+  |                                           +---------+
| +--------+  |                                           +------------+
| |  App3  | -|--------- API Call with token (6)--------&gt; |    RS3     |
| +--------+  |                                           +------------+
+-------------+


                                 Figure 1</pre>
</div>
<dl class="docutils">
<dt>Note:</dt>
<dd>the token validation of Step 7 may require a call to the
issuing AS (as shown) or may be achieved locally via a digital
signarture verification.</dd>
</dl>
<p>A _TA_ must be able to obtain tokens (both primary &amp; secondary) from
Authorization Servers.  This specification profiles the OpenID
Connect Standard 1.0 specification for those interactions.  The _TA_
engages in messaging with the relevant Authorization Servers
according to this profile in order to obtain the secondary OAuth
access tokens on behalf of other native applications.</p>
</div>
<div class="section" id="deployment-models">
<h2>3.  Deployment Models<a class="headerlink" href="#deployment-models" title="Permalink to this headline">¶</a></h2>
<p>The authorization agent model can be applied for two different
categories of native applications</p>
<ol class="arabic simple">
<li>multiple native applications that call APIs associated with a
single policy domain, e.g. multiple native applications created
by a consumer retailer or SaaS provider.</li>
<li>multiple native applications that call APIs associated with
different policy domains, e.g. multiple applications used by an
enterprise employee to access SaaS services relevant to their
role.</li>
</ol>
<p>While both scenarios imply the User authenticating and authorizing
each native application individually, in the first case the User
would interact with the same AS each time.  In the latter, it would
be different ASs.</p>
</div>
<div class="section" id="native-application-interactions">
<h2>4.  Native Application Interactions<a class="headerlink" href="#native-application-interactions" title="Permalink to this headline">¶</a></h2>
<p>This section outlines how an _TA_ might pass secondary access tokens
to corresponding native applications, or how the native application
might request of the _TA_ such a secondary access token.</p>
<div class="section" id="token-agent-passes-secondary-access-token-to-application">
<h3>4.1.  Token Agent passes secondary access token to Application<a class="headerlink" href="#token-agent-passes-secondary-access-token-to-application" title="Permalink to this headline">¶</a></h3>
<p>Once it has obtained a secondary access token for a particular native
application, the _TA_ MUST deliver that secondary access token to
that application.</p>
<p>The _TA_ MUST NOT deliver a secondary access token to an application
for which it was not issued.</p>
<p>This profile does not stipulate a particular mechanism for the
delivery of the secondary access token, depending as it does on the
mobile OS support for inter-app messaging.</p>
<p>One mechanism supported by both iOS and Android is the use of custom
URL schemes.  In this model, a native appliction registers itself
with the mobile OS as the handler for URLs in a given scheme - when
the OS subsequently sees URLs in this scheme, it hands them over to
the native application.</p>
<p>To use this model, each native application that wants _TA_
integration must register itself as the handler for a unique URL
scheme.</p>
<p>Follows is the Android mechanism</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;activity</span> <span class="na">android:name=</span><span class="s">&quot;.MyAppRegisterAccount&quot;</span> <span class="na">android:label=</span><span class="s">&quot;@string/addAccount&quot;</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;intent-filter&gt;</span>
        <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.action.VIEW&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.DEFAULT&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;category</span> <span class="na">android:name=</span><span class="s">&quot;android.intent.category.BROWSABLE&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;data</span> <span class="na">android:scheme=</span><span class="s">&quot;nativeapp&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/intent-filter&gt;</span>
<span class="nt">&lt;/activity&gt;</span>
</pre></div>
</div>
<p>The same URL scheme identifier must be configured into the AS and
AppInfo endpoint when the native application is configured so that
access tokens can be appropriately targeted.</p>
<p>After obtaining an access token for a particular native application,
the _TA_ builds a URL in the corresponding custom scheme that
includes the token.</p>
<p>The URL MUST</p>
<p>o  have a scheme corresponding to the appropriate native application</p>
<p>o  have an &#8216;access_token&#8217; parameter with the token value to be passed</p>
<p>For instance</p>
<div class="highlight-python"><pre>nativeapp://new_token?access_token=PeRTSD9RQrbiuoaHVPxV41MzW1qS</pre>
</div>
</div>
<div class="section" id="application-requests-secondary-access-token-of-token-agent">
<h3>4.2.  Application requests secondary access token of Token Agent<a class="headerlink" href="#application-requests-secondary-access-token-of-token-agent" title="Permalink to this headline">¶</a></h3>
<p>A _TA_ SHOULD support an native application being able to request of
the _TA_ an access token, as compared to the _TA_ handing an
unsolicited access token to an application.</p>
<p>One mechanism to achive this is that, upon installation, the _TA_
register itself as the handler for URLs with a particular scheme.A
native applicaton can construct URLs in that scheme as a means of
requesting of the _TA_ that an access token be obtained.</p>
</div>
</div>
<div class="section" id="security-considerations">
<h2>5.  Security Considerations<a class="headerlink" href="#security-considerations" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>TBD</div></blockquote>
</div>
<div class="section" id="privacy-considerations">
<h2>6.  Privacy Considerations<a class="headerlink" href="#privacy-considerations" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>TBD</div></blockquote>
</div>
<div class="section" id="iana-considerations">
<h2>7.  IANA Considerations<a class="headerlink" href="#iana-considerations" title="Permalink to this headline">¶</a></h2>
<p>This document makes no requests of IANA.</p>
</div>
<div class="section" id="references">
<h2>8.  References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<div class="section" id="normative-references">
<h3>8.1.  Normative References<a class="headerlink" href="#normative-references" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-jwt">[JWT]</dt>
<dd>Jones, M., Bradley, J., and N. Sakimura, &#8220;JSON Web Token
(JWT)&#8221;, Internet-Draft draft-ietf-oauth-json-web-token,
May 2013.</dd>
<dt id="term-nata-core">[NATA.Core]</dt>
<dd>Madsen, P., Jain, A., Zmolek, A., and T. Bradley, &#8220;OpenID
Connect Native Application Token Agent Core 1.0&#8221;,
January 2014.</dd>
<dt id="term-openid-core">[OpenID.Core]</dt>
<dd>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B.,
Mortimore, C., and E. Jay, &#8220;OpenID Connect Standard 1.0&#8221;,
December 2013.</dd>
<dt id="term-openid-discovery">[OpenID.Discovery]</dt>
<dd>Sakimura, N., Bradley, J., Jones, M., and E. Jay, &#8220;OpenID
Connect Discovery 1.0&#8221;, December 2013.</dd>
<dt id="term-openid-registration">[OpenID.Registration]</dt>
<dd>Sakimura, N., Bradley, J., and M. Jones, &#8220;OpenID Connect
Dynamic Client Registration 1.0&#8221;, December 2013.</dd>
<dt id="term-rfc2119">[RFC2119]</dt>
<dd>Bradner, S., &#8220;Key words for use in RFCs to Indicate
Requirement Levels&#8221;, BCP 14, RFC 2119, March 1997.</dd>
<dt id="term-rfc2246">[RFC2246]</dt>
<dd>Dierks, T. and C. Allen, &#8220;The TLS Protocol Version 1.0&#8221;,
RFC 2246, January 1999.</dd>
<dt id="term-rfc5246">[RFC5246]</dt>
<dd>Dierks, T. and E. Rescorla, &#8220;The Transport Layer Security
(TLS) Protocol Version 1.2&#8221;, RFC 5246, August 2008.</dd>
<dt id="term-rfc6749">[RFC6749]</dt>
<dd>Hardt, D., &#8220;The OAuth 2.0 Authorization Framework&#8221;,
RFC 6749, October 2012.</dd>
<dt id="term-rfc6750">[RFC6750]</dt>
<dd>Jones, M. and D. Hardt, &#8220;The OAuth 2.0 Authorization
Framework: Bearer Token Usage&#8221;, RFC 6750, October 2012.</dd>
</dl>
</div>
<div class="section" id="informative-references">
<h3>8.2.  Informative References<a class="headerlink" href="#informative-references" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="docutils">
<dt>[OpenID.Implicit]</dt>
<dd>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B.,
Mortimore, C., and E. Jay, &#8220;OpenID Connect Implicit Client
Profile 1.0&#8221;, July 2013.</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="appendix-a-acknowledgements">
<h2>Appendix A.  Acknowledgements<a class="headerlink" href="#appendix-a-acknowledgements" title="Permalink to this headline">¶</a></h2>
<p>The following have contributed to the development of this
specification.</p>
<blockquote>
<div><p>Chuck Mortimore</p>
<p>Brian Campbell</p>
<p>Scott Tomilson</p>
<p>John Bradley</p>
</div></blockquote>
</div>
<div class="section" id="appendix-b-document-history">
<h2>Appendix B.  Document History<a class="headerlink" href="#appendix-b-document-history" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>[[ To be removed from the final specification ]]</p>
<p>-01</p>
<p>o  Initial draft</p>
<p>o  Added OIDF Standard Notice</p>
<p>o  Changed reference to Core from Standard</p>
<p>o  Changed diagam step 2 tokens, made 5 and 7 bidirectional arrows</p>
<p>-02</p>
<p>o  Second draft</p>
<p>o  updated doctype to std to mach connect and updated date</p>
</div></blockquote>
</div>
<div class="section" id="authors-addresses">
<h2>Authors&#8217; Addresses<a class="headerlink" href="#authors-addresses" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Paul Madsen
Ping Identity</p>
<p>Email: <a class="reference external" href="mailto:paul&#46;madsen&#37;&#52;&#48;gmail&#46;com">paul<span>&#46;</span>madsen<span>&#64;</span>gmail<span>&#46;</span>com</a></p>
<p>Ashish Jain
VMware</p>
<p>Email: <a class="reference external" href="mailto:itickr&#37;&#52;&#48;gmail&#46;com">itickr<span>&#64;</span>gmail<span>&#46;</span>com</a></p>
<p>Andy Zmolek
Enterproid</p>
<p>Email: <a class="reference external" href="mailto:andy&#46;zmolek&#37;&#52;&#48;enterproid&#46;com">andy<span>&#46;</span>zmolek<span>&#64;</span>enterproid<span>&#46;</span>com</a></p>
<p>John Bradley
Ping Identity</p>
<p>Email: <a class="reference external" href="mailto:jbradley&#37;&#52;&#48;pingidentity&#46;com">jbradley<span>&#64;</span>pingidentity<span>&#46;</span>com</a></p>
</div></blockquote>
</div>
<div class="section" id="full-copyright-statement">
<h2>Full Copyright Statement<a class="headerlink" href="#full-copyright-statement" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Copyright (C) OpenID Foundation (2014).  All Rights Reserved.</p>
<p>The OpenID Foundation (OIDF) grants to any Contributor, developer,
implementer, or other interested party a non-exclusive, royalty free,
worldwide copyright license to reproduce, prepare derivative works
from, distribute, perform and display, this Implementers Draft or
Final Specification solely for the purposes of (i) developing
specifications, and (ii) implementing Implementers Drafts and Final
Specifications based on such documents, provided that attribution be
made to the OIDF as the source of the material, but that such
attribution does not indicate an endorsement by the OIDF.</p>
<p>The technology described in this specification was made available
from contributions from various sources, including members of the
OpenID Foundation and others.  Although the OpenID Foundation has
taken steps to help ensure that the technology is available for
distribution, it takes no position regarding the validity or scope of
any intellectual property or other rights that might be claimed to
pertain to the implementation or use of the technology described in
this specification or the extent to which any license under such
rights might or might not be available; neither does it represent
that it has made any independent effort to identify any such rights.
The OpenID Foundation and the contributors to this specification make
no (and hereby expressly disclaim any) warranties (express, implied,
or otherwise), including implied warranties of merchantability, non-
infringement, fitness for a particular purpose, or title, related to
this specification, and the entire risk as to implementing this
specification is assumed by the implementer.  The OpenID Intellectual
Property Rights policy requires contributors to offer a patent
promise not to assert certain patent claims against other
contributors and against implementers.  The OpenID Foundation invites
any interested party to bring to its attention any copyrights,
patents, patent applications, or other proprietary rights that may
cover technology that may be required to practice this specification.</p>
</div></blockquote>
</div>
<div class="section" id="intellectual-property">
<h2>Intellectual Property<a class="headerlink" href="#intellectual-property" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>For OpenID Foundation&#8217;s IPR Policy, refer to
<a class="reference external" href="http://openid.net/ipr/OpenID_IPR_Policy_(Final_Clean_20071221).pdf">http://openid.net/ipr/OpenID_IPR_Policy_(Final_Clean_20071221).pdf</a></div></blockquote>
</div>
</div>


    </div>
      
  </div>
</div>
  <h2>HDKNR.COM</h2>
  
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2011, HDKNR.COM.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.<br/>
    </p>
  </div>
</footer>

  </body>
</html>