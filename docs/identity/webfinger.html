

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>WebFinger &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="Simple Web Discovery (SWD)" href="swd.html" />
    <link rel="prev" title="Backplane" href="backplane.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>WebFinger</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="backplane.html">Backplane</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="swd.html">Simple Web Discovery (SWD)</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="webfinger">
<h1>WebFinger<a class="headerlink" href="#webfinger" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="webfinger-internet-draft-08">
<p class="topic-title first">WebFinger Internet Draft 08</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id3">Abstract</a></li>
<li><a class="reference internal" href="#introduction" id="id4">1. Introduction</a></li>
<li><a class="reference internal" href="#terminology" id="id5">2. Terminology</a></li>
<li><a class="reference internal" href="#overview" id="id6">3. Overview</a></li>
<li><a class="reference internal" href="#example-uses-of-webfinger" id="id7">4. Example Uses of WebFinger</a><ul>
<li><a class="reference internal" href="#locating-a-user-s-blog" id="id8">4.1. Locating a User&#8217;s Blog</a></li>
<li><a class="reference internal" href="#retrieving-a-person-s-contact-information" id="id9">4.2. Retrieving a Person&#8217;s Contact Information</a></li>
<li><a class="reference internal" href="#simplifying-the-login-process" id="id10">4.3. Simplifying the Login Process</a></li>
<li><a class="reference internal" href="#retrieving-device-information" id="id11">4.4. Retrieving Device Information</a></li>
</ul>
</li>
<li><a class="reference internal" href="#webfinger-protocol" id="id12">5. WebFinger Protocol</a><ul>
<li><a class="reference internal" href="#performing-a-webfinger-query" id="id13">5.1. Performing a WebFinger Query</a></li>
<li><a class="reference internal" href="#the-web-host-metadata-resource-parameter" id="id14">5.2. The Web Host Metadata &#8220;resource&#8221; Parameter</a></li>
<li><a class="reference internal" href="#the-web-host-metadata-rel-parameter" id="id15">5.3. The Web Host Metadata &#8220;rel&#8221; Parameter</a></li>
<li><a class="reference internal" href="#webfinger-and-uris" id="id16">5.4. WebFinger and URIs</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-acct-uri" id="id17">6. The &#8220;acct&#8221; URI</a></li>
<li><a class="reference internal" href="#the-acct-link-relation" id="id18">7. The &#8220;acct&#8221; Link Relation</a><ul>
<li><a class="reference internal" href="#purpose-for-the-acct-link-relation" id="id19">7.1. Purpose for the &#8220;acct&#8221; Link Relation</a></li>
<li><a class="reference internal" href="#example-message-exchange-using-the-acct-link-relation" id="id20">7.2. Example Message Exchange Using the &#8220;acct&#8221; Link Relation</a></li>
<li><a class="reference internal" href="#id1" id="id21">7.2. Example Message Exchange Using the &#8220;acct&#8221; Link Relation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cross-origin-resource-sharing-cors" id="id22">8. Cross-Origin Resource Sharing (CORS)</a></li>
<li><a class="reference internal" href="#controlling-access-to-information" id="id23">9. Controlling Access to Information</a></li>
<li><a class="reference internal" href="#references" id="id24">11. References</a><ul>
<li><a class="reference internal" href="#normative-references" id="id25">11.1. Normative References</a></li>
<li><a class="reference internal" href="#informative-references" id="id26">11.2. Informative References</a></li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li>Internet Draft 08</li>
<li><a class="reference external" href="http://tools.ietf.org/html/draft-ietf-appsawg-webfinger-08">http://tools.ietf.org/html/draft-ietf-appsawg-webfinger-08</a></li>
</ul>
<div class="section" id="abstract">
<span id="webfinger-abstract"></span><h2><a class="toc-backref" href="#id3">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>This specification defines the WebFinger protocol,
which can be used to discover information about people
or other entities on the Internet using standard HTTP methods.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>About People</li>
<li>About Objects</li>
</ol>
</div>
<p>(Internet Draft 08)</p>
</div>
<div class="section" id="introduction">
<span id="webfinger-1"></span><h2><a class="toc-backref" href="#id4">1. Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>WebFinger is used to discover information about <strong>people</strong> or
<strong>other entities</strong> on the Internet
that are identified by a URI <a class="reference internal" href="#term-5"><em class="xref std std-term">[6]</em></a> or IRI <a class="reference internal" href="#term-6"><em class="xref std std-term">[7]</em></a>
using standard Hypertext Transfer Protocol (HTTP) <a class="reference internal" href="#term-1"><em class="xref std std-term">[2]</em></a> methods
over a secure transport <a class="reference internal" href="#term-13"><em class="xref std std-term">[14]</em></a>.</p>
<p>A WebFinger server returns a JavaScript Object Notation (JSON) <a class="reference internal" href="#term-4"><em class="xref std std-term">[5]</em></a> object
that describes a resource that is queried.
The JSON object is referred to as the JSON Resource Descriptor (JRD).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>JWD というJSONを返します</li>
</ul>
</div>
<p>For a person,
the kinds of information that might be discoverable via WebFinger
include a
personal profile address,
identity service,
telephone number, or preferred avatar.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>人に大しては個人属性を返します</li>
</ul>
</div>
<p>For other entities on the Internet,
a WebFinger server might return JRDs
containing <em class="xref std std-term">link relations</em> that allow a client to discover,
for example,
the amount of toner in a printer
or the physical location of a server.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>物に関しては、リンクリレーションを返します。
(サーバーの場所とか)</li>
</ul>
</div>
<p>Information returned via WebFinger might be for direct human consumption
(e.g., looking up someone&#8217;s phone number),
or it might be used by systems to help carry out some operation
(e.g., facilitate logging into a web site by determining a user&#8217;s identity service).</p>
<p>Use of WebFinger is illustrated in the examples in <a class="reference internal" href="#webfinger-3"><em>Section 3</em></a> and
described more formally in <a class="reference internal" href="#webfinger-4"><em>Section 4</em></a>.</p>
<p>(Draft 08)</p>
</div>
<div class="section" id="terminology">
<span id="webfinger-2"></span><h2><a class="toc-backref" href="#id5">2. Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h2>
<p>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;,
&#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this
document are to be interpreted as described in RFC 2119 [1].</p>
<p>WebFinger makes heavy use of &#8220;<em class="xref std std-term">Link Relations</em>&#8221;.</p>
<p>Briefly, a <em class="xref std std-term">Link Relation</em> is an <strong>attribute</strong> and <strong>value</strong> pair
used on the Internet wherein
the <strong>attribute</strong> identifies the <strong>type of link</strong> to which the associated value refers.</p>
<p>In HTTP and Web Linking <a class="reference internal" href="#term-3"><em class="xref std std-term">[4]</em></a>,
the attribute is a &#8220;<strong>rel</strong>&#8221; and the value is an &#8220;<strong>href</strong>&#8221;.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last highlight-html"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;default.css&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
<p>WebFinger also uses the &#8220;<strong>rel</strong>&#8221; attribute,
where the &#8220;rel&#8221; value is either a single IANA-registered link relation type <a class="reference internal" href="#term-9"><em class="xref std std-term">[10]</em></a> or a URI <a class="reference internal" href="#term-5"><em class="xref std std-term">[6]</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>JSON(JRD)の中でも <strong>rel</strong> を使うと言う事</li>
</ul>
</div>
<p>(Internet Draft 08)</p>
</div>
<div class="section" id="overview">
<span id="webfinger-3"></span><h2><a class="toc-backref" href="#id6">3. Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>WebFinger enables the discovery of information about accounts,
devices, and other entities that are associated with web-accessible domains.
In essence, there are two steps to discovering such information:</p>
<blockquote>
<div><ol class="arabic simple">
<li>By querying the <strong>domain</strong> itself, one can find out how to discover
information about <strong>accounts</strong>, <strong>devices</strong>, and other associated with
that domain.</li>
<li>By then querying an <strong>entity</strong> at the domain,
one will find links to more detailed information,
which can then be queried individually.</li>
</ol>
</div></blockquote>
<p>To enable such functionality,
WebFinger makes heavy use of <em class="xref std std-term">well-known</em> URIs as defined in <span class="target" id="index-0"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc5785.html"><strong>RFC 5785</strong></a> [3]
and &#8220;<em class="xref std std-term">Link Relations</em>&#8221; as defined in <span class="target" id="index-1"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc5988.html"><strong>RFC 5988</strong></a> [3].
Briefly,
a <em class="xref std std-term">link</em> is a <strong>typed connection</strong> between two web resources
that are identified by <em class="xref std std-term">Internationalized Resource Identifiers</em> (<em class="xref std std-term">IRIs</em>) [14];
this connection consists of a <em class="xref std std-term">context IRI</em>, a <em class="xref std std-term">link relation type</em>,
a <em class="xref std std-term">target IRI</em>, and optionally some <em class="xref std std-term">target attributes</em>,
resulting in statements of the form &#8220;{<em class="xref std std-term">context IRI</em>} has a {<em class="xref std std-term">relation type</em>} resource
at {<em class="xref std std-term">target IRI</em>}, which has {<em class="xref std std-term">target attributes</em>}&#8221;.
When used in the <em class="xref std std-term">Link HTTP header</em>,
the <em class="xref std std-term">context IRI</em> is the <em class="xref std std-term">IRI</em> of the requested resource,
the <em class="xref std std-term">relation type</em> is the value of the &#8220;<em class="xref std std-term">rel</em>&#8221; parameter,
the <em class="xref std std-term">target IRI</em> is <em class="xref std std-term">URI-Reference</em> contained in the <em class="xref std std-term">Link header</em>,
and the <em class="xref std std-term">target attributes</em> are the parameters such as
&#8220;hreflang&#8221;,
&#8220;media&#8221;,
&#8220;title&#8221;,
&#8220;title*&#8221;,
&#8220;type&#8221;, and any other <em class="xref std std-term">link-extension parameters</em>.</p>
<p>Thus the framework for WebFinger consists of several building blocks:</p>
<blockquote>
<div><ol class="arabic simple">
<li>To query the domain,
one requests a <em class="xref std std-term">web host metadata file</em> [10]
located at a <em class="xref std std-term">well-known URI</em> of
<strong>/.well-known/host-meta</strong> at the domain of interest.</li>
<li>The web server at the domain returns an <em class="xref std std-term">Extensible Resource Descriptor</em> (<em class="xref std std-term">XRD</em>)
or a JavaScript Object Notation (<a class="reference internal" href="glossary.html#term-json"><em class="xref std std-term">JSON</em></a>) Resource Descriptor (<em class="xref std std-term">JRD</em>) document,
including a <em class="xref std std-term">Link-based Resource Descriptor Document</em> (<em class="xref std std-term">LRDD</em>) <em class="xref std std-term">link relation</em>.</li>
<li>To discover information about accounts, devices, or other entities
associated with the domain,
one requests the actual <em class="xref std std-term">Link-based Resource Descriptor Document</em>
associated with a particular URI at the domain
(e.g., an &#8216;<em class="xref std std-term">acct</em>&#8216; URI, &#8216;http&#8217; URI&#8217;, or &#8216;mailto&#8217; URI).</li>
<li>The web server at the domain returns an <em class="xref std std-term">XRD</em> or <em class="xref std std-term">JRD</em> document about
the requested URI,
which includes specialized <em class="xref std std-term">link relations</em> pointing to resources
that contain more detailed information about the entity.</li>
</ol>
</div></blockquote>
<p>This model is illustrated in the examples under <a class="reference internal" href="#webfinger-4"><em>Section 4</em></a>,
then described more formally under <a class="reference internal" href="#webfinger-5"><em>Section 5</em></a>.
Note that steps 2 and 3 above may be accomplished simultaneously
by utilizing the &#8220;resource&#8221; parameter defined in <a class="reference internal" href="#webfinger-5-2"><em>Section 5.2</em></a>.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="example-uses-of-webfinger">
<span id="webfinger-4"></span><h2><a class="toc-backref" href="#id7">4. Example Uses of WebFinger</a><a class="headerlink" href="#example-uses-of-webfinger" title="Permalink to this headline">¶</a></h2>
<p>In this section,
we describe just a few sample uses for WebFinger and show what the protocol looks like.
This is not an exhaustive list of possible uses and the entire section should be considered non-normative.
The list of potential use cases is virtually unlimited
since a user can share any kind of machine-consumable information via WebFinger.</p>
<p>(Internet Draft 06)</p>
<div class="section" id="locating-a-user-s-blog">
<span id="webfinger-4-1"></span><h3><a class="toc-backref" href="#id8">4.1. Locating a User&#8217;s Blog</a><a class="headerlink" href="#locating-a-user-s-blog" title="Permalink to this headline">¶</a></h3>
<p>Assume you receive an email from Bob
and he refers to something he posted on his blog,
but you do not know where Bob&#8217;s blog is located.</p>
<p>It would be simple to discover the address of Bob&#8217;s blog
if he makes that information available via WebFinger.</p>
<p>Let&#8217;s assume your email client discovers that blog automatically for you.
After receiving the message from Bob (<a class="reference external" href="mailto:bob&#37;&#52;&#48;example&#46;com">bob<span>&#64;</span>example<span>&#46;</span>com</a>),
your email client performs the following steps behind the scenes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>Request the hostmeta or example.com and get XRD</li>
</ol>
</div>
<p>First,
it tries to get the <em class="xref std std-term">host metadata</em> [10] information for the domain example.com.
It does this by issuing the following HTTPS query to example.com:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta HTTP/1.1
Host: example.com</pre>
</div>
<p>The server replies with an XRD [9] document:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/xrd+xml; charset=UTF-8

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;XRD xmlns="http://docs.oasis-open.org/ns/xri/xrd-1.0"&gt;
  &lt;Link rel="lrdd"
        type="application/xrd+xml"
        template="https://example.com/lrdd/?uri={uri}"/&gt;
&lt;/XRD&gt;</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple" start="2">
<li>Read the XRD</li>
<li>Find LRDD Link.</li>
<li>Request the URI</li>
</ol>
</div>
<p>The client then processes the received XRD
in accordance with the <em class="xref std std-term">Web Host Metadata</em> [10] procedures.
The client will see the <em class="xref std std-term">LRDD</em> <em class="xref std std-term">link relation</em> and
issue a query with the user&#8217;s <em class="xref std std-term">account URI</em> [6] or
other URI that serves as an alias for the account.
(The account URI is discussed in <em class="xref std std-term">Section 4.2.</em> )</p>
<p>The query might look like this:</p>
<div class="highlight-python"><pre>GET /lrdd/?uri=acct%3Abob%40example.com HTTP/1.1
Host: example.com</pre>
</div>
<p>The server might then respond with a message like this:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/xrd+xml; charset=UTF-8

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;XRD xmlns="http://docs.oasis-open.org/ns/xri/xrd-1.0"&gt;
  &lt;Expires&gt;2012-03-13T20:56:11Z&lt;/Expires&gt;
  &lt;Subject&gt;acct:bob@example.com&lt;/Subject&gt;
  &lt;Alias&gt;http://www.example.com/~bob/&lt;/Alias&gt;
  &lt;Link rel="http://webfinger.net/rel/avatar"
        href="http://www.example.com/~bob/bob.jpg"/&gt;
  &lt;Link rel="http://webfinger.net/rel/profile-page"
        href="http://www.example.com/~bob/"/&gt;
  &lt;Link rel="http://packetizer.com/rel/blog"
        href="http://blogs.example.com/bob/"/&gt;
&lt;/XRD&gt;</pre>
</div>
<p>The email client might take note of the &#8220;blog&#8221; <em class="xref std std-term">link relation</em>
in the above XRD document that refers to Bob&#8217;s blog.
This URL would then be presented to you
so that you could then visit his blog.</p>
<p>The email client might also note that
Bob has published an avatar <em class="xref std std-term">link relation</em> and
use that picture to represent Bob inside the email client.</p>
<p>Note in the above example that
an alias is provided that can also be used to return information
about the user&#8217;s account.
Had the &#8220;http:&#8221; URI been used to query for information about Bob,
the query would have appeared as:</p>
<div class="highlight-python"><pre>GET /lrdd/?uri= http%3A%2F%2Fwww.example.com%2F~bob%2F HTTP/1.1
Host: example.com</pre>
</div>
<p>The response would have been <strong>substantially the same</strong>,
with the subject and alias information changed as necessary.
Other information,
such as the expiration time might also change,
but the set of <em class="xref std std-term">link relations</em> and properties would be the same with either response.</p>
<p>Let&#8217;s assume, though, that for the above query
the client requested a <em class="xref std std-term">JRD</em> representation for the resource
rather than an XRD representation.
In that case, the response would have been:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "expires" : "2012-03-13T20:56:11Z",
  "subject" : "http://www.example.com/~bob/",
  "aliases" :
  [
    "acct:bob@example.com"
  ],
  "links" :
  [
    {
      "rel" : "http://webfinger.net/rel/avatar",
      "href" : "http://www.example.com/~bob/bob.jpg"
    },
    {
      "rel" : "http://webfinger.net/rel/profile-page",
      "href" : "http://www.example.com/~bob/"
    },
    {
      "rel" : "http://packetizer.com/rel/blog",
      "href" : "http://blogs.example.com/bob/"
    }
  ]
}</pre>
</div>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="retrieving-a-person-s-contact-information">
<span id="webfinger-4-2"></span><h3><a class="toc-backref" href="#id9">4.2. Retrieving a Person&#8217;s Contact Information</a><a class="headerlink" href="#retrieving-a-person-s-contact-information" title="Permalink to this headline">¶</a></h3>
<p>Assume you have Alice in your address book,
but her phone number appears to be invalid.
You could use WebFinger to find her current phone number
and update your address book.</p>
<p>Let&#8217;s assume you have a web-based address book
that you wish to update.
When you instruct the address book
to pull Alice&#8217;s current contact information,
the address book might issue a query like this
to get <em class="xref std std-term">host metadata</em> information for example.com:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json HTTP/1.1
Host: example.com</pre>
</div>
<p>Note the address book is looking for a JSON [5] representation,
whereas we used XML in the previous example.</p>
<p>The server might reply with something like this:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "links" :
  [
    {
      "rel" : "lrdd",
      "type" : "application/json",
      "template" :
        "https://example.com/lrdd/?format=json&amp;uri={uri}"
    }
  ]
}</pre>
</div>
<p>The client processes the response as described in <span class="target" id="index-2"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc6415.html"><strong>RFC 6415</strong></a> [10].
It will process the LRDD link relation using Alice&#8217;s account URI by issuing this query:</p>
<div class="highlight-python"><pre>GET /lrdd/?format=json&amp;uri=acct%3Aalice%40example.com HTTP/1.1
Host: example.com</pre>
</div>
<p>The server might return a response like this:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *

Content-Type: application/json; charset=UTF-8

{
  "expires" : "2012-03-13T20:56:11Z",
  "subject" : "acct:alice@example.com",
  "links" :
  [
    {
      "rel" : "http://webfinger.net/rel/avatar",
      "href" : "http://example.com/~alice/alice.jpg"
    },
    {
      "rel" : "vcard",
      "href" : "http://example.com/~alice/alice.vcf"
    }
  ]
}</pre>
</div>
<p>With this response,
the address book might see the vcard [17] link
relation and use that file to offer you updated contact information.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="simplifying-the-login-process">
<span id="webfinger-4-3"></span><h3><a class="toc-backref" href="#id10">4.3. Simplifying the Login Process</a><a class="headerlink" href="#simplifying-the-login-process" title="Permalink to this headline">¶</a></h3>
<p>OpenID (<a class="reference external" href="http://www.openid.net">http://www.openid.net</a>) is great for allowing users
to log into a web site,
though one criticism is that it is challenging for users
to remember the URI they are assigned.</p>
<p>WebFinger can help address this issue
by allowing users to use <a class="reference external" href="mailto:user&#37;&#52;&#48;domain-style">user<span>&#64;</span>domain-style</a> addresses.
Using a user&#8217;s <em class="xref std std-term">account URI</em>,
a web site can perform a query to discover the associated OpenID identifier for a user.</p>
<p>Let&#8217;s assume Carol is trying to use OpenID to log into a blog.
The blog server might issue the following query to get the host metadata information:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json HTTP/1.1
Host: example.com</pre>
</div>
<p>The response that comes back is similar to the previous example:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8
{
  "expires" : "2012-03-13T20:56:11Z",
  "links" :
  [
    {
      "rel" : "lrdd",
      "type" : "application/json",
      "template" :
        "https://example.com/lrdd/?format=json&amp;uri={uri}"
    }
  ]
}</pre>
</div>
<p>The blog server processes the response as described in <span class="target" id="index-3"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc6415.html"><strong>RFC 6415</strong></a>.
It will process the <em class="xref std std-term">LRDD</em> <em class="xref std std-term">link relation</em> using Carol&#8217;s <em class="xref std std-term">account URI</em>
by issuing this query:</p>
<div class="highlight-python"><pre>GET /lrdd/?format=json&amp;uri=acct%3Acarol%40example.com HTTP/1.1</pre>
</div>
<p>The server might return a response like this:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "subject" : "acct:carol@example.com",
  "links" :
  [
    {
      "rel" : "http://webfinger.net/rel/avatar",
      "href" : "http://example.com/~alice/alice.jpg"
    },
    {
      "rel" : "http://specs.openid.net/auth/2.0/provider",
      "href" : "https://openid.example.com/carol"
    }
  ]
}</pre>
</div>
<p>At this point,
the blog server knows that Carol&#8217;s OpenID identifier is <a class="reference external" href="https://openid.example.com/carol">https://openid.example.com/carol</a>
and could then proceed with the login process as usual.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="retrieving-device-information">
<span id="webfinger-4-4"></span><h3><a class="toc-backref" href="#id11">4.4. Retrieving Device Information</a><a class="headerlink" href="#retrieving-device-information" title="Permalink to this headline">¶</a></h3>
<p>While the examples thus far have been focused on information
about humans,
WebFinger does not limit queries to only those that use the <em class="xref std std-term">account URI</em> scheme.</p>
<p>Any URI scheme that contains domain information MAY be used with WebFinger.
Let&#8217;s suppose there are devices on the network like printers
and you would like to check the current toner level for a particular printer
identified via the URI like <strong>device:p1.example.com</strong>.
While the &#8220;device&#8221; URI scheme is not presently specified,
we use it here for illustrative purposes.</p>
<p>Following the procedures similar to those above,
a query may be issued to get <em class="xref std std-term">link relations</em>
specific to this URI like this:</p>
<div class="highlight-python"><pre>GET /lrdd/?format=json&amp;uri=device%3Ap1.example.com HTTP/1.1
Host: example.com</pre>
</div>
<p>The <em class="xref std std-term">link relations</em> that are returned may be quite different than those for user accounts.
Perhaps we may see a response like this:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "subject" : "device:p1.example.com",
  "links" :
  [
    {
      "rel" : "tipsi",
      "href" : "http://192.168.1.5/npap/"
    }
  ]
}</pre>
</div>
<p>While this example is entirely fictitious,
you can imagine that perhaps the Transport Independent,
Printer/System Interface [19] may be enhanced with a web interface
that allows a device that understands the TIP/SI web interface specification
to query the printer for toner levels.</p>
<p>(Internet Draft 06)</p>
</div>
</div>
<div class="section" id="webfinger-protocol">
<span id="webfinger-5"></span><h2><a class="toc-backref" href="#id12">5. WebFinger Protocol</a><a class="headerlink" href="#webfinger-protocol" title="Permalink to this headline">¶</a></h2>
<p>WebFinger does not actually introduce a new protocol, per se.</p>
<p>Rather, it builds upon the existing <em class="xref std std-term">Web Host Metadata</em> [10] specification
and leverages the <em class="xref std std-term">Cross-Origin Resource Sharing</em> (<a class="reference internal" href="backplane.html#term-cors"><em class="xref std std-term">CORS</em></a>) [8] specification.</p>
<p>(Internet Draft 06)</p>
<div class="section" id="performing-a-webfinger-query">
<span id="webfinger-5-1"></span><h3><a class="toc-backref" href="#id13">5.1. Performing a WebFinger Query</a><a class="headerlink" href="#performing-a-webfinger-query" title="Permalink to this headline">¶</a></h3>
<p>The first step a client must perform in executing a WebFinger query
is to query for the <em class="xref std std-term">host metadata</em> using HTTPS or HTTP.
The procedures are defined in the <em class="xref std std-term">Web Host Metadata</em> [10] specification.</p>
<p>WebFinger clients MUST locate the <em class="xref std std-term">LRDD</em> <em class="xref std std-term">link relation</em>, if present,
and perform a query for that <em class="xref std std-term">link relation</em>, if present.
All other <em class="xref std std-term">link templates</em> found must be processed to form
a complete resource descriptor.
The processing rules in Section 4.2 of <span class="target" id="index-4"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc6415.html"><strong>RFC 6415</strong></a> MUST be followed.</p>
<p>WebFinger servers MUST accept requests for both <em class="xref std std-term">XRD</em> [9] and <em class="xref std std-term">JRD</em> [10] documents.
The default representation returned by the server MUST be an XRD document,
but a JRD document MUST be returned if the client explicitly requests it
by using <strong>/.well-known/host-meta.json</strong> or includes an <em class="xref std std-term">Accept</em> header
in the HTTP request with a type of &#8220;<strong>application/json</strong>&#8221; [5].</p>
<p>If the client requests a JRD document when querying for host metadata,
the WebFinger server can assume that the client will want a JRD documents
when querying the LRDD resource.
As such,
when the WebFinger server returns a JRD document containing host metadata
it should include a URI for an LRDD resource that can return a JRD document
and MAY include a URI for an LRDD resource that will return an XRD document.</p>
<p>If the client queries the LRDD resource and provides a URI
for which the server has no information,
the server MUST return a 404 status code.
Likewise,
any query to a URI in the resource descriptor that is unknown to the server
MUST result in the server returning a 404 status code.</p>
<p>WebFinger servers MAY include cache validators in a response
to enable conditional requests by clients and/or expiration times
as per RFC 2616 section 13.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="the-web-host-metadata-resource-parameter">
<span id="webfinger-5-2"></span><h3><a class="toc-backref" href="#id14">5.2. The Web Host Metadata &#8220;resource&#8221; Parameter</a><a class="headerlink" href="#the-web-host-metadata-resource-parameter" title="Permalink to this headline">¶</a></h3>
<p>In addition to the normal processing logic for processing <em class="xref std std-term">host metadata</em> information,
WebFinger defines the &#8220;<strong>resource</strong>&#8221; parameter for querying for <em class="xref std std-term">host metadata</em>
and returning all of the <em class="xref std std-term">link relations</em> from <em class="xref std std-term">LRDD</em>
and other resource-specific <em class="xref std std-term">link templates</em> in a single query.
This resource essentially pushes the work to the server
to form a complete resource descriptor for the specified resource.</p>
<p>WebFinger servers compliant with this specification MUST
support for the &#8220;resource&#8221; parameter
as a means of improving performance and reducing client complexity.
Note that an RFC 6415-compliant server might not implement the &#8220;resource&#8221; parameter,
though the server would respond to queries from the client as described in RFC 6415.
Thus,
WebFinger clients MUST check the server response to ensure
that the &#8220;resource&#8221; parameter is supported as explained below.</p>
<p>To utilize the host-meta &#8220;<strong>resource</strong>&#8221; parameter,
a WebFinger client issues a request to <strong>/.well-known/host-meta</strong>
or <strong>/.well-known/host-meta.json</strong> as usual,
but then appends a &#8220;resource&#8221; parameter as shown in this example:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json?resource=\
                       acct%3Abob%40example.com HTTP/1.1
Host: example.com</pre>
</div>
<p>Note that
the &#8220;&#8221; character shown above is to indicate
that the line breaks at this point and continues on the next line.
This was shown only to avoid line wrapping in this document
and is not a part of the HTTP protocol.</p>
<p>When processing this request,
the WebFinger server MUST</p>
<blockquote>
<div><ul class="simple">
<li>Return a 404 status code if the URI provided in the resource
parameter is unknown to the server; and</li>
<li>Set the &#8220;Subject&#8221; returned in the response to the value of the
&#8220;resource&#8221; parameter if the URI provided in the resource
parameter is known to the server</li>
</ul>
</div></blockquote>
<p>The WebFinger client can verify support for the &#8220;resource&#8221; parameter
by checking the value of the <strong>Subject</strong> returned in the response.
If the <strong>Subject</strong> matches the value of the &#8220;<strong>resource</strong>&#8221; parameter,
then the &#8220;resource&#8221; parameter is supported by the server.</p>
<p>For illustrative purposes,
the following is an example usage of the &#8220;<strong>resource&#8221;</strong> parameter
that aligns with the example in Section 1.1.1 of RFC 6415.
The WebFinger client would issue this request:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json?resource=\
                       http%3A%2F%2Fexample.com%2Fxy HTTP/1.1
Host: example.com</pre>
</div>
<p>The WebFinger server would reply with this response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "subject" : "http://example.com/xy",
  "properties" :
  {
    "http://spec.example.net/color" : "red"
  },
  "links" :
  [
    {
      "rel" : "hub",
      "href" : "http://example.com/hub"
    },
    {
      "rel" : "hub",
      "href" : "http://example.com/another/hub"
    },
    {
      "rel" : "author",
      "href" : "http://example.com/john"
    },
    {
      "rel" : "author",
      "href" : "http://example.com/author?\
                         q=http%3A%2F%2Fexample.com%2Fxy"
    }
  ]
}</pre>
</div>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="the-web-host-metadata-rel-parameter">
<span id="webfinger-5-3"></span><h3><a class="toc-backref" href="#id15">5.3. The Web Host Metadata &#8220;rel&#8221; Parameter</a><a class="headerlink" href="#the-web-host-metadata-rel-parameter" title="Permalink to this headline">¶</a></h3>
<p>WebFinger also defines the &#8220;<strong>rel</strong>&#8221; parameter for use
when querying for <em class="xref std std-term">host metadata</em>.
It is used to return a subset of the information
that would otherwise be returned without the &#8220;rel&#8221; parameter.</p>
<p>When the &#8220;<strong>rel</strong>&#8221; parameter is used,
only the <em class="xref std std-term">link relations</em> that match the <strong>space-separated list</strong> of <em class="xref std std-term">link relations</em>
provided via &#8220;<strong>rel</strong>&#8221; are included in the list of links returned in the resource descriptor.
All other information normally present in a resource descriptor is
present in the resource descriptor, even when &#8220;rel&#8221; is employed.</p>
<p>The purpose of the &#8220;<strong>rel</strong>&#8221; parameter is to return a subset of resource&#8217;s link relations.
It is not intended to reduce the work required of a server to produce a response.
That said, use of the parameter might reduce processing requirements
on either the client or server,
and it might also reduce the bandwidth required to convey the partial resource descriptor,
especially if there are numerous link relation values to convey for a given resource.</p>
<p>Support for the &#8220;<strong>rel</strong>&#8221; parameter is OPTIONAL,
but support is RECOMMENDED for both the <em class="xref std std-term">host-meta</em> resource and the <em class="xref std std-term">LRDD</em> resource.</p>
<p>For illustrative purposes,
the following is an example usage of the &#8220;<strong>rel</strong>&#8221; parameter
that aligns with the example in Section 1.1.1 of RFC 6415.
The WebFinger client would issue this request to receive links
that are of the type &#8220;hub&#8221; and &#8220;copyright&#8221;:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json?resource=\
      http%3A%2F%2Fexample.com%2Fxy&amp;rel=hub%20copyright HTTP/1.1
Host: example.com</pre>
</div>
<p>The WebFinger server would reply with this response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "subject" : "http://example.com/xy",
  "properties" :
  {
    "http://spec.example.net/color" : "red"
  },
  "links" :
  [
    {
      "rel" : "hub",
      "href" : "http://example.com/hub"
    },
    {
      "rel" : "hub",
      "href" : "http://example.com/another/hub"
    }
  ]
}</pre>
</div>
<p>Note that in this example,
the &#8220;author&#8221; links are removed,
though all other content is present.
Since there were no &#8220;copyright&#8221; links, none are returned.</p>
<p>In the event that a client requests links for link relations
that are not defined for the specified resource,
a resource descriptor MUST be returned, void of any links.
When a JRD is returned, the &#8220;links&#8221; array MAY be either absent or empty.
The server <strong>MUST NOT</strong> return a <strong>404</strong> status code
when a particular link relation specified via &#8220;rel&#8221; is not defined for the resource,
as a 404 status code is reserved for indicating that the resource itself
(e.g., as indicated via the &#8220;resource&#8221; parameter) does not exist.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="webfinger-and-uris">
<span id="webfinger-5-4"></span><h3><a class="toc-backref" href="#id16">5.4. WebFinger and URIs</a><a class="headerlink" href="#webfinger-and-uris" title="Permalink to this headline">¶</a></h3>
<p>Requests for both LRDD documents and hostmeta files can include a parameter
specifying the URI of an account, device, or other entity
(for LRDD this is the &#8220;uri&#8221; parameter as defined by the operative XRD or JRD template,
for hostmeta this is the &#8220;resource&#8221; parameter).</p>
<p>WebFinger itself is agnostic regarding the scheme of such a URI:
it could be an &#8220;<strong>acct</strong>&#8221; URI as defined in the next section,
an &#8220;http&#8221; or &#8220;https&#8221; URI, a &#8220;mailto&#8221; URI, or some other scheme.</p>
<p>For resources associated with a user account at a domain,
use of the &#8220;<strong>acct</strong>&#8221; URI scheme is RECOMMENDED,
since it explicitly identifies an account accessible via WebFinger.</p>
<p>Further, the &#8220;<strong>acct</strong>&#8221; URI scheme is not associated other protocols as,
by way of example, the &#8220;mailto&#8221; URI scheme is associated with email.
Since not every domain offers email service,
using the &#8220;mailto&#8221; URI scheme is not ideal for identifying user accounts across all domains.
That said, use of the &#8220;mailto&#8221; URI scheme would be ideal
for use with WebFinger to discover mail server configuration information for a user,
for example.</p>
<p>A domain MAY utilize one or more URIs that serve as aliases for the user&#8217;s account,
such as URIs that use the &#8220;http&#8221; URI scheme.
A WebFinger server MUST return substantially the same response to both an &#8220;acct&#8221; URI
and any alias URI for the account, including the same set of link relations and properties.
In addition, the server SHOULD include the entire list aliases for the user&#8217;s account in the XRD or JRD.</p>
<p>(Internet Draft 06)</p>
</div>
</div>
<div class="section" id="the-acct-uri">
<span id="webfinger-6"></span><h2><a class="toc-backref" href="#id17">6. The &#8220;acct&#8221; URI</a><a class="headerlink" href="#the-acct-uri" title="Permalink to this headline">¶</a></h2>
<p>The &#8220;<strong>acct</strong>&#8221; URI takes a familiar form in looking like an email address.
However,
the account URI is not an email address and should not be mistaken for one.
Quite often,
the account URI minus the &#8220;acct:&#8221; scheme prefix may be exactly the same
as the user&#8217;s email address.</p>
<p>The &#8220;acct&#8221; URI syntax is defined here in Augmented Backus-Naur Form (ABNF) [7]
and borrows syntax elements from RFC 3986 [6]:</p>
<div class="highlight-python"><pre>acctURI      =  "acct:" userpart "@" domainpart
userpart     =  1*( unreserved / pct-encoded )
domainpart   =  domainlabel 1*( "." domainlabel)
domainlabel  =  alphanum / alphanum *( alphanum / "-" ) alphanum
alphanum     =  ALPHA / DIGIT</pre>
</div>
<p>The &#8220;<strong>acct</strong>&#8221; URI scheme allows any character from the Unicode [12] character set
encoded as a UTF-8 [20] string that is then percent-encoded as necessary into valid ASCII [21].
Characters in the domainpart must be encoded to support internationalized domain names (IDNs) [13].</p>
<p>Characters in the userpart or domainpart that are not unreserved must be percent-encoded
when used in a protocol or document that only supports or requires ASCII.
When carried in a document (e.g., XRD or JRD) or protocol that supports
the Unicode character set (e.g., UTF-8 or UTF-16 [22]),
the URI strings may appear in the protocol or document&#8217;s native encoding without percent-encoding.
Such usage of a URI is commonly referred to as an Internationalized Resource Identifier (IRI).
Conversion between an IRI and URI is described in Section 3 of RFC 3987 [14].</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="the-acct-link-relation">
<span id="webfinger-7"></span><h2><a class="toc-backref" href="#id18">7. The &#8220;acct&#8221; Link Relation</a><a class="headerlink" href="#the-acct-link-relation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="purpose-for-the-acct-link-relation">
<span id="webfinger-7-1"></span><h3><a class="toc-backref" href="#id19">7.1. Purpose for the &#8220;acct&#8221; Link Relation</a><a class="headerlink" href="#purpose-for-the-acct-link-relation" title="Permalink to this headline">¶</a></h3>
<p>Users of some services might have an &#8220;<strong>acct</strong>&#8221; URI
that looks significantly different from his or her email address,
perhaps using an entirely different domain name.
It is also possible for a user have <strong>multiple accounts</strong> that
a user wants to advertise and that a WebFinger client may want to query.
To address both of these needs,
this specification defines the &#8220;<strong>acct</strong>&#8221; <em class="xref std std-term">link relation</em>.</p>
<p>Since an account may make a reference to one or more different accounts,
WebFinger clients MUST take steps to avoid loops wherein two accounts,
directly or indirectly, refer the client to each other.</p>
<p>There are no limits on the number of &#8220;<strong>acct</strong>&#8221; <em class="xref std std-term">link relations</em>
that might be returned in a WebFinger query.</p>
<p>An &#8220;<strong>acct</strong>&#8221; <em class="xref std std-term">link relation</em> used within the context of a WebFinger query
for a user&#8217;s account MUST NOT return &#8220;acct&#8221; link relations for another individual.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="example-message-exchange-using-the-acct-link-relation">
<span id="webfinger-7-2"></span><h3><a class="toc-backref" href="#id20">7.2. Example Message Exchange Using the &#8220;acct&#8221; Link Relation</a><a class="headerlink" href="#example-message-exchange-using-the-acct-link-relation" title="Permalink to this headline">¶</a></h3>
<p>Consider the following non-normative example.</p>
<p>Suppose Alice receives an email from <a class="reference external" href="mailto:bob&#37;&#52;&#48;example&#46;net">bob<span>&#64;</span>example<span>&#46;</span>net</a>.
While Bob&#8217;s email identifier might be in the example.net domain,
he holds his account with an &#8220;<strong>acct</strong>&#8221; URI in the example.com domain.</p>
<p>His email provider may provide WebFinger services
to enable redirecting Alice when she queries for acct:bob&#64;example.net.</p>
<p>Suppose Alice&#8217;s client issues the following request:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json?resource=\
                       acct%3Abob%40example.net HTTP/1.1
Host: example.net</pre>
</div>
<p>The response that Alice&#8217;s client receives back might be:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "subject" : "acct:bob@example.net",
  "links" :
  [
    {
      "rel" : "acct",
      "href" : "acct:bob@example.com"
    },
    {
      "rel" : "acct",
      "href" : "acct:bob@example.org"
    }
  ]
}</pre>
</div>
<p>Alice&#8217;s WebFinger client could then perform queries against the URIs acct:bob&#64;example.com
and acct:bob&#64;example.org in order to get the information Alice is seeking.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="id1">
<span id="id2"></span><h3><a class="toc-backref" href="#id21">7.2. Example Message Exchange Using the &#8220;acct&#8221; Link Relation</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Consider the following non-normative example.</p>
<p>Suppose Alice receives an email from <a class="reference external" href="mailto:bob&#37;&#52;&#48;example&#46;net">bob<span>&#64;</span>example<span>&#46;</span>net</a>.
While Bob&#8217;s email identifier might be in the example.net domain,
he holds his account with an &#8220;<strong>acct</strong>&#8221; URI in the example.com domain.</p>
<p>His email provider may provide WebFinger services
to enable redirecting Alice when she queries for acct:bob&#64;example.net.</p>
<p>Suppose Alice&#8217;s client issues the following request:</p>
<div class="highlight-python"><pre>GET /.well-known/host-meta.json?resource=\
                       acct%3Abob%40example.net HTTP/1.1
Host: example.net</pre>
</div>
<p>The response that Alice&#8217;s client receives back might be:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Access-Control-Allow-Origin: *
Content-Type: application/json; charset=UTF-8

{
  "subject" : "acct:bob@example.net",
  "links" :
  [
    {
      "rel" : "acct",
      "href" : "acct:bob@example.com"
    },
    {
      "rel" : "acct",
      "href" : "acct:bob@example.org"
    }
  ]
}</pre>
</div>
<p>Alice&#8217;s WebFinger client could then perform queries against the URIs acct:bob&#64;example.com
and acct:bob&#64;example.org in order to get the information Alice is seeking.</p>
<p>(Internet Draft 06)</p>
</div>
</div>
<div class="section" id="cross-origin-resource-sharing-cors">
<span id="webfinger-8"></span><h2><a class="toc-backref" href="#id22">8. Cross-Origin Resource Sharing (CORS)</a><a class="headerlink" href="#cross-origin-resource-sharing-cors" title="Permalink to this headline">¶</a></h2>
<p>WebFinger is most useful
when it is accessible without restrictions on the Internet,
and that includes web browsers.</p>
<p>Therefore,
WebFinger servers MUST support <em class="xref std std-term">Cross-Origin Resource Sharing</em> (<a class="reference internal" href="backplane.html#term-cors"><em class="xref std std-term">CORS</em></a>) [8]
when serving content intended for public consumption.
Specifically,
all queries to <strong>/.well-known/host-meta</strong>, <strong>/.well- known/host-meta.json</strong>,
and to the <em class="xref std std-term">LRDD</em> URI must include the following HTTP header in the response:</p>
<div class="highlight-python"><pre>Access-Control-Allow-Origin: *</pre>
</div>
<p>Enterprise WebFinger servers that wish to restrict access to information
from external entities SHOULD use a more restrictive <strong>Access-Control-Allow-Origin</strong> header
and MAY exclude the header entirely.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="controlling-access-to-information">
<span id="webfinger-9"></span><h2><a class="toc-backref" href="#id23">9. Controlling Access to Information</a><a class="headerlink" href="#controlling-access-to-information" title="Permalink to this headline">¶</a></h2>
<p>As with all web resources, access to the Host Metadata resource and
the LRDD resource MAY require authentication.  Further, failure to
provide required credentials MAY result in the server forbidding
access or providing a different response than had the client
authenticated with the server.</p>
<p>Likewise, a server MAY provide different responses to different
clients based on other factors, such as whether the client is inside
or outside a corporate network.  As a concrete example, a query
performed on the internal corporate network might return link
relations to employee pictures whereas link relations for employee
pictures might not be provided to external entities.</p>
<p>Further, link relations provided in a WebFinger server response MAY
point to web resources that impose access restrictions.  For example,
it is possible that the aforementioned corporate server may provide
both internal and external entities with URIs to employee pictures,
but further authentication MAY be required in order for the WebFinger
client to access those resources if the request comes from outside
the corporate network.</p>
<p>The decisions made with respect to what set of link relations a
WebFinger server provides to one client versus another and what
resources require further authentication, as well as the specific
authentication mechanisms employed, are outside the scope of this
document.</p>
<p>(Internet Draft 06)</p>
<ol class="arabic simple" id="webfinger-10" start="10">
<li>Implementation Notes (Non-Normative)</li>
</ol>
<p>A user should not be required to enter the &#8220;acct&#8221; URI scheme name
along with his account identifier into any WebFinger client.  Rather,
the WebFinger client should accept identifiers that are void of the
&#8220;acct:&#8221; portion of the identifier.  Composing a properly formatted
&#8220;acct&#8221; URI is the responsibility of the WebFinger client.</p>
<p>(Internet Draft 06)</p>
</div>
<div class="section" id="references">
<span id="webfinger-11"></span><h2><a class="toc-backref" href="#id24">11. References</a><a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>(Draft 08)</p>
<div class="section" id="normative-references">
<span id="webfinger-11-1"></span><h3><a class="toc-backref" href="#id25">11.1. Normative References</a><a class="headerlink" href="#normative-references" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-">[1]</dt>
<dd>Bradner, S., &#8220;Key words for use in RFCs to Indicate Requirement
Levels&#8221;, BCP 14, <span class="target" id="index-5"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc2119.html"><strong>RFC 2119</strong></a> March 1997.</dd>
<dt id="term-1">[2]</dt>
<dd>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L.,
Leach, P., and T. Berners-Lee, &#8220;Hypertext Transfer Protocol &#8211;
HTTP/1.1&#8221;, <span class="target" id="index-6"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc2616.html"><strong>RFC 2616</strong></a> June 1999.</dd>
<dt id="term-2">[3]</dt>
<dd>Nottingham, M., Hammer-Lahav, E., &#8220;Defining Well-Known Uniform
Resource Identifiers (URIs)&#8221;, <span class="target" id="index-7"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc5785.html"><strong>RFC 5785</strong></a> April 2010.</dd>
<dt id="term-3">[4]</dt>
<dd>Nottingham, M., &#8220;Web Linking&#8221;, <span class="target" id="index-8"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc5988.html"><strong>RFC 5988</strong></a> October 2010.</dd>
<dt id="term-4">[5]</dt>
<dd>Crockford, D., &#8220;The application/json Media Type for JavaScript
Object Notation (JSON)&#8221;, <span class="target" id="index-9"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc4627.html"><strong>RFC 4627</strong></a> July 2006.</dd>
<dt id="term-5">[6]</dt>
<dd>Berners-Lee, T., Fielding, R., and Masinter, L., &#8220;Uniform
Resource Identifier (URI): Generic Syntax&#8221;, STD 66, <span class="target" id="index-10"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc3986.html"><strong>RFC 3986</strong></a>
January 2005.</dd>
<dt id="term-6">[7]</dt>
<dd>Duerst, M., &#8220;Internationalized Resource Identifiers (IRIs)&#8221;,
<span class="target" id="index-11"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc3987.html"><strong>RFC 3987</strong></a> January 2005.</dd>
<dt id="term-7">[8]</dt>
<dd>Saint-Andre, P., &#8220;The &#8216;acct&#8217; URI Scheme&#8221;, draft-ietf-appsawg-
acct-uri-01, October 2012.</dd>
<dt id="term-8">[9]</dt>
<dd>Van Kesteren, A., &#8220;Cross-Origin Resource Sharing&#8221;, W3C CORS
<a class="reference external" href="http://www.w3.org/TR/cors/">http://www.w3.org/TR/cors/</a>, July 2010.</dd>
<dt id="term-9">[10]</dt>
<dd>IANA, &#8220;Link Relations&#8221;, <a class="reference external" href="http://www.iana.org/assignments/link">http://www.iana.org/assignments/link</a>-
relations/.</dd>
<dt id="term-10">[11]</dt>
<dd>IANA, &#8220;MIME Media Types&#8221;,
<a class="reference external" href="http://www.iana.org/assignments/media-types/index.html">http://www.iana.org/assignments/media-types/index.html</a>.</dd>
<dt id="term-11">[12]</dt>
<dd>Freed, N., Klensin, J., &#8220;Media Type Specifications and
Registration Procedures&#8221;, <span class="target" id="index-12"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc4288.html"><strong>RFC 4288</strong></a> December 2005.</dd>
<dt id="term-12">[13]</dt>
<dd>Phillips, A., Davis, M., &#8220;Tags for Identifying Languages&#8221;, RFC
5646, January 2001.</dd>
<dt id="term-13">[14]</dt>
<dd>Rescorla, E., &#8220;HTTP Over TLS&#8221;, <span class="target" id="index-13"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc2818.html"><strong>RFC 2818</strong></a> May 2000.</dd>
<dt id="term-14">[15]</dt>
<dd>Klyne, G., Newman, C., &#8220;Date and Time on the Internet:
Timestamps&#8221;, <span class="target" id="index-14"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc3339.html"><strong>RFC 3339</strong></a> July 2002.</dd>
</dl>
<p>(Draft 08)</p>
<table class="docutils field-list" frame="void" id="webfinger-11-2" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">orphan:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="informative-references">
<h3><a class="toc-backref" href="#id26">11.2. Informative References</a><a class="headerlink" href="#informative-references" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-15">[16]</dt>
<dd>Perreault, S., &#8220;vCard Format Specification&#8221;, <span class="target" id="index-15"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc6350.html"><strong>RFC 6350</strong></a>, August
2011.</dd>
<dt id="term-16">[17]</dt>
<dd>&#8220;Transport Independent, Printer/System Interface&#8221;, IEEE Std
1284.1-1997, 1997.</dd>
<dt id="term-17">[18]</dt>
<dd>Sakimura, N., Bradley, J., Jones, M., de Medeiros, B.,
Mortimore, C., and E. Jay, &#8220;OpenID Connect Messages 1.0&#8221;, June
2012, <a class="reference external" href="http://openid.net/specs/openid-connect-messages-1_0.html">http://openid.net/specs/openid-connect-messages-1_0.html</a>.
(<a class="reference internal" href="messages.html"><em>OpenID Connect Messages 1.0</em></a> )</dd>
<dt id="term-18">[19]</dt>
<dd>Hammer-Lahav, E. and Cook, B., &#8220;Web Host Metadata&#8221;, <span class="target" id="index-16"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc6415.html"><strong>RFC 6415</strong></a>,
October 2011.</dd>
<dt id="term-19">[20]</dt>
<dd>Hammer-Lahav, E. and W. Norris, &#8220;Extensible Resource Descriptor
(XRD) Version 1.0&#8221;, <a class="reference external" href="http://docs.oasis">http://docs.oasis</a>-
open.org/xri/xrd/v1.0/xrd-1.0.html.</dd>
<dt id="term-20">[21]</dt>
<dd>Duerst, M., Masinter, L., and J. Zawinski, &#8220;The &#8216;mailto&#8217; URI
Scheme&#8221;, <span class="target" id="index-17"></span><a class="rfc reference external" href="http://tools.ietf.org/html/rfc6068.html"><strong>RFC 6068</strong></a>, October 2010.</dd>
</dl>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="backplane.html">Backplane</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="swd.html">Simple Web Discovery (SWD)</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/3c28de26aac2.
    </div>
  </body>
</html>