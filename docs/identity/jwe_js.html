

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>JSON Web Encryption JSON Serialization (JWE-JS) &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="Simple Web Discovery (SWD)" href="swd.html" />
    <link rel="prev" title="JSON Web Signature JSON Serialization (JWS-JS)" href="jws_js.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>JSON Web Encryption JSON Serialization (JWE-JS)</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="jws_js.html">JSON Web Signature JSON Serialization (JWS-JS)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="swd.html">Simple Web Discovery (SWD)</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="json-web-encryption-json-serialization-jwe-js">
<h1><a class="toc-backref" href="#id1">JSON Web Encryption JSON Serialization (JWE-JS)</a><a class="headerlink" href="#json-web-encryption-json-serialization-jwe-js" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>draft-jones-json-web-encryption-json-serialization-01</li>
<li><a class="reference external" href="http://self-issued.info/docs/draft-jones-json-web-encryption-json-serialization-01.html">http://self-issued.info/docs/draft-jones-json-web-encryption-json-serialization-01.html</a></li>
<li>March 12, 2012</li>
</ul>
<div class="contents topic" id="toc">
<p class="topic-title first">TOC</p>
<ul class="simple">
<li><a class="reference internal" href="#json-web-encryption-json-serialization-jwe-js" id="id1">JSON Web Encryption JSON Serialization (JWE-JS)</a><ul>
<li><a class="reference internal" href="#abstract" id="id2">Abstract</a></li>
<li><a class="reference internal" href="#example-jwe-js" id="id3">4.  Example JWE-JS</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="abstract">
<span id="jwe-js-abstract"></span><h2><a class="toc-backref" href="#id2">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>The JSON Web Encryption JSON Serialization (JWE-JS) is
a means of representing encrypted content using JSON data structures.
This specification describes a means of representing secured content
as a JSON data object
(as opposed to the JWE specification, which uses a compact serialization with a URL-safe representation).</p>
<p>It enables the same content to be encrypted to multiple parties (unlike JWE).
Cryptographic algorithms and identifiers used with this specification are enumerated
in the separate JSON Web Algorithms (<tt class="xref doc docutils literal"><span class="pre">JWA</span></tt>) specification.</p>
<p>The JSON Serialization for related digital signature and
HMAC functionality is described
in the separate JSON Web Signature JSON Serialization (<a class="reference internal" href="jws_js.html"><em>JWS-JS</em></a>) specification.</p>
<p>(draft 01)</p>
</div>
<div class="section" id="example-jwe-js">
<span id="jwe-js-4"></span><h2><a class="toc-backref" href="#id3">4.  Example JWE-JS</a><a class="headerlink" href="#example-jwe-js" title="Permalink to this headline">¶</a></h2>
<p>This section contains an example using the JWE JSON Serialization.
This example demonstrates the capability for encrypting the same plaintext to multiple recipients.</p>
<p>Two recipients are present in this example:
the first using the <strong>RSA-PKCS1_1.5</strong> algorithm to produce the JWE Encrypted Key
and the second using the <strong>ECDH-ES</strong> algorithm to produce the JWE Encrypted Key.</p>
<p>The Plaintext is encrypted using the <strong>AES-256-CBC</strong> algorithm to produce the JWE Ciphertext.</p>
<p>The two Decoded JWE Header Segments used are:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span><span class="s2">&quot;alg&quot;</span><span class="o">:</span><span class="s2">&quot;RSA1_5&quot;</span><span class="p">,</span>
 <span class="s2">&quot;enc&quot;</span><span class="o">:</span><span class="s2">&quot;A256CBC&quot;</span><span class="p">,</span>
 <span class="s2">&quot;int&quot;</span><span class="o">:</span><span class="s2">&quot;HS256&quot;</span><span class="p">,</span>
 <span class="s2">&quot;iv&quot;</span><span class="o">:</span><span class="s2">&quot;Mz-mW_4JHfg&quot;</span><span class="p">,</span>
 <span class="s2">&quot;x5t&quot;</span><span class="o">:</span><span class="s2">&quot;7noOPq-hJ1_hCnvWh6IeYI2w9Q0&quot;</span><span class="p">}</span>
<span class="nx">and</span><span class="o">:</span>

<span class="p">{</span><span class="s2">&quot;alg&quot;</span><span class="o">:</span><span class="s2">&quot;ECDH-ES&quot;</span><span class="p">,</span>
 <span class="s2">&quot;enc&quot;</span><span class="o">:</span><span class="s2">&quot;A256CBC&quot;</span><span class="p">,</span>
 <span class="s2">&quot;epk&quot;</span><span class="o">:</span><span class="p">{</span>
  <span class="s2">&quot;alg&quot;</span><span class="o">:</span><span class="s2">&quot;EC&quot;</span><span class="p">,</span>
  <span class="s2">&quot;crv&quot;</span><span class="o">:</span><span class="s2">&quot;P-256&quot;</span><span class="p">,</span>
  <span class="s2">&quot;x&quot;</span><span class="o">:</span><span class="s2">&quot;235RT7iKTI3KWvS4_mIwUhX6OC_X2I-bsOpS5w7MGA4&quot;</span><span class="p">,</span>
  <span class="s2">&quot;y&quot;</span><span class="o">:</span><span class="s2">&quot;ZSv0dtvXs4o2XsIVhFzgiMTSg9uSsytaOvC-XRtfoIM&quot;</span><span class="p">},</span>
 <span class="s2">&quot;jku&quot;</span><span class="o">:</span><span class="s2">&quot;https://example.com/public_key.jwk&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>The complete JSON Web Encryption JSON Serialization (JWE-JS) for these values is as follows (with line breaks for display purposes only):</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span><span class="s2">&quot;headers&quot;</span><span class="o">:</span><span class="p">[</span>
  <span class="s2">&quot;eyJhbGciOiJSU0ExXzUiLA0KICJlbmMiOiJBMjU2Q0JDIiwNCiAiaW50IjoiS</span>
<span class="s2">FMyNTYiLA0KICJpdiI6Ik16LW1XXzRKSGZnIiwNCiAieDV0IjoiN25vT1BxLWhKM</span>
<span class="s2">V9oQ252V2g2SWVZSTJ3OVEwIn0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;eyJhbGciOiJFQ0RILUVTIiwNCiAiZW5jIjoiQTI1NkNCQyIsDQogImVwayI6e</span>
<span class="s2">w0KICAiYWxnIjoiRUMiLA0KICAiY3J2IjoiUC0yNTYiLA0KICAieCI6IjIzNVJUN</span>
<span class="s2">2lLVEkzS1d2UzRfbUl3VWhYNk9DX1gySS1ic09wUzV3N01HQTQiLA0KICAieSI6I</span>
<span class="s2">lpTdjBkdHZYczRvMlhzSVZoRnpnaU1UU2c5dVNzeXRhT3ZDLVhSdGZvSU0ifSwNC</span>
<span class="s2">iAiamt1IjoiaHR0cHM6Ly9leGFtcGxlLmNvbS9wdWJsaWNfa2V5Lmp3ayJ9&quot;</span><span class="p">],</span>

 <span class="s2">&quot;encrypted_keys&quot;</span><span class="o">:</span><span class="p">[</span>
  <span class="s2">&quot;TBD_encrypted_key_1_value_TBD&quot;</span><span class="p">,</span>
  <span class="s2">&quot;TBD_encrypted_key_2_value_TBD&quot;</span><span class="p">],</span>

 <span class="s2">&quot;ciphertext&quot;</span><span class="o">:</span><span class="s2">&quot;TBD_ciphertext_value_TBD&quot;</span><span class="p">,</span>
 <span class="s2">&quot;integrity_values&quot;</span><span class="o">:</span><span class="p">[</span>
  <span class="s2">&quot;TBD_integrity_1_value_TBD&quot;</span><span class="p">,</span>
  <span class="s2">&quot;TBD_integrity_2_value_TBD&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>TBD: Finish this example.</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="jws_js.html">JSON Web Signature JSON Serialization (JWS-JS)</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="swd.html">Simple Web Discovery (SWD)</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/660be19d7963.
    </div>
  </body>
</html>