

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenID Connect Dynamic Client Registration 1.0 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="OpenID Connect Discovery 1.0" href="discovery.html" />
    <link rel="prev" title="OpenID Connect Messages 1.0" href="messages.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>OpenID Connect Dynamic Client Registration 1.0</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="messages.html">OpenID Connect Messages 1.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="discovery.html">OpenID Connect Discovery 1.0</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="openid-connect-dynamic-client-registration-1-0">
<span id="reg-head"></span><h1>OpenID Connect Dynamic Client Registration 1.0<a class="headerlink" href="#openid-connect-dynamic-client-registration-1-0" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Draft 19 ( <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html">http://openid.net/specs/openid-connect-registration-1_0.html</a> )</li>
</ul>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id1">Abstract</a></li>
<li><a class="reference internal" href="#introduction" id="id2">1.  Introduction</a><ul>
<li><a class="reference internal" href="#requirements-notation-and-conventions" id="id3">1.1.  Requirements Notation and Conventions</a></li>
<li><a class="reference internal" href="#terminology" id="id4">1.2.  Terminology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#client-metadata" id="id5">2.  Client Metadata</a><ul>
<li><a class="reference internal" href="#metadata-languages-and-scripts" id="id6">2.1.  Metadata Languages and Scripts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#client-registration" id="id7">3.  Client Registration</a><ul>
<li><a class="reference internal" href="#client-registration-request" id="id8">3.1.  Client Registration Request</a></li>
<li><a class="reference internal" href="#client-registration-response" id="id9">3.2.  Client Registration Response</a></li>
<li><a class="reference internal" href="#client-registration-error-response" id="id10">3.3.  Client Registration Error Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#client-configuration-endpoint" id="id11">4.  Client Configuration Endpoint</a></li>
<li><a class="reference internal" href="#security-considerations" id="id12">5.  Security Considerations</a></li>
<li><a class="reference internal" href="#normative-references" id="id13">6. Normative References</a></li>
</ul>
</div>
<div class="section" id="abstract">
<span id="reg-abstract"></span><h2><a class="toc-backref" href="#id1">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>OpenID Connect 1.0 is a simple identity layer on top of the <a class="reference internal" href="oauth.html"><em>OAuth 2.0 protocol</em></a>.
It allows Clients to verify the identity of the End-User based on the authentication
performed by an Authorization Server,
as well as to obtain basic profile information
about the End-User in an interoperable and REST-like manner.</p>
<p>This specification describes how an OpenID Client can obtain the necessary Client Credentials
required by the OpenID Connect protocol suite.</p>
<p>( drarft 19 , <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html">http://openid.net/specs/openid-connect-registration-1_0.html</a> )</p>
</div>
<div class="section" id="introduction">
<span id="reg-1"></span><h2><a class="toc-backref" href="#id2">1.  Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In order for an OpenID Connect Client
to utilize OpenID services for an End-User,
the Client needs to register with the OpenID Provider to acquire a <a class="reference internal" href="glossary.html#term-client-id"><em class="xref std std-term">Client ID</em></a> and <em class="xref std std-term">shared secret</em>.</p>
<p>This document describes how a new Client can register with the OP,
and how registration information for the Client can be retrieved.</p>
<p>The <a class="reference internal" href="#term-client-registration-endpoint"><em class="xref std std-term">Client Registration Endpoint</em></a> MAY be co-resident with the <em class="xref std std-term">Token Endpoint</em>
as an optimization in some deployments.</p>
<p>Note: This specification will likely be modified
to use the <a class="reference internal" href="oauth_reg.html"><em>OAuth 2.0 Dynamic Client Registration Protocol</em></a> [I‑D.ietf‑oauth‑dyn‑reg] specification
once it is stable.</p>
<p>While currently self-contained,
this specification intentionally uses the same syntax and identifiers as the OAuth Registration draft.
As of the time of this writing, the two specifications are consistent with one another.</p>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#Introduction">http://openid.net/specs/openid-connect-registration-1_0.html#Introduction</a> )</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><a class="reference internal" href="oauth_reg.html"><em>OAuth Dynamic Client Registration Protocol</em></a> ベースに書き換えられる予定</li>
</ul>
</div>
<div class="section" id="requirements-notation-and-conventions">
<span id="reg-1-1"></span><h3><a class="toc-backref" href="#id3">1.1.  Requirements Notation and Conventions</a><a class="headerlink" href="#requirements-notation-and-conventions" title="Permalink to this headline">¶</a></h3>
<p>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this document are to be interpreted as described in RFC 2119 [RFC2119].</p>
<p>Throughout this document, values are quoted to indicate that they are to be taken literally. When using these values in protocol messages, the quotes MUST NOT be used as part of the value.</p>
<p>All uses of JSON Web Signature (JWS) [JWS] and JSON Web Encryption (JWE) [JWE] data structures in this specification utilize the JWS Compact Serialization or the JWE Compact Serialization; the JWS JSON Serialization and the JWE JSON Serialization are not used.</p>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#rnc">http://openid.net/specs/openid-connect-registration-1_0.html#rnc</a> )</p>
</div>
<div class="section" id="terminology">
<span id="reg-1-2"></span><h3><a class="toc-backref" href="#id4">1.2.  Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>This specification uses the terms &#8220;Access Token&#8221;, &#8220;Refresh Token&#8221;, &#8220;Authorization Code&#8221;, &#8220;Authorization Grant&#8221;, &#8220;Authorization Server&#8221;, &#8220;Authorization Endpoint&#8221;, &#8220;Client&#8221;, &#8220;Client Identifier&#8221;, &#8220;Client Secret&#8221;, &#8220;Protected Resource&#8221;, &#8220;Resource Owner&#8221;, &#8220;Resource Server&#8221;, and &#8220;Token Endpoint&#8221; defined by OAuth 2.0 [RFC6749], and the terms defined by OpenID Connect Messages 1.0 [OpenID.Messages].</p>
<p>This specification defines the following additional terms:</p>
<dl class="glossary docutils">
<dt id="term-client-registration-endpoint">Client Registration Endpoint</dt>
<dd>OAuth 2.0 Protected Resource through which a Client can be registered at an Authorization Server.</dd>
<dt id="term-client-configuration-endpoint">Client Configuration Endpoint</dt>
<dd>OAuth 2.0 Endpoint through which registration information for a registered Client can be managed. This URL for this endpoint is returned by the Authorization Server in the Client Information Response.</dd>
<dt id="term-registration-access-token">Registration Access Token</dt>
<dd>OAuth 2.0 Bearer Token issued by the Authorization Server through the Client Registration Endpoint that is used to authenticate the caller when accessing the Client&#8217;s registration information at the Client Configuration Endpoint. This Access Token is associated with a particular registered Client.</dd>
<dt id="term-initial-access-token">Initial Access Token</dt>
<dd>OAuth 2.0 Access Token optionally issued by an Authorization Server granting access to its Client Registration Endpoint.</dd>
</dl>
<p>IMPORTANT NOTE TO READERS: The terminology definitions in this section are a normative portion of this specification, imposing requirements upon implementations. All the capitalized words in the text of this specification, such as &#8220;Client Registration Endpoint&#8221;, reference these defined terms. Whenever the reader encounters them, their definitions found in this section must be followed.</p>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#terminology">http://openid.net/specs/openid-connect-registration-1_0.html#terminology</a> )</p>
</div>
</div>
<div class="section" id="client-metadata">
<span id="reg-client-metadata"></span><span id="reg-2"></span><h2><a class="toc-backref" href="#id5">2.  Client Metadata</a><a class="headerlink" href="#client-metadata" title="Permalink to this headline">¶</a></h2>
<p>Clients have metadata associated with their unique Client Identifier at the Authorization Server. These can range from human-facing display strings, such as a Client name, to items that impact the security of the protocol, such as the list of valid redirect URIs.</p>
<p>Client Metadata values used by OpenID Connect are:</p>
<dl class="glossary docutils">
<dt id="term-redirect-uris">redirect_uris</dt>
<dd>REQUIRED. Array of redirection URI values used in the Authorization Code and Implicit grant types. One of these registered redirection URI values MUST exactly match the redirect_uri parameter value used in each Authorization Request, with the matching performed as described in Section 6.2.1 of [RFC3986] (Simple String Comparison).</dd>
<dt id="term-response-types">response_types</dt>
<dd>OPTIONAL. JSON array containing a list of the OAuth 2.0 response_type values that the Client is declaring that it will restrict itself to using. If omitted, the default is that the Client will use only the code response type.</dd>
<dt id="term-grant-types">grant_types</dt>
<dd><p class="first">OPTIONAL. JSON array containing a list of the OAuth 2.0 grant types that the Client is declaring that it will restrict itself to using. The grant type values used by OpenID Connect are:</p>
<blockquote>
<div><ul class="simple">
<li>authorization_code: The Authorization Code Grant described in OAuth 2.0 Section 4.1.</li>
<li>implicit: The Implicit Grant described in OAuth 2.0 Section 4.2.</li>
<li>refresh_token: The Refresh Token Grant described in OAuth 2.0 Section 6.</li>
<li><a class="reference external" href="urn:ietf:params:oauth:grant-type:jwt-bearer">urn:ietf:params:oauth:grant-type:jwt-bearer</a>: The JWT Bearer grant type defined in OAuth JWT Bearer Token Profiles [OAuth.JWT].</li>
</ul>
</div></blockquote>
<p>The following table lists the correspondence between response_type values that the Client will use and grant_type values that MUST be included in the registered grant_types list:</p>
<blockquote>
<div><ul class="simple">
<li>code: authorization_code</li>
<li>id_token: implicit</li>
<li>token id_token: implicit</li>
<li>code id_token: authorization_code, implicit</li>
<li>code token: authorization_code, implicit</li>
<li>code token id_token: authorization_code, implicit</li>
</ul>
</div></blockquote>
<p class="last">If omitted, the default is that the Client will use only the authorization_code grant type.</p>
</dd>
<dt id="term-application-type">application_type</dt>
<dd>OPTIONAL. Kind of the application. The default if not specified is web. The defined values are native or web. Web Clients using the OAuth implicit grant type MUST only register URLs using the https scheme as redirect_uris; they MUST NOT use localhost as the hostname. Native Clients MUST only register redirect_uris using custom URI schemes or URLs using the http: scheme with localhost as the hostname. Authorization Servers MAY place additional constraints on Native Clients. The Authorization Server MUST verify that all the registered redirect_uris conform to these constraints. This prevents sharing a Client ID across different types of Clients.</dd>
<dt id="term-contacts">contacts</dt>
<dd>OPTIONAL. Array of e-mail addresses of people responsible for this Client. This might be used by some providers to enable a Web user interface to modify the Client information.</dd>
<dt id="term-client-name">client_name</dt>
<dd>OPTIONAL. Name of the Client to be presented to the End-User. If desired, representation of this Claim in different languages and scripts is represented as described in Section 2.1.</dd>
<dt id="term-logo-uri">logo_uri</dt>
<dd>OPTIONAL. URL that references a logo for the Client application. The value of this field MUST point to a valid image file.</dd>
<dt id="term-client-uri">client_uri</dt>
<dd>OPTIONAL. URL of the home page of the Client. The value of this field MUST point to a valid Web page. If present, the server SHOULD display this URL to the End-User in a followable fashion. If desired, representation of this Claim in different languages and scripts is represented as described in Section 2.1.</dd>
<dt id="term-token-endpoint-auth-method">token_endpoint_auth_method</dt>
<dd>OPTIONAL. Requested authentication method for the Token Endpoint. The options are client_secret_post, client_secret_basic, client_secret_jwt, and private_key_jwt, as described in Section 2.2.1 of OpenID Connect Messages 1.0 [OpenID.Messages]. Other Authentication methods MAY be defined by extensions. If unspecified or omitted, the default is client_secret_basic HTTP Basic Authentication Scheme as specified in Section 2.3.1 of OAuth 2.0 [RFC6749].</dd>
<dt id="term-policy-uri">policy_uri</dt>
<dd>OPTIONAL. URL that the Relying Party Client provides to the End-User to read about the how the profile data will be used. The OpenID Provider SHOULD display this URL to the End-User if it is given.</dd>
<dt id="term-tos-uri">tos_uri</dt>
<dd>OPTIONAL. URL that the Relying Party Client provides to the End-User to read about the Relying Party&#8217;s terms of service. The OpenID Provider SHOULD display this URL to the End-User if it is given.</dd>
<dt id="term-jwks-uri">jwks_uri</dt>
<dd>OPTIONAL. URL for the Client&#8217;s JSON Web Key Set [JWK] document. If the Client signs requests to the Server, it contains the signing key(s) the Server uses to validate signatures from the Client. The JWK Set MAY also contain the Client&#8217;s encryption keys(s), which are used by the Server to encrypt responses to the Client. When both signing and encryption keys are made available, a use (Key Use) parameter value is REQUIRED for all keys in the document to indicate each key&#8217;s intended usage. OPTIONAL.</dd>
<dt id="term-sector-identifier-uri">sector_identifier_uri</dt>
<dd>OPTIONAL. URL using the https scheme to be used in calculating Pseudonymous Identifiers by the OP. The URL references a file with a single JSON array of redirect_uri values. Please see Section 5. Providers that use pairwise sub (subject) values SHOULD provide a sector_identifier_uri.</dd>
<dt id="term-subject-type">subject_type</dt>
<dd>OPTIONAL. subject_type requested for responses to this client_id. The subject_types_supported element of discovery contains a list of the supported subject_type values for this server. Valid types include pairwise and public.</dd>
<dt id="term-request-object-signing-alg">request_object_signing_alg</dt>
<dd>OPTIONAL. JWS [JWS] alg algorithm [JWA] that MUST be used for requests to the Authorization Server. The valid values are listed in Section 3.1 of JWA [JWA]. All Request Objects from this client_id MUST be rejected if not signed by this algorithm. Servers SHOULD support RS256.</dd>
<dt id="term-userinfo-signed-response-alg">userinfo_signed_response_alg</dt>
<dd>OPTIONAL. JWS alg algorithm [JWA] REQUIRED for UserInfo Responses. The valid values are listed in Section 3.1 of JWA [JWA]. If this is specified the response will be JWT [JWT] serialized, and signed using JWS.</dd>
<dt id="term-userinfo-encrypted-response-alg">userinfo_encrypted_response_alg</dt>
<dd>OPTIONAL. JWE [JWE] alg algorithm [JWA] REQUIRED for encrypting UserInfo Responses. The valid values are listed in Section 4.1 of JWA [JWA]. If this is requested in combination with signing the response will be signed then encrypted. If this is specified the response will be JWT [JWT] serialized, and encrypted using JWE.</dd>
<dt id="term-userinfo-encrypted-response-enc">userinfo_encrypted_response_enc</dt>
<dd>OPTIONAL. JWE enc algorithm [JWA] REQUIRED for symmetric encryption of UserInfo Responses. The valid values are listed in Section 4.2 JWA [JWA]. If userinfo_encrypted_response_alg is specified the default for this value is A128CBC-HS256. If this is requested in combination with signing the response will be signed then encrypted. If this is specified the response will be JWT [JWT] serialized, and encrypted using JWE.</dd>
<dt id="term-id-token-signed-response-alg">id_token_signed_response_alg</dt>
<dd>OPTIONAL. JWS alg algorithm [JWA] REQUIRED for the ID Token issued to this client_id. The valid values are listed in Section 3.1 of JWA [JWA], with the exception of none, which MUST NOT be used as the ID Token alg value. The default if not specified is RS256. The public key for validating the signature is provided by retrieving the JWK Set referenced by the jwks_uri element from OpenID Connect Discovery 1.0 [OpenID.Discovery].</dd>
<dt id="term-id-token-encrypted-response-alg">id_token_encrypted_response_alg</dt>
<dd>OPTIONAL. JWE alg algorithm [JWA] REQUIRED for encrypting the ID Token issued to this client_id. The valid values are listed in Section 4.1 of JWA [JWA]. If this is requested, the response will be signed then encrypted. The default, if not specified, is no encryption.</dd>
<dt id="term-id-token-encrypted-response-enc">id_token_encrypted_response_enc</dt>
<dd>OPTIONAL. JWE enc algorithm [JWA] REQUIRED for symmetric encryption of the ID Token issued to this client_id. The valid values are listed in Section 4.2 of JWA [JWA]. If id_token_encrypted_response_alg is specified, the default for this parameter is A128CBC-HS256. If this is requested in combination with signing, the response will be signed then encrypted. If this is specified, the response will be JWT [JWT] serialized, and encrypted using JWE.</dd>
<dt id="term-default-max-age">default_max_age</dt>
<dd>OPTIONAL. Default Maximum Authentication Age. Specifies that the End-User MUST be actively authenticated if the End-User was authenticated longer ago than the specified number of seconds. The max_age request parameter overrides this default value.</dd>
<dt id="term-require-auth-time">require_auth_time</dt>
<dd>OPTIONAL. Boolean value specifying whether the auth_time Claim in the id_token is REQUIRED. It is REQUIRED when the value is true. The auth_time Claim request in the Request Object overrides this setting.</dd>
<dt id="term-default-acr-values">default_acr_values</dt>
<dd>OPTIONAL. Default requested Authentication Context Class Reference values. Array of strings that specifies the default acr values that the Authorization Server is being requested to use for processing requests from this Client, with the values appearing in order of preference. The Authentication Context Class satisfied by the authentication performed is returned as the acr Claim Value in the issued ID Token. The acr Claim is requested as a Voluntary Claim by this parameter. The acr_values_supported discovery element contains a list of the supported acr values supported by this server. Values specified in the acr_values request parameter or an acr Claim request override these default values.</dd>
<dt id="term-initiate-login-uri">initiate_login_uri</dt>
<dd>OPTIONAL. URI using the https scheme that the Authorization Server can call to initiate a login at the Client. The URI MUST accept requests via both GET and POST. The Client MUST understand the login_hint and iss parameters and SHOULD support the target_link_uri parameter.</dd>
<dt id="term-post-logout-redirect-uris">post_logout_redirect_uris</dt>
<dd>OPTIONAL. Array of URLs supplied by the RP to which it MAY request that the End-User&#8217;s User-Agent be redirected using the post_logout_redirect_uri parameter after a logout has been performed, as specified in OpenID Connect Session Management 1.0 [OpenID.Session].</dd>
<dt id="term-request-uris">request_uris</dt>
<dd>OPTIONAL. Array of request_uri values that are pre-registered by the Client for use at the Authorization Server. Servers MAY cache the contents of the files referenced by these URIs and not retrieve them at the time they are used in a request. OPs can require that request_uri values used be pre-registered with the require_request_uri_registration discovery parameter.
If the contents of the request file could ever change, these URI values SHOULD include the base64url encoded SHA-256 hash value of the file contents referenced by the URI as the value of the URI fragment. If the fragment value used for a URI changes, that signals the server that its cached value for that URI with the old fragment value is no longer valid.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><a class="reference internal" href="discovery.html#discovery-provider-metadata"><em>3.  OpenID Provider Metadata</em></a></li>
</ul>
</div>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#client-metadata">http://openid.net/specs/openid-connect-registration-1_0.html#client-metadata</a> )</p>
<div class="section" id="metadata-languages-and-scripts">
<span id="reg-2-1"></span><h3><a class="toc-backref" href="#id6">2.1.  Metadata Languages and Scripts</a><a class="headerlink" href="#metadata-languages-and-scripts" title="Permalink to this headline">¶</a></h3>
<p>Human-readable Client Metadata values and Client Metadata values that reference human-readable values MAY be represented in multiple languages and scripts. For example, values such as client_name, tos_uri, policy_uri, logo_uri, and client_uri might have multiple locale-specific values in some Client registrations.</p>
<p>To specify the languages and scripts, BCP47 [RFC5646] language tags are added to Client Metadata member names, delimited by a # character. The same syntax is used for representing languages and scripts for Client Metadata as is used for Claims, as described in Section 2.5.2 (Claims Languages and Scripts) of OpenID Connect Messages 1.0 [OpenID.Messages].</p>
<p>If such a human-readable field is sent without a language tag, parties using it MUST NOT make any assumptions about the language, character set, or script of the string value, and the string value MUST be used as-is wherever it is presented in a user interface. To facilitate interoperability, it is RECOMMENDED that any human-readable fields sent without language tags contain values suitable for display on a wide variety of systems.</p>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#LanguagesAndScripts">http://openid.net/specs/openid-connect-registration-1_0.html#LanguagesAndScripts</a> )</p>
</div>
</div>
<div class="section" id="client-registration">
<span id="reg-3"></span><h2><a class="toc-backref" href="#id7">3.  Client Registration</a><a class="headerlink" href="#client-registration" title="Permalink to this headline">¶</a></h2>
<p>The Client Registration Endpoint is an OAuth 2.0 Protected Resource through which a Client can request a new registration and manage the Metadata associated with it. The OpenID Provider MAY require an Initial Access Token that is provisioned out-of-band (in a manner that is out of scope for this specification) to restrict registration requests to only authorized Clients.</p>
<p>To support open registration, the Client Registration Endpoint SHOULD accept registration requests without OAuth 2.0 Access Tokens. These requests MAY be rate-limited or otherwise limited to prevent a denial-of-service attack on the Client Registration Endpoint. If an Initial Access Token is required for Client registration, the Client Registration Endpoint MUST be able to accept these Access Tokens in the manner described in the OAuth 2.0 Bearer Token Usage [RFC6750] specification.</p>
<p>(draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#ClientRegistration">http://openid.net/specs/openid-connect-registration-1_0.html#ClientRegistration</a> )</p>
<div class="section" id="client-registration-request">
<span id="reg-request"></span><span id="reg-3-1"></span><h3><a class="toc-backref" href="#id8">3.1.  Client Registration Request</a><a class="headerlink" href="#client-registration-request" title="Permalink to this headline">¶</a></h3>
<p>To register a new Client to the Authorization Server,
the Client sends an HTTP POST message to the Client Registration Endpoint
with any Client Metadata parameters that the Client chooses to specify
for itself during the registration.</p>
<p>The Authorization Server assigns this Client a unique <a class="reference internal" href="oauth.html#term-client-identifier"><em class="xref std std-term">Client Identifier</em></a>,
optionally assigns a <a class="reference internal" href="glossary.html#term-225"><em class="xref std std-term">Client Secret</em></a>,
and associates the Metadata given in the request with the issued <a class="reference internal" href="oauth.html#term-client-identifier"><em class="xref std std-term">Client Identifier</em></a>.
The Authorization Server MAY provision default values for any items omitted in the Client Metadata.</p>
<p>The Client sends an HTTP POST to the Client Registration Endpoint with a content type of application/json and all parameters as top-level members of a JSON object.</p>
<p>For example,
a Client could send the following registration request to the Client Registration Endpoint:</p>
<p>The following is a non-normative example request (with line wraps within values for display purposes only):</p>
<div class="highlight-python"><pre>POST /connect/register HTTP/1.1
Content-Type: application/json
Accept: application/json
Host: server.example.com
Authorization: Bearer eyJhbGciOiJSUzI1NiJ9.eyJ ...

{
 "application_type": "web",
 "redirect_uris":
   ["https://client.example.org/callback",
    "https://client.example.org/callback2"],
 "client_name": "My Example",
 "client_name#ja-Jpan-JP":
   "クライアント名",
 "logo_uri": "https://client.example.org/logo.png",
 "subject_type": "pairwise",
 "sector_identifier_uri":
   "https://other.example.net/file_of_redirect_uris.json",
 "token_endpoint_auth_method": "client_secret_basic",
 "jwks_uri": "https://client.example.org/my_public_keys.jwks",
 "userinfo_encrypted_response_alg": "RSA1_5",
 "userinfo_encrypted_response_enc": "A128CBC-HS256",
 "contacts": ["ve7jtb@example.org", "mary@example.org"],
 "request_uris":
   ["https://client.example.org/rf.txt
     #qpXaRLh_n93TTR9F252ValdatUQvQiJi5BDub2BeznA"]
}</pre>
</div>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#RegistrationRequest">http://openid.net/specs/openid-connect-registration-1_0.html#RegistrationRequest</a> )</p>
</div>
<div class="section" id="client-registration-response">
<span id="reg-response"></span><span id="reg-3-2"></span><h3><a class="toc-backref" href="#id9">3.2.  Client Registration Response</a><a class="headerlink" href="#client-registration-response" title="Permalink to this headline">¶</a></h3>
<p>Upon successful registration,
the <a class="reference internal" href="#term-client-registration-endpoint"><em class="xref std std-term">Client Registration Endpoint</em></a> returns the newly-created <a class="reference internal" href="oauth.html#term-client-identifier"><em class="xref std std-term">Client Identifier</em></a> and,
if applicable, a <a class="reference internal" href="glossary.html#term-225"><em class="xref std std-term">Client Secret</em></a>,
along with all registered Metadata about this Client,
including any fields provisioned by the <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a> itself.</p>
<p>The Authorization Server MAY reject or replace any of the Client&#8217;s requested field values
and substitute them with suitable values.
If this happens,
the Authorization Server MUST include these fields in the response to the Client.</p>
<p>The response also contains a <a class="reference internal" href="#term-registration-access-token"><em class="xref std std-term">Registration Access Token</em></a>
that is used by the Client to perform subsequent operations upon the resulting Client registration.</p>
<p>All of the response items are returned as a <a class="reference internal" href="glossary.html#term-json"><em class="xref std std-term">JSON</em></a> document <a class="reference internal" href="oauth_meta.html#term-rfc4627"><em class="xref std std-term">[RFC4627]</em></a>
with the following fields as top-level members of the root JSON object.</p>
<p>The following is a non-normative example response (with line wraps within values for display purposes only):</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store
Pragma: no-cache

{
 "client_id": "s6BhdRkqt3",
 "client_secret":
   "ZJYCqe3GGRvdrudKyZS0XhGv_Z45DuKhCUk0gBR1vZk",
 "client_secret_expires_at": 1577858400,
 "registration_access_token":
   "this.is.an.access.token.value.ffx83",
 "registration_client_uri":
   "https://server.example.com/connect/register?client_id=s6BhdRkqt3",
 "token_endpoint_auth_method":
   "client_secret_basic",
 "application_type": "web",
 "redirect_uris":
   ["https://client.example.org/callback",
    "https://client.example.org/callback2"],
 "client_name": "My Example",
 "client_name#ja-Jpan-JP":
   "クライアント名",
 "logo_uri": "https://client.example.org/logo.png",
 "subject_type": "pairwise",
 "sector_identifier_uri":
   "https://other.example.net/file_of_redirect_uris.json",
 "jwks_uri": "https://client.example.org/my_public_keys.jwks",
 "userinfo_encrypted_response_alg": "RSA1_5",
 "userinfo_encrypted_response_enc": "A128CBC-HS256",
 "contacts": ["ve7jtb@example.org", "mary@example.org"],
 "request_uris":
   ["https://client.example.org/rf.txt
     #qpXaRLh_n93TTR9F252ValdatUQvQiJi5BDub2BeznA"]
}</pre>
</div>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#RegistrationResponse">http://openid.net/specs/openid-connect-registration-1_0.html#RegistrationResponse</a>  )</p>
</div>
<div class="section" id="client-registration-error-response">
<span id="reg-error"></span><span id="reg-3-3"></span><h3><a class="toc-backref" href="#id10">3.3.  Client Registration Error Response</a><a class="headerlink" href="#client-registration-error-response" title="Permalink to this headline">¶</a></h3>
<p>When an OAuth error condition occurs, the Client Registration Endpoint returns an Error Response as defined in Section 3 of the OAuth 2.0 Bearer Token Usage [RFC6750] specification.</p>
<p>When a registration error condition occurs, the Client Registration Endpoint returns a HTTP 400 status code including a JSON object describing the error in the response body.</p>
<p>The JSON object contains two members:</p>
<dl class="glossary docutils">
<dt id="term-error">error</dt>
<dd>Error code.</dd>
<dt id="term-error-description">error_description</dt>
<dd>Additional text description of the error for debugging.
This specification defines the following error codes:</dd>
<dt id="term-invalid-redirect-uri">invalid_redirect_uri</dt>
<dd>The value of one or more redirect_uris is invalid.</dd>
<dt id="term-invalid-client-metadata">invalid_client_metadata</dt>
<dd>The value of one of the Client Metadata fields is invalid and the server has rejected this request. Note that an Authorization Server MAY choose to substitute a valid value for any requested parameter of a Client&#8217;s Metadata.</dd>
</dl>
<p>The following is a non-normative example error response:</p>
<div class="highlight-python"><pre>HTTP/1.1 400 Bad Request
Content-Type: application/json
Cache-Control: no-store
Pragma: no-cache

{
 "error": "invalid_redirect_uri",
 "error_description": "The value of one or more redirect_uris are invalid."
}</pre>
</div>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#RegistrationError">http://openid.net/specs/openid-connect-registration-1_0.html#RegistrationError</a> )</p>
</div>
</div>
<div class="section" id="client-configuration-endpoint">
<span id="reg-4"></span><h2><a class="toc-backref" href="#id11">4.  Client Configuration Endpoint</a><a class="headerlink" href="#client-configuration-endpoint" title="Permalink to this headline">¶</a></h2>
<p>The Client Configuration Endpoint is an OAuth 2.0 <a class="reference internal" href="glossary.html#term-protected-resource"><em class="xref std std-term">protected resource</em></a>
that is provisioned by the server
for a specific Client to be able to view and update its registered information.
The Client MUST use its <a class="reference internal" href="#term-registration-access-token"><em class="xref std std-term">Registration Access Token</em></a> in all calls
to this endpoint as an <a class="reference internal" href="oauth_bearer.html"><em>OAuth 2.0 Bearer Token</em></a> <a class="reference internal" href="oauth_introspect.html#term-rfc6750"><em class="xref std std-term">[RFC6750]</em></a>.</p>
<p>Operations on this endpoint are switched through the use of different HTTP methods [RFC2616].
The only method defined for use at this endpoint by this specification is the HTTP GET method.</p>
<p>( draft 19, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#AccessEndpoint">http://openid.net/specs/openid-connect-registration-1_0.html#AccessEndpoint</a> )</p>
</div>
<div class="section" id="security-considerations">
<span id="reg-5"></span><h2><a class="toc-backref" href="#id12">5.  Security Considerations</a><a class="headerlink" href="#security-considerations" title="Permalink to this headline">¶</a></h2>
<p>Since requests to the Client Registration Endpoint result in the transmission of clear-text credentials (in the HTTP request and response), the server MUST require the use of a transport-layer security mechanism when sending requests to the Registration Endpoint. The server MUST support TLS 1.2 RFC 5246 [RFC5246] and/or TLS 1.0 [RFC2246] and MAY support additional transport-layer mechanisms meeting its security requirements. When using TLS, the Client MUST perform a TLS/SSL server certificate check, per RFC 6125 [RFC6125].</p>
<p>Requests to the Registration Endpoint for client_update MUST have some rate limiting on failures to prevent the Client secret from being disclosed though repeated access attempts.</p>
<p>In a situation where the Authorization Server is supporting open Client registration, it must be extremely careful with any URL provided by the Client that will be displayed to the user (e.g. logo_url and policy_url). A rogue Client could specify a registration request with a reference to a drive-by download in the policy_url. The Authorization Server should check to see if the logo_url and policy_url have the same host as the hosts defined in the array of redirect_uris.</p>
<p>(draft 09,)</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Check later....</p>
</div>
</div>
<div class="section" id="normative-references">
<span id="reg-6"></span><h2><a class="toc-backref" href="#id13">6. Normative References</a><a class="headerlink" href="#normative-references" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-jwe">JWE</dt>
<dd>Jones, M., Rescorla, E., and J. Hildebrand, “JSON Web Encryption (JWE),” December 2011.</dd>
<dt id="term-jwk">JWK</dt>
<dd>Jones, M., “JSON Web Key (JWK),” December 2011.</dd>
<dt id="term-jws">JWS</dt>
<dd>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, “JSON Web Signature,” December 2011.</dd>
<dt id="term-jwt">JWT</dt>
<dd>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, “JSON Web Token,” December 2011.</dd>
<dt id="term-oauth-bearer">OAuth.Bearer</dt>
<dd>Jones, M., Hardt, D., and D. Recordon, “OAuth 2.0 Protocol: Bearer Tokens,” December 2011.</dd>
<dt id="term-oauth2-0">OAuth2.0</dt>
<dd>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, “OAuth 2.0 Authorization Protocol,” September 2011.</dd>
<dt id="term-openid-messages">OpenID.Messages</dt>
<dd>Sakimura, N., Recordon, D., Bradley, J., de Medeiros, B., Jones, M., and E. Jay, “OpenID Connect Messages 1.0,” December 2011.
(<a class="reference internal" href="messages.html"><em>OpenID Connect Messages 1.0</em></a> )</dd>
<dt id="term-rfc2119">RFC2119</dt>
<dd>Bradner, S., “Key words for use in RFCs to Indicate Requirement Levels,” BCP 14, RFC 2119, March 1997 (TXT, HTML, XML).</dd>
<dt id="term-rfc2246">RFC2246</dt>
<dd>Dierks, T. and C. Allen, “The TLS Protocol Version 1.0,” RFC 2246, January 1999 (TXT).</dd>
<dt id="term-rfc3339">RFC3339</dt>
<dd>Klyne, G., Ed. and C. Newman, “Date and Time on the Internet: Timestamps,” RFC 3339, July 2002 (TXT, HTML, XML).</dd>
<dt id="term-rfc5246">RFC5246</dt>
<dd>Dierks, T. and E. Rescorla, “The Transport Layer Security (TLS) Protocol Version 1.2,” RFC 5246, August 2008 (TXT).</dd>
<dt id="term-rfc6125">RFC6125</dt>
<dd>Saint-Andre, P. and J. Hodges, “Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS),” RFC 6125, March 2011 (TXT).</dd>
<dt id="term-usa15">USA15</dt>
<dd>Davis, M., Whistler, K., and M. Dürst, “Unicode Normalization Forms,” Unicode Standard Annex 15, 09 2009.1</dd>
</dl>
<p>(draft 09)</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="messages.html">OpenID Connect Messages 1.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="discovery.html">OpenID Connect Discovery 1.0</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>