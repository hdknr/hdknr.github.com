

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenID Connect Dynamic Client Registration 1.0 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" />
    <link rel="next" title="OpenID Connect Discovery 1.0" href="discovery.html" />
    <link rel="prev" title="OpenID Connect Messages 1.0" href="messages.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>OpenID Connect Dynamic Client Registration 1.0</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="messages.html">OpenID Connect Messages 1.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="discovery.html">OpenID Connect Discovery 1.0</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="openid-connect-dynamic-client-registration-1-0">
<h1><a class="toc-backref" href="#id5">OpenID Connect Dynamic Client Registration 1.0</a><a class="headerlink" href="#openid-connect-dynamic-client-registration-1-0" title="Permalink to this headline">¶</a></h1>
<p>Based on <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect Dynamic Client Registration 1.0 - draft 05</a> .</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Now draft 09 ( <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html">http://openid.net/specs/openid-connect-registration-1_0.html</a> ), January 6,2012 is available.</p>
</div>
<div class="section" id="abstract">
<span id="reg-abstract"></span><h2><a class="toc-backref" href="#id6">Abstract</a><a class="headerlink" href="#abstract" title="Permalink to this headline">¶</a></h2>
<p>OpenID Connect 1.0 is a simple identity layer
on top of the <a class="reference internal" href="glossary.html#term-oauth-2-0"><em class="xref std std-term">OAuth 2.0</em></a> protocol.
It allows Clients to verify the identity of the End-User
based on the authentication performed by an <a class="reference internal" href="oauth.html#term-authorization-server"><em class="xref std std-term">Authorization Server</em></a>,
as well as to obtain basic profile information about the End-User in an interoperable and RESTful manner.</p>
<p>This specification describes how an OpenID Client can obtain the necessary <a class="reference internal" href="glossary.html#term-client-credentials"><em class="xref std std-term">client credentials</em></a>
required by the OpenID Connect protocol suite.</p>
<p>(draft 09 <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html">http://openid.net/specs/openid-connect-registration-1_0.html</a>)</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#openid-connect-dynamic-client-registration-1-0" id="id5">OpenID Connect Dynamic Client Registration 1.0</a><ul>
<li><a class="reference internal" href="#abstract" id="id6">Abstract</a></li>
<li><a class="reference internal" href="#introduction" id="id7">1.  Introduction</a><ul>
<li><a class="reference internal" href="#requirements-notation-and-conventions" id="id8">1.1.  Requirements Notation and Conventions</a></li>
<li><a class="reference internal" href="#terminology" id="id9">1.2.  Terminology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#client-registration-endpoint" id="id10">2.  Client Registration Endpoint</a><ul>
<li><a class="reference internal" href="#client-registration-request" id="id11">2.1.  Client Registration Request</a><ul>
<li><a class="reference internal" href="#sector-identifier-url-verification" id="id12">2.1.1.  sector_identifier_url Verification</a></li>
</ul>
</li>
<li><a class="reference internal" href="#client-registration-response" id="id13">2.2.  Client Registration Response</a></li>
<li><a class="reference internal" href="#client-registration-error-response" id="id14">2.3.  Client Registration Error Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#string-operations" id="id15">3.  String Operations</a></li>
<li><a class="reference internal" href="#iana-considerations" id="id16">4.  IANA Considerations</a></li>
<li><a class="reference internal" href="#security-considerations" id="id17">5.  Security Considerations</a></li>
<li><a class="reference internal" href="#normative-references" id="id18">6. Normative References</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="introduction">
<span id="reg-1"></span><h2><a class="toc-backref" href="#id7">1.  Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In order for an OpenID Connect Client
to utilize OpenID services for a user,
the Client needs to register with the OpenID Provider to acquire a <a class="reference internal" href="glossary.html#term-client-id"><em class="xref std std-term">Client ID</em></a> and <em class="xref std std-term">shared secret</em>.
This document describes how a new Client can register with the provider,
and how a Client already in possession of a <a class="reference internal" href="standard.html#term-client-id"><em class="xref std std-term">client_id</em></a> can retrieve updated registration information.</p>
<p>The <em class="xref std std-term">Client Registration Endpoint</em> may be co-resident with the <a class="reference internal" href="oauth.html#term-token-endpoint"><em class="xref std std-term">token endpoint</em></a> as an optimization in some deployments.</p>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#anchor1">http://openid.net/specs/openid-connect-registration-1_0.html#anchor1</a> )</p>
<div class="section" id="requirements-notation-and-conventions">
<span id="reg-1-1"></span><h3><a class="toc-backref" href="#id8">1.1.  Requirements Notation and Conventions</a><a class="headerlink" href="#requirements-notation-and-conventions" title="Permalink to this headline">¶</a></h3>
<p>The key words &#8220;MUST&#8221;, &#8220;MUST NOT&#8221;, &#8220;REQUIRED&#8221;, &#8220;SHALL&#8221;, &#8220;SHALL NOT&#8221;, &#8220;SHOULD&#8221;, &#8220;SHOULD NOT&#8221;, &#8220;RECOMMENDED&#8221;, &#8220;MAY&#8221;, and &#8220;OPTIONAL&#8221; in this document are to be interpreted as described in RFC 2119 [RFC2119].</p>
<p>Throughout this document, values are quoted to indicate that they are to be taken literally. When using these values in protocol messages, the quotes MUST NOT be used as part of the value.</p>
<p>(draft 09)</p>
</div>
<div class="section" id="terminology">
<span id="reg-1-2"></span><h3><a class="toc-backref" href="#id9">1.2.  Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<p>This specification uses the terms &#8220;Access Token&#8221;, &#8220;Refresh Token&#8221;, &#8220;Authorization Code&#8221;, &#8220;Authorization Grant&#8221;, &#8220;Authorization Server&#8221;, &#8220;Authorization Endpoint&#8221;, &#8220;Client&#8221;, &#8220;Client Identifier&#8221;, &#8220;Client Secret&#8221;, &#8220;Protected Resource&#8221;, &#8220;Resource Owner&#8221;, &#8220;Resource Server&#8221;, and &#8220;Token Endpoint&#8221; defined by OAuth 2.0 [OAuth2.0], and the terms defined by OpenID Connect Messages 1.0 [OpenID.Messages]. It defines no additional terms.</p>
<p>(draft 09)</p>
</div>
</div>
<div class="section" id="client-registration-endpoint">
<span id="reg-2"></span><h2><a class="toc-backref" href="#id10">2.  Client Registration Endpoint</a><a class="headerlink" href="#client-registration-endpoint" title="Permalink to this headline">¶</a></h2>
<p>The <em class="xref std std-term">Client Registration Endpoint</em> is an OAuth 2.0 <a class="reference internal" href="uma_core.html#term-protected-resource"><em class="xref std std-term">Protected Resource</em></a>
that returns registration information for the Client to configure itself for the OpenID Provider.</p>
<p>The OpenID Provider may require an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> that is provisioned out-of-band
(in a manner that is out of scope for this specification) in order to restrict registration requests to only authorized Clients.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is about &#8220;close registration&#8221;.</p>
</div>
<p>In order to support <em class="xref std std-term">open registration</em>,
the Client Registration Endpoint SHOULD accept requests without OAuth 2.0 Access Tokens.</p>
<p>If an <a class="reference internal" href="glossary.html#term-access-token"><em class="xref std std-term">Access Token</em></a> is required for Client registration,
the <em class="xref std std-term">Client Registration Endpoint</em> MUST be able to accept <a class="reference internal" href="glossary.html#term-access-tokens"><em class="xref std std-term">Access Tokens</em></a> in the manner
described in the Bearer Tokens [<a class="reference internal" href="standard.html#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>] specification.</p>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#anchor2">http://openid.net/specs/openid-connect-registration-1_0.html#anchor2</a>)</p>
<div class="section" id="client-registration-request">
<span id="reg-2-1"></span><h3><a class="toc-backref" href="#id11">2.1.  Client Registration Request</a><a class="headerlink" href="#client-registration-request" title="Permalink to this headline">¶</a></h3>
<p>Clients MUST send requests encoded as a POST with the following parameters added to the HTTP request entity-body using &#8220;application/x-www-form-urlencoded&#8221; format:</p>
<dl class="glossary docutils">
<dt id="term-type">type</dt>
<dd>REQUIRED.
Values
<em class="xref std std-term">client_associate</em> (New Registrations),
<em class="xref std std-term">client_update</em> (Updating parameters for an existing client_id).</dd>
<dt id="term-client-id">client_id</dt>
<dd>OPTIONAL.
The registered parameters for this client_id are updated. Used with <em class="xref std std-term">client_update</em>.</dd>
<dt id="term-client-secret">client_secret</dt>
<dd>OPTIONAL.
The client_secret used to authenticate requests that have client_update as the value of the type parameter.</dd>
<dt id="term-access-token">access_token</dt>
<dd>OPTIONAL.
An Access Token obtained out of band to authorize the registrant.
This parameter is only used if the Client is provided the Access Token out of band.
This parameter MUST NOT be sent if the Access Token is sent
in the HTTP Authorization header as described in Section 7.1 of OAuth 2.0 [<a class="reference internal" href="standard.html#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].
Access Tokens sent in the authorization header must be Bearer Tokens [<a class="reference internal" href="standard.html#term-oauth-bearer"><em class="xref std std-term">OAuth.Bearer</em></a>].</dd>
<dt id="term-contacts">contacts</dt>
<dd>OPTIONAL.
Space delimited list of email addresses for people allowed to administer the information for this Client.
This is used by some providers to enable a web UI to modify the Client information.</dd>
<dt id="term-application-type">application_type</dt>
<dd>OPTIONAL.
native or web.</dd>
<dt id="term-application-name">application_name</dt>
<dd>OPTIONAL.
Name of the Client to be presented to the user.</dd>
<dt id="term-logo-url">logo_url</dt>
<dd>OPTIONAL.
The URL of a logo image for the Client where it can be retrieved.</dd>
<dt id="term-redirect-uris">redirect_uris</dt>
<dd>RECOMMENDED for Clients using the <em class="xref std std-term">code flow</em> with a query parameter encoded response.
REQUIRED for Clients requesting <a class="reference internal" href="glossary.html#term-implicit-flow"><em class="xref std std-term">implicit flow</em></a> fragment encoded responses as defined in OAuth 2.0 [<a class="reference internal" href="standard.html#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].
A space-delimited list of redirect URIs.
One of the URL MUST match the Scheme, Host, and Path segments of the redirect_uri in the authorization request. <a class="footnote-reference" href="#id3" id="id1">[1]</a></dd>
<dt id="term-token-endpoint-auth-type">token_endpoint_auth_type</dt>
<dd>OPTIONAL.
The requested authentication type for the Token Endpoint.
The options are <a class="reference internal" href="messages.html#term-client-secret-post"><em class="xref std std-term">client_secret_post</em></a>, <a class="reference internal" href="messages.html#term-client-secret-basic"><em class="xref std std-term">client_secret_basic</em></a>, <a class="reference internal" href="messages.html#term-client-secret-jwt"><em class="xref std std-term">client_secret_jwt</em></a>, and <a class="reference internal" href="messages.html#term-private-key-jwt"><em class="xref std std-term">private_key_jwt</em></a>,
as described in Section 2.2.1 of OpenID Connect Messages 1.0 [<a class="reference internal" href="standard.html#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].
Other Authentication methods may be defined by extension.  <a class="footnote-reference" href="#id4" id="id2">[2]</a>
If unspecified or omitted,
the default is <a class="reference internal" href="messages.html#term-client-secret-basic"><em class="xref std std-term">client_secret_basic</em></a> HTTP Basic Authentication Scheme as specified in section 2.3.1 of OAuth 2.0 [<a class="reference internal" href="standard.html#term-oauth2-0"><em class="xref std std-term">OAuth2.0</em></a>].</dd>
<dt id="term-policy-url">policy_url</dt>
<dd>OPTIONAL.
A URL location that the Relying Party Client provides to the End-User to read about the how the profile data will be used.
The OpenID Provider SHOULD display this URL to the End-User if it is given.</dd>
<dt id="term-jwk-url">jwk_url</dt>
<dd><p class="first">OPTIONAL.
URL for the Client&#8217;s JSON Web Key [<a class="reference internal" href="#term-jwk"><em class="xref std std-term">JWK</em></a>] document
that is used for JWS [<a class="reference internal" href="standard.html#term-jws"><em class="xref std std-term">JWS</em></a>] signing of Token Endpoint Requests
and OpenID Request Objects.</p>
<p>If <a class="reference internal" href="#term-jwk-encryption-url"><em class="xref std std-term">jwk_encryption_url</em></a> is not provided it is also used for JWE [<em class="xref std std-term">JWE]</em> encryption
of <a class="reference internal" href="session.html#term-id-token"><em class="xref std std-term">ID Token</em></a> and <em class="xref std std-term">User Info</em> Endpoint Responses to the Client.</p>
<p class="last">If the Client registers both <a class="reference internal" href="#term-x509-url"><em class="xref std std-term">x509_url</em></a> and <a class="reference internal" href="#term-jwk-url"><em class="xref std std-term">jwk_url</em></a>,
the keys contained in both formats SHOULD be the same.</p>
</dd>
<dt id="term-jwk-encryption-url">jwk_encryption_url</dt>
<dd><p class="first">OPTIONAL.
URL for the Client&#8217;s JSON Web Key [<a class="reference internal" href="#term-jwk"><em class="xref std std-term">JWK</em></a>] that is used for JWE [<a class="reference internal" href="standard.html#term-jwe"><em class="xref std std-term">JWE</em></a>] encryption
of ID Token and User Info Endpoint Responses to the Client.</p>
<p class="last">If the Client registers both <a class="reference internal" href="#term-jwk-encryption-url"><em class="xref std std-term">jwk_encryption_url</em></a> and <a class="reference internal" href="#term-x509-encryption-url"><em class="xref std std-term">x509_encryption_url</em></a>,
the keys contained in both formats SHOULD be the same.</p>
</dd>
<dt id="term-x509-url">x509_url</dt>
<dd><p class="first">OPTIONAL.
URL for the Client&#8217;s PEM encoded X.509 Certificate or Certificate chain
that is used for JWS [<a class="reference internal" href="standard.html#term-jwe"><em class="xref std std-term">JWE</em></a>] signing of Token Endpoint Requests and OpenID Request Objects.</p>
<p>If <a class="reference internal" href="#term-x509-encryption-url"><em class="xref std std-term">x509_encryption_url</em></a> is not provided,
x509_url it is also used for JWE [<a class="reference internal" href="standard.html#term-jwe"><em class="xref std std-term">JWE</em></a>] encryption
of ID Token and User Info Endpoint Responses to the Client.</p>
<p class="last">If the Client registers both <a class="reference internal" href="#term-x509-url"><em class="xref std std-term">x509_url</em></a> and <a class="reference internal" href="#term-jwk-url"><em class="xref std std-term">jwk_url</em></a>,
the keys contained in both formats SHOULD be the same.</p>
</dd>
<dt id="term-x509-encryption-url">x509_encryption_url</dt>
<dd><p class="first">OPTIONAL.
URL for the Client&#8217;s PEM encoded X.509 Certificate or Certificate chain
that is used for JWE [JWE] encryption of ID Token and User Info Endpoint Responses to the Client.</p>
<p class="last">If the Client registers both <a class="reference internal" href="#term-jwk-encryption-url"><em class="xref std std-term">jwk_encryption_url</em></a> and <a class="reference internal" href="#term-x509-encryption-url"><em class="xref std std-term">x509_encryption_url</em></a>,
the keys contained in both formats SHOULD be the same.</p>
</dd>
<dt id="term-sector-identifier-url">sector_identifier_url</dt>
<dd><p class="first">OPTIONAL.
A HTTPS scheme URL to be used in calculating Pseudonymous Identifiers by the OP.</p>
<p>The URL contains a file with a single JSON array of <a class="reference internal" href="standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> values.</p>
<p class="last">Please see <a class="reference internal" href="#reg-2-1-1"><em>Section 2.1.1</em></a>.</p>
</dd>
<dt id="term-user-id-type">user_id_type</dt>
<dd><p class="first">OPTIONAL.
The user_id_type requested for responses to this client_id.
The user_id_types_supported element of discovery contains
a list of the supported user_id_type values for this server.</p>
<p class="last">Valid types include pairwise and public.</p>
</dd>
<dt id="term-require-signed-request-object">require_signed_request_object</dt>
<dd>OPTIONAL.
The JWS [JWS] signature algorithm that MUST be required by the Authorization Server.
All OpenID Request Objects from this client_id MUST be rejected if not signed by this algorithm.</dd>
<dt id="term-userinfo-signed-response-algs">userinfo_signed_response_algs</dt>
<dd>OPTIONAL.
The JWS [JWS] encryption algorithm required for UserInfo responses.
If this is specified the response will be JWT [JWT] serialized.</dd>
<dt id="term-userinfo-encrypted-response-algs">userinfo_encrypted_response_algs</dt>
<dd>OPTIONAL.
A space delimited list of the JWE [JWE] alg and enc algorithms required for UserInfo responses.
If this is requested in combination with signing the response will be signed then encrypted.
If this is specified the response will be JWT [JWT] serialized.</dd>
<dt id="term-id-token-signed-response-algs">id_token_signed_response_algs</dt>
<dd>OPTIONAL.
The JWS [JWS] signing algorithm required for the ID Token issued to this client_id.
The default if not specified is HS256 using the provided client_secret.</dd>
<dt id="term-id-token-encrypted-response-algs">id_token_encrypted_response_algs</dt>
<dd>OPTIONAL.
A space delimited list of the JWE [JWE] alg and enc algorithms required for the ID Token issued to this client_id.
If this is requested the response will be signed then encrypted. The default if not specified is no encryption.</dd>
</dl>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Of cource Connect defines only 2 flows ( code and implict ).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td>Check &#8221;:doc:oauth_jwt_bearer` later....</td></tr>
</tbody>
</table>
<p>Following is a non-normative example request:</p>
<div class="highlight-python"><pre>POST /connect/register HTTP/1.1
Accept: application/x-www-form-urlencoded
Host: server.example.com

type=client_associate
&amp;redirect_uris=https://client.example.com/callback%20https://client.example.com/callback2
&amp;logo_url=https://client.example.com/logo.png
&amp;user_id_type=pairwise
&amp;sector_identifier_url=https://othercompany.com/file_of_redirect_uris_for_our_sites.js
&amp;token_endpoint_auth_type=client_secret_basic
&amp;jwk_url=https://client.example.com/my_rsa_public_key.jwk
&amp;userinfo_encrypted_response_algs=RSA1_5%20A128CBC</pre>
</div>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#anchor3">http://openid.net/specs/openid-connect-registration-1_0.html#anchor3</a> )</p>
<div class="section" id="sector-identifier-url-verification">
<span id="reg-2-1-1"></span><h4><a class="toc-backref" href="#id12">2.1.1.  sector_identifier_url Verification</a><a class="headerlink" href="#sector-identifier-url-verification" title="Permalink to this headline">¶</a></h4>
<p>Providers who use pairwise user_id values SHOULD support this element.</p>
<p>It provides a way for a group of websites
under a single administrative control to have consistent pairwise user_id values
independent of the individual domain names.
It also provides a way for Clients to change <a class="reference internal" href="standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> domains
without having to reregister all of their users.</p>
<p>This is further described in <a class="reference internal" href="messages.html#messages-2-1-1-1-1"><em>Section 2.1.1.1.1 of OpenID Connect Messages 1.0</em></a>
[<a class="reference internal" href="standard.html#term-openid-messages"><em class="xref std std-term">OpenID.Messages</em></a>].</p>
<p>The value of the <a class="reference internal" href="#term-sector-identifier-url"><em class="xref std std-term">sector_identifier_url</em></a> must be a HTTPS scheme URL
that identifies a JSON file containing an array containing <a class="reference internal" href="standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uri</em></a> values.
The Registration Server MUST perform a TLS/SSL server certificate check, per RFC 6125 [<a class="reference internal" href="standard.html#term-rfc6125"><em class="xref std std-term">RFC6125</em></a>].</p>
<p>The values of the registered <a class="reference internal" href="standard.html#term-redirect-uri"><em class="xref std std-term">redirect_uris</em></a> must be included
in the elements of the array, or registration MUST fail.</p>
<div class="highlight-python"><pre>GET /connect/sector_identifier.js HTTP/1.1
Accept: application/json
Host: client.example.com

HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store
Pragma: no-cache

[ "https://client.example.com/callback",
  "https://client.example.com/callback2",
  "https://client.other_company.com/callback" ]</pre>
</div>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#sector.identifier.url.verification">http://openid.net/specs/openid-connect-registration-1_0.html#sector.identifier.url.verification</a> )</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference external" href="https://bitbucket.org/openid/connect/issue/509/registration-21-sector_identifier_url">https://bitbucket.org/openid/connect/issue/509/registration-21-sector_identifier_url</a>
Rationale of this is described in <a class="reference internal" href="messages.html#messages-2-1-1-1-1"><em>2.1.1.1.1.  Pairwise Identifier Algorithm</em></a> .</p>
</div>
</div>
</div>
<div class="section" id="client-registration-response">
<span id="reg-2-2"></span><h3><a class="toc-backref" href="#id13">2.2.  Client Registration Response</a><a class="headerlink" href="#client-registration-response" title="Permalink to this headline">¶</a></h3>
<p>The response is returned as a JSON object with all the parameters as top level elements.</p>
<dl class="glossary docutils">
<dt id="term-22">client_id</dt>
<dd>REQUIRED. The unique Client identifier.</dd>
<dt id="term-23">client_secret</dt>
<dd>REQUIRED. The Client secret. This should change with each response.</dd>
<dt id="term-expires-at">expires_at</dt>
<dd>REQUIRED.
The number of seconds from 1970-01-01T0:0:0Z as measured in UTC
that the client_id and client_secret will expire or 0 if they do not expire.
See RFC 3339 [RFC3339] for details regarding date/times in general and UTC in particular.</dd>
</dl>
<p>Following is a non-normative example response:</p>
<div class="highlight-python"><pre>HTTP/1.1 200 OK
Content-Type: application/json
Cache-Control: no-store

{
 "client_id":"s6BhdRkqt3",
 "client_secret":"cf136dc3c1fd9153029bb9c6cc9ecead918bad9887fce6c93f31185e5885805d",
 "expires_at":2893276800
}</pre>
</div>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#anchor4">http://openid.net/specs/openid-connect-registration-1_0.html#anchor4</a> )</p>
</div>
<div class="section" id="client-registration-error-response">
<span id="reg-2-3"></span><h3><a class="toc-backref" href="#id14">2.3.  Client Registration Error Response</a><a class="headerlink" href="#client-registration-error-response" title="Permalink to this headline">¶</a></h3>
<p>In addition to the error codes defined in Section 3.1 of OAuth 2.0 Bearer Tokens [OAuth.Bearer], this specification defines the following error codes:</p>
<dl class="glossary docutils">
<dt id="term-invalid-type">invalid_type</dt>
<dd>The value of type is invalid or not supported.</dd>
<dt id="term-invalid-client-id">invalid_client_id</dt>
<dd>The value of client_id is invalid.</dd>
<dt id="term-invalid-client-secret">invalid_client_secret</dt>
<dd>The client_secret provided for a client_update is not valid for the provided client_id.</dd>
<dt id="term-invalid-configuration-parameter">invalid_configuration_parameter</dt>
<dd>The value of one of the configuration parameters is invalid.</dd>
</dl>
<p>Following is a non-normative example of an error response:</p>
<div class="highlight-python"><pre>HTTP/1.1 400 Bad Request
WWW-Authenticate: 400 Bad Request
  error="invalid_client_secret"
  error_description="The client_secret is wrong for this client_id"</pre>
</div>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#anchor5">http://openid.net/specs/openid-connect-registration-1_0.html#anchor5</a> )</p>
</div>
</div>
<div class="section" id="string-operations">
<span id="reg-3"></span><h2><a class="toc-backref" href="#id15">3.  String Operations</a><a class="headerlink" href="#string-operations" title="Permalink to this headline">¶</a></h2>
<p>Processing some OpenID Connect messages requires comparing values in the messages to known values. For example, the member names in the Client registration response might be compared to specific member names such as client_id. Comparing Unicode strings, however, has significant security implications.</p>
<p>Therefore, comparisons between JSON strings and other Unicode strings MUST be performed as specified below:</p>
<p>Remove any JSON applied escaping to produce an array of Unicode code points.
Unicode Normalization [USA15] MUST NOT be applied at any point to either the JSON string or to the string it is to be compared against.
Comparisons between the two strings MUST be performed as a Unicode code point to code point equality comparison.
In several places, this specification uses space delimited lists of strings. In all such cases, only the ASCII space character (0x20) MAY be used for this purpose.</p>
<p>(draft 09, <a class="reference external" href="http://openid.net/specs/openid-connect-registration-1_0.html#stringops">http://openid.net/specs/openid-connect-registration-1_0.html#stringops</a> )</p>
</div>
<div class="section" id="iana-considerations">
<span id="reg-4"></span><h2><a class="toc-backref" href="#id16">4.  IANA Considerations</a><a class="headerlink" href="#iana-considerations" title="Permalink to this headline">¶</a></h2>
<p>This document makes no requests of IANA.</p>
<p>(draft 09)</p>
</div>
<div class="section" id="security-considerations">
<span id="reg-5"></span><h2><a class="toc-backref" href="#id17">5.  Security Considerations</a><a class="headerlink" href="#security-considerations" title="Permalink to this headline">¶</a></h2>
<p>Since requests to the Client Registration Endpoint result in the transmission of clear-text credentials (in the HTTP request and response), the server MUST require the use of a transport-layer security mechanism when sending requests to the Registration Endpoint. The server MUST support TLS 1.2 RFC 5246 [RFC5246] and/or TLS 1.0 [RFC2246] and MAY support additional transport-layer mechanisms meeting its security requirements. When using TLS, the Client MUST perform a TLS/SSL server certificate check, per RFC 6125 [RFC6125].</p>
<p>Requests to the Registration Endpoint for client_update MUST have some rate limiting on failures to prevent the Client secret from being disclosed though repeated access attempts.</p>
<p>In a situation where the Authorization Server is supporting open Client registration, it must be extremely careful with any URL provided by the Client that will be displayed to the user (e.g. logo_url and policy_url). A rogue Client could specify a registration request with a reference to a drive-by download in the policy_url. The Authorization Server should check to see if the logo_url and policy_url have the same host as the hosts defined in the array of redirect_uris.</p>
<p>(draft 09,)</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Check later....</p>
</div>
</div>
<div class="section" id="normative-references">
<span id="reg-6"></span><h2><a class="toc-backref" href="#id18">6. Normative References</a><a class="headerlink" href="#normative-references" title="Permalink to this headline">¶</a></h2>
<dl class="glossary docutils">
<dt id="term-jwe">JWE</dt>
<dd>Jones, M., Rescorla, E., and J. Hildebrand, “JSON Web Encryption (JWE),” December 2011.</dd>
<dt id="term-jwk">JWK</dt>
<dd>Jones, M., “JSON Web Key (JWK),” December 2011.</dd>
<dt id="term-jws">JWS</dt>
<dd>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, “JSON Web Signature,” December 2011.</dd>
<dt id="term-jwt">JWT</dt>
<dd>Jones, M., Balfanz, D., Bradley, J., Goland, Y., Panzer, J., Sakimura, N., and P. Tarjan, “JSON Web Token,” December 2011.</dd>
<dt id="term-oauth-bearer">OAuth.Bearer</dt>
<dd>Jones, M., Hardt, D., and D. Recordon, “OAuth 2.0 Protocol: Bearer Tokens,” December 2011.</dd>
<dt id="term-oauth2-0">OAuth2.0</dt>
<dd>Hammer-Lahav, E., Ed., Recordon, D., and D. Hardt, “OAuth 2.0 Authorization Protocol,” September 2011.</dd>
<dt id="term-openid-messages">OpenID.Messages</dt>
<dd>Sakimura, N., Recordon, D., Bradley, J., de Medeiros, B., Jones, M., and E. Jay, “OpenID Connect Messages 1.0,” December 2011.
(<a class="reference internal" href="messages.html"><em>OpenID Connect Messages 1.0</em></a> )</dd>
<dt id="term-rfc2119">RFC2119</dt>
<dd>Bradner, S., “Key words for use in RFCs to Indicate Requirement Levels,” BCP 14, RFC 2119, March 1997 (TXT, HTML, XML).</dd>
<dt id="term-rfc2246">RFC2246</dt>
<dd>Dierks, T. and C. Allen, “The TLS Protocol Version 1.0,” RFC 2246, January 1999 (TXT).</dd>
<dt id="term-rfc3339">RFC3339</dt>
<dd>Klyne, G., Ed. and C. Newman, “Date and Time on the Internet: Timestamps,” RFC 3339, July 2002 (TXT, HTML, XML).</dd>
<dt id="term-rfc5246">RFC5246</dt>
<dd>Dierks, T. and E. Rescorla, “The Transport Layer Security (TLS) Protocol Version 1.2,” RFC 5246, August 2008 (TXT).</dd>
<dt id="term-rfc6125">RFC6125</dt>
<dd>Saint-Andre, P. and J. Hodges, “Representation and Verification of Domain-Based Application Service Identity within Internet Public Key Infrastructure Using X.509 (PKIX) Certificates in the Context of Transport Layer Security (TLS),” RFC 6125, March 2011 (TXT).</dd>
<dt id="term-usa15">USA15</dt>
<dd>Davis, M., Whistler, K., and M. Dürst, “Unicode Normalization Forms,” Unicode Standard Annex 15, 09 2009.1</dd>
</dl>
<p>(draft 09)</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="messages.html">OpenID Connect Messages 1.0</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="discovery.html">OpenID Connect Discovery 1.0</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>