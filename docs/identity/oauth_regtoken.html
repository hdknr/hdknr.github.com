

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OAuth 2.0 Registered JWT Profile 1.0 &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/print.css" type="text/css" />
    <link rel="stylesheet" href="static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>OAuth 2.0 Registered JWT Profile 1.0</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="oauth-2-0-registered-jwt-profile-1-0">
<h1><a class="toc-backref" href="#id1">OAuth 2.0 Registered JWT Profile 1.0</a><a class="headerlink" href="#oauth-2-0-registered-jwt-profile-1-0" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#oauth-2-0-registered-jwt-profile-1-0" id="id1">OAuth 2.0 Registered JWT Profile 1.0</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">1  Introduction</a><ul>
<li><a class="reference internal" href="#terminology" id="id3">1.2 Terminology</a></li>
</ul>
</li>
<li><a class="reference internal" href="#registered-jwt" id="id4">2.  Registered JWT</a></li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li>Based on Nat Sakimura&#8217;s private writing</li>
</ul>
<div class="section" id="introduction">
<span id="oauth-regtoken-1"></span><h2><a class="toc-backref" href="#id2">1  Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="oauth_bearer.html"><em>OAuth 2.0 Bearer Token Usage</em></a> follows
the &#8220;Bearer Instrument&#8221; pattern that
the token is not registered to any party,
thus the token can be used by <strong>any party</strong> that act as a bearer.</p>
<p>The flexibility provided by this pattern is very flexible.
However,
when it has its weakness in the cases of <strong>token loss</strong>.</p>
<p>This draft addresses the issue with another very popular pattern
in the area of financial instruments called &#8220;registered instruments&#8221;.
In this case,
the token is registered to a user,
thus it will not be usable by any other party than the registered user
whose identity can be verified through evidence of identity.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Proofed Token ?</li>
<li><a class="reference internal" href="oauth_threat.html#oauth-threat-3-1"><em>3.1.  Tokens</em></a> では Bearer Token とProof Token の２つに分類されていますよ</li>
</ul>
</div>
<p>To achieve the same effect as the &#8220;registered instruments&#8221;,
this draft uses JWT as the token type
and defines two additional claims to make it possible
to obtain the identifier of the rightful registered owner of the token.</p>
<p>In addition,
this draft defines a method to verify that the exerciser
of the token is the registered owner of the token.</p>
<div class="section" id="terminology">
<span id="oauth-regtoken-1-2"></span><h3><a class="toc-backref" href="#id3">1.2 Terminology</a><a class="headerlink" href="#terminology" title="Permalink to this headline">¶</a></h3>
<dl class="glossary docutils">
<dt id="term-entity">entity</dt>
<dd>something that has separate and distinct existence and that can be
identified in a context [X.1252]</dd>
<dt id="term-registered-jwt">Registered JWT</dt>
<dd>JWT that is registered to an entity</dd>
</dl>
<p>Note: There are two main ways to achieve this. One is to have the
identifier of the owner in the token itself, while the other is to
provide an interface that returns the identifier of the owner when
asked.</p>
</div>
</div>
<div class="section" id="registered-jwt">
<span id="oauth-regtoken-2"></span><h2><a class="toc-backref" href="#id4">2.  Registered JWT</a><a class="headerlink" href="#registered-jwt" title="Permalink to this headline">¶</a></h2>
<p>The Registered JWT is a JWT that is registered to an entity.
To achieve it,
this document defines the two new claims for JWT.</p>
<dl class="glossary docutils">
<dt id="term-rto">rto</dt>
<dd><p class="first">String.</p>
<p>Required if rcu is not available.</p>
<p class="last">The identifier of the <a class="reference internal" href="#term-entity"><em class="xref std std-term">entity</em></a> that this JWT is registered to.
This is primarily used in the case that the registered owner of the JWT will not change.</p>
</dd>
<dt id="term-rcu">rcu</dt>
<dd><p class="first">String.</p>
<p>Required if rto is not available.</p>
<p>A URL to which the jwi claim is sent
to obtain the identifier of the registered owner of the JWT.</p>
<p class="last">This is used in the case
where the registered owner of the JWT will change over time.</p>
</dd>
</dl>
<p>In addition, the Registered JWT MUST have the following claims.</p>
<dl class="glossary docutils">
<dt id="term-typ">typ</dt>
<dd>The value of the typ standard JWT claim MUST be &#8220;rjwt&#8221;.</dd>
</dl>
<p>Following is a non‐normative example of the JWT payload with the
above claims.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;typ&quot;</span><span class="o">:</span><span class="s2">&quot;rjwt&quot;</span><span class="p">,</span>
  <span class="s2">&quot;rto&quot;</span><span class="o">:</span><span class="s2">&quot;https://example.com/&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>