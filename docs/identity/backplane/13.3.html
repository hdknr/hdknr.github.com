

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13.3. Get Single Message &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <link rel="stylesheet" href="../static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>13.3. Get Single Message</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="get-single-message">
<h1>13.3.  Get Single Message<a class="headerlink" href="#get-single-message" title="Permalink to this headline">¶</a></h1>
<p>Retrieve a single message from the server.</p>
<blockquote>
<div><dl class="docutils">
<dt>Endpoint</dt>
<dd>/v2/message/&lt;msg_id&gt;: The full endpoint URL constitutes the messageURL obtained from a Get Messages (Get Messages) response.</dd>
<dt>HTTP mehod</dt>
<dd>GET</dd>
<dt>Security</dt>
<dd>HTTPS</dd>
<dt>Authorization</dt>
<dd>The client MUST present the access token obtained from a Access Token Request (Access Token Request) as described in section 2.1 (Jones, M., Hardt, D., and D. Recordon, “The OAuth 2.0 Protocol: Bearer Tokens,” Jun 2011.) [OAuth2.token.bearer], to prove that it has access to the message. The server MUST retrieve the Access Scopes (Access Scopes) associated with the presented access token, determine its access level (Access Levels) and respond accordingly with either a Backplane Header, a Backplane Message (including payload), or error.</dd>
</dl>
<p>Query parameter</p>
<blockquote>
<div>callback (string, optional): callback function to pad the response with (see Padded Responses (Padded Responses)); MUST only contain alphanumeric characters (a-zA-Z0-9)</div></blockquote>
<p>Returns</p>
<blockquote>
<div><ul>
<li><p class="first">HTTP status code 404 (&#8220;Not Found&#8221;)
if the message is no longer available.</p>
</li>
<li><p class="first">HTTP status code 403 (&#8220;Forbidden&#8221;)
if the client is not authorized to retrieve messages
from the Bus the message belongs to.</p>
</li>
<li><p class="first">On success,
a HTTP status code 200 (&#8220;OK&#8221;) is returned,
with the response body containing a Backplane Message JSON object, with the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>messageURL (string): the URL of the message, see Get Single Message (Get Single Message)</li>
<li>source (string): an arbitrary URL identifying the client which has posted the message.</li>
<li>type (string): message type (arbitrary string).</li>
<li>bus (string): the bus name the message was posted to</li>
<li>channel (string): the channel name the message was posted do.</li>
<li>payload (object, optional): message payload. Only available to privileged access clients.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div></blockquote>
<p>Response example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;messageURL&quot;</span><span class="o">:</span> <span class="s2">&quot;https://bp.example.com/v2/message/097a5cc401001f95b45d37aca32a3bd2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;http://aboutecho.com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;identity/ack&quot;</span>
  <span class="s2">&quot;bus&quot;</span><span class="o">:</span> <span class="s2">&quot;customer.com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;channel&quot;</span><span class="o">:</span> <span class="s2">&quot;67dc880cc265b0dbc755ea959b257118&quot;</span><span class="p">,</span>
  <span class="s2">&quot;payload&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;role&quot;</span><span class="o">:</span> <span class="s2">&quot;administrator&quot;</span>
  <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>
<p>(draft 08)</p>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/3c28de26aac2.
    </div>
  </body>
</html>