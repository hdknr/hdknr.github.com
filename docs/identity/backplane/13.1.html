

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13.1. Access Token Request &mdash; identity 1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <link rel="stylesheet" href="../static/openid.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="identity 1.0 documentation" href="../index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>identity 1.0 documentation</span></a></h1>
        <h2 class="heading"><span>13.1. Access Token Request</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="access-token-request">
<h1>13.1.  Access Token Request<a class="headerlink" href="#access-token-request" title="Permalink to this headline">¶</a></h1>
<p>The OAuth &#8220;Token Endpoint&#8221; as defined in section 2.2
(Habber-Lahav, E., Recordon, D., and D. Hardt, “The OAuth 2.0 Authorization Protocol,” May 2011.)
[OAuth2] is used to obtain an access token
to be used for retrieving messages
from the <a class="reference internal" href="../backplane.html#backplane-13-2"><em>Get Messages (Get Messages)</em></a> endpoint.</p>
<blockquote>
<div><dl class="docutils">
<dt>Endpoint</dt>
<dd>/v2/token</dd>
<dt>HTTP mehod</dt>
<dd>POST</dd>
<dt>Security</dt>
<dd>HTTPS</dd>
<dt>Parameters</dt>
<dd><p class="first">The parameters constitute an access token request as defined in either section 4.1.3
(Habber-Lahav, E., Recordon, D., and D. Hardt, “The OAuth 2.0 Authorization Protocol,” May 2011.)
[OAuth2] ( &#8220;code&#8221; grant type)
or section 4.4.2
(Habber-Lahav, E., Recordon, D., and D. Hardt, “The OAuth 2.0 Authorization Protocol,” May 2011.)
[OAuth2] (&#8220;client credentials&#8221; grant type).</p>
<p>The parameters MUST be passed in the request body
using the &#8220;application/x-www-form-urlencoded&#8221; format:</p>
<blockquote class="last">
<div><ul class="simple">
<li>client_id (string, REQUIRED)</li>
<li>client_secret (string, OPTIONAL)</li>
<li>grant_type: MUST be &#8220;client_credentials&#8221; or &#8220;code&#8221;</li>
<li>code (string): REQUIRED if and only if grant_type is &#8220;code&#8221;</li>
<li>redirect_uri (string): REQUIRED if and only if grant_type is &#8220;code&#8221;</li>
<li>scope (string, OPTIONAL): a list of space-delimited filter criteria
(Access Scopes) for the messages the client is interested in.</li>
</ul>
</div></blockquote>
</dd>
<dt>Returns</dt>
<dd><p class="first">On success, a JSON object is returned per section 5.1
(Habber-Lahav, E., Recordon, D., and D. Hardt, “The OAuth 2.0 Authorization Protocol,” May 2011.)
[OAuth2] with the following fields:</p>
<blockquote>
<div><ul class="simple">
<li>token_type: MUST be &#8220;Bearer&#8221; [OAuth2.token.bearer]
(Jones, M., Hardt, D., and D. Recordon, “The OAuth 2.0 Protocol: Bearer Tokens,” Jun 2011.)</li>
<li>access_token: the issued bearer access token</li>
<li>expires_in: the server MUST include the &#8220;expires_in&#8221; parameter if the issued token is set to expire.</li>
<li>backplane_channel (optional): the Channel name, if one was generated as a result of an anonymous request</li>
</ul>
</div></blockquote>
<p class="last">The server MUST NOT include the &#8220;refresh_token&#8221; into the response.</p>
</dd>
</dl>
</div></blockquote>
<p>Response example</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
  <span class="s2">&quot;access_token&quot;</span><span class="o">:</span> <span class="s2">&quot;465203f03680f59b7ddd5e1e5d851461&quot;</span><span class="p">,</span>
  <span class="s2">&quot;token_type&quot;</span><span class="o">:</span> <span class="s2">&quot;Bearer&quot;</span><span class="p">,</span>
  <span class="s2">&quot;backplane_channel&quot;</span><span class="o">:</span> <span class="s2">&quot;0a92d76f54f7877a68abe19c5b3ffcf8&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>(draft 08)</p>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2011, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/3c28de26aac2.
    </div>
  </body>
</html>