

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>django.db &mdash; Django Cheat 1 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/theme_extras.js"></script>
    <link rel="top" title="Django Cheat 1 documentation" href="index.html" />
    <link rel="up" title="Django Reference" href="ref.html" />
    <link rel="next" title="django.db.backends" href="django.db.backends.html" />
    <link rel="prev" title="django.core.servers" href="django.core.servers.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Django Cheat 1 documentation</span></a></h1>
        <h2 class="heading"><span>django.db</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="django.core.servers.html">django.core.servers</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="django.db.backends.html">django.db.backends</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="django-db">
<h1><a class="toc-backref" href="#id8">django.db</a><a class="headerlink" href="#django-db" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="id1">
<p class="topic-title first">django.db</p>
<ul class="simple">
<li><a class="reference internal" href="#django-db" id="id8">django.db</a><ul>
<li><a class="reference internal" href="#id2" id="id9">django.db</a></li>
<li><a class="reference internal" href="#sub" id="id10">Sub</a></li>
<li><a class="reference internal" href="#django-db-transaction" id="id11">django.db.transaction</a></li>
<li><a class="reference internal" href="#django-db-utils" id="id12">django.db.utils</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2">
<span id="id3"></span><h2><a class="toc-backref" href="#id9">django.db</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://code.djangoproject.com/browser/django/trunk/django/db/__init__.py">source</a></li>
</ul>
<span class="target" id="module-django.db"></span></div>
<div class="section" id="sub">
<h2><a class="toc-backref" href="#id10">Sub</a><a class="headerlink" href="#sub" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="django.db.backends.html"><em>django.db.backends</em></a></li>
<li><a class="reference internal" href="django.db.models.html"><em>django.db.models</em></a></li>
</ul>
</div>
<div class="section" id="django-db-transaction">
<span id="id4"></span><h2><a class="toc-backref" href="#id11">django.db.transaction</a><a class="headerlink" href="#django-db-transaction" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://code.djangoproject.com/browser/django/trunk/django/db/transaction.py">source</a></li>
</ul>
<span class="target" id="module-django.db.transaction"></span><p>This module implements a transaction manager that can be used to define
transaction handling in a request or view function. It is used by transaction
control middleware and decorators.</p>
<p>The transaction manager can be in managed or in auto state. Auto state means the
system is using a commit-on-save strategy (actually it&#8217;s more like
commit-on-change). As soon as the .save() or .delete() (or related) methods are
called, a commit is made.</p>
<p>Managed transactions don&#8217;t do those commits, but will need some kind of manual
or implicit commits or rollbacks.</p>
<dl class="class">
<dt id="django.db.transaction.Transaction">
<em class="property">class </em><tt class="descclassname">django.db.transaction.</tt><tt class="descname">Transaction</tt><big>(</big><em>entering</em>, <em>exiting</em>, <em>using</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#Transaction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.Transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Acts as either a decorator, or a context manager.  If it&#8217;s a decorator it
takes a function and returns a wrapped function.  If it&#8217;s a contextmanager
it&#8217;s used with the <tt class="docutils literal"><span class="pre">with</span></tt> statement.  In either event entering/exiting
are called before and after, respectively, the function/block is executed.</p>
<p>autocommit, commit_on_success, and commit_manually contain the
implementations of entering and exiting.</p>
</dd></dl>

<dl class="exception">
<dt id="django.db.transaction.TransactionManagementError">
<em class="property">exception </em><tt class="descclassname">django.db.transaction.</tt><tt class="descname">TransactionManagementError</tt><a class="reference internal" href="modules/django/db/transaction.html#TransactionManagementError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.TransactionManagementError" title="Permalink to this definition">¶</a></dt>
<dd><p>This exception is thrown when something bad happens with transaction
management.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.autocommit">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">autocommit</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#autocommit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.autocommit" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that activates commit on save. This is Django&#8217;s default behavior;
this decorator is useful if you globally activated transaction management in
your settings file and want the default behavior in some view functions.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.commit">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">commit</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the commit itself and resets the dirty flag.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.commit_manually">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">commit_manually</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#commit_manually"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.commit_manually" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator that activates manual transaction control. It just disables
automatic transaction control and doesn&#8217;t do any commit/rollback of its
own &#8211; it&#8217;s up to the user to call the commit and rollback functions
themselves.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.commit_on_success">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">commit_on_success</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#commit_on_success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.commit_on_success" title="Permalink to this definition">¶</a></dt>
<dd><p>This decorator activates commit on response. This way, if the view function
runs successfully, a commit is made; if the viewfunc produces an exception,
a rollback is made. This is one of the most common ways to do transaction
control in Web apps.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.commit_unless_managed">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">commit_unless_managed</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#commit_unless_managed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.commit_unless_managed" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits changes if the system is not in managed transaction mode.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.enter_transaction_management">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">enter_transaction_management</tt><big>(</big><em>managed=True</em>, <em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#enter_transaction_management"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.enter_transaction_management" title="Permalink to this definition">¶</a></dt>
<dd><p>Enters transaction management for a running thread. It must be balanced with
the appropriate leave_transaction_management call, since the actual state is
managed as a stack.</p>
<p>The state and dirty flag are carried over from the surrounding block or
from the settings, if there is no surrounding block (dirty is always false
when no current block is running).</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.is_dirty">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">is_dirty</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#is_dirty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.is_dirty" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the current transaction requires a commit for changes to
happen.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.is_managed">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">is_managed</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#is_managed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.is_managed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the transaction manager is in manual or in auto state.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.leave_transaction_management">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">leave_transaction_management</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#leave_transaction_management"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.leave_transaction_management" title="Permalink to this definition">¶</a></dt>
<dd><p>Leaves transaction management for a running thread. A dirty flag is carried
over to the surrounding block, as a commit will commit all changes, even
those from outside. (Commits are on connection level.)</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.managed">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">managed</tt><big>(</big><em>flag=True</em>, <em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#managed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.managed" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts the transaction manager into a manual state: managed transactions have
to be committed explicitly by the user. If you switch off transaction
management and there is a pending commit/rollback, the data will be
commited.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.rollback">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">rollback</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#rollback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>This function does the rollback itself and resets the dirty flag.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.rollback_unless_managed">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">rollback_unless_managed</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#rollback_unless_managed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.rollback_unless_managed" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls back changes if the system is not in managed transaction mode.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.savepoint">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">savepoint</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#savepoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.savepoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a savepoint (if supported and required by the backend) inside the
current transaction. Returns an identifier for the savepoint that will be
used for the subsequent rollback or commit.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.savepoint_commit">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">savepoint_commit</tt><big>(</big><em>sid</em>, <em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#savepoint_commit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.savepoint_commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commits the most recent savepoint (if one exists). Does nothing if
savepoints are not supported.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.savepoint_rollback">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">savepoint_rollback</tt><big>(</big><em>sid</em>, <em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#savepoint_rollback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.savepoint_rollback" title="Permalink to this definition">¶</a></dt>
<dd><p>Rolls back the most recent savepoint (if one exists). Does nothing if
savepoints are not supported.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.set_clean">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">set_clean</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#set_clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.set_clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets a dirty flag for the current thread and code streak. This can be used
to decide in a managed block of code to decide whether a commit or rollback
should happen.</p>
</dd></dl>

<dl class="function">
<dt id="django.db.transaction.set_dirty">
<tt class="descclassname">django.db.transaction.</tt><tt class="descname">set_dirty</tt><big>(</big><em>using=None</em><big>)</big><a class="reference internal" href="modules/django/db/transaction.html#set_dirty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.db.transaction.set_dirty" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a dirty flag for the current thread and code streak. This can be used
to decide in a managed block of code to decide whether there are open
changes waiting for commit.</p>
</dd></dl>

</div>
<div class="section" id="django-db-utils">
<span id="id6"></span><h2><a class="toc-backref" href="#id12">django.db.utils</a><a class="headerlink" href="#django-db-utils" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://code.djangoproject.com/browser/django/trunk/django/db/utils.py">source</a></li>
</ul>
<p>aaaaa
fdsaf
dsa
fd
saf
dsa</p>
<p>by hdknr.com</p>
<span class="target" id="module-django.db.utils"></span></div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="django.core.servers.html">django.core.servers</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="django.db.backends.html">django.db.backends</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/660be19d7963.
    </div>
  </body>
</html>