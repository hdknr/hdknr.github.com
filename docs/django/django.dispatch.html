

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>django.dispatch &mdash; Django Cheat 1 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/theme_extras.js"></script>
    <link rel="top" title="Django Cheat 1 documentation" href="index.html" />
    <link rel="up" title="Django Reference" href="ref.html" />
    <link rel="next" title="django.forms" href="django.forms.html" />
    <link rel="prev" title="django.db.models.sql" href="django.db.models.sql.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Django Cheat 1 documentation</span></a></h1>
        <h2 class="heading"><span>django.dispatch</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="django.db.models.sql.html">django.db.models.sql</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="django.forms.html">django.forms</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="django-dispatch">
<h1><a class="toc-backref" href="#id8">django.dispatch</a><a class="headerlink" href="#django-dispatch" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="id1">
<p class="topic-title first">django.dispatch</p>
<ul class="simple">
<li><a class="reference internal" href="#django-dispatch" id="id8">django.dispatch</a><ul>
<li><a class="reference internal" href="#id2" id="id9">django.dispatch</a></li>
<li><a class="reference internal" href="#django-dispatch-dispatcher" id="id10">django.dispatch.dispatcher</a></li>
<li><a class="reference internal" href="#django-dispatch-saferef" id="id11">django.dispatch.saferef</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2">
<span id="id3"></span><h2><a class="toc-backref" href="#id9">django.dispatch</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/django/django/tree/master/django/dispatch/__init__.py">source</a></li>
</ul>
<span class="target" id="module-django.dispatch"></span><p>Multi-consumer multi-producer dispatching mechanism</p>
<p>Originally based on pydispatch (BSD) <a class="reference external" href="http://pypi.python.org/pypi/PyDispatcher/2.0.1">http://pypi.python.org/pypi/PyDispatcher/2.0.1</a>
See license.txt for original license.</p>
<p>Heavily modified for Django&#8217;s purposes.</p>
</div>
<div class="section" id="django-dispatch-dispatcher">
<span id="id4"></span><h2><a class="toc-backref" href="#id10">django.dispatch.dispatcher</a><a class="headerlink" href="#django-dispatch-dispatcher" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/django/django/tree/master/django/dispatch/dispatcher.py">source</a></li>
</ul>
<span class="target" id="module-django.dispatch.dispatcher"></span><dl class="class">
<dt id="django.dispatch.dispatcher.Signal">
<em class="property">class </em><tt class="descclassname">django.dispatch.dispatcher.</tt><tt class="descname">Signal</tt><big>(</big><em>providing_args=None</em><big>)</big><a class="reference internal" href="modules/django/dispatch/dispatcher.html#Signal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.dispatcher.Signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all signals</p>
<p>Internal attributes:</p>
<blockquote>
<div><dl class="docutils">
<dt>receivers</dt>
<dd>{ receriverkey (id) : weakref(receiver) }</dd>
</dl>
</div></blockquote>
<dl class="method">
<dt id="django.dispatch.dispatcher.Signal.connect">
<tt class="descname">connect</tt><big>(</big><em>receiver</em>, <em>sender=None</em>, <em>weak=True</em>, <em>dispatch_uid=None</em><big>)</big><a class="reference internal" href="modules/django/dispatch/dispatcher.html#Signal.connect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.dispatcher.Signal.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect receiver to sender for signal.</p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>receiver</dt>
<dd><p class="first">A function or an instance method which is to receive signals.
Receivers must be hashable objects.</p>
<p>If weak is True, then receiver must be weak-referencable (more
precisely saferef.safeRef() must be able to create a reference
to the receiver).</p>
<p>Receivers must be able to accept keyword arguments.</p>
<p class="last">If receivers have a dispatch_uid attribute, the receiver will
not be added if another receiver already exists with that
dispatch_uid.</p>
</dd>
<dt>sender</dt>
<dd>The sender to which the receiver should respond. Must either be
of type Signal, or None to receive events from any sender.</dd>
<dt>weak</dt>
<dd>Whether to use weak references to the receiver. By default, the
module will attempt to use weak references to the receiver
objects. If this parameter is false, then strong references will
be used.</dd>
<dt>dispatch_uid</dt>
<dd>An identifier used to uniquely identify a particular instance of
a receiver. This will usually be a string, though it may be
anything hashable.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="django.dispatch.dispatcher.Signal.disconnect">
<tt class="descname">disconnect</tt><big>(</big><em>receiver=None</em>, <em>sender=None</em>, <em>weak=True</em>, <em>dispatch_uid=None</em><big>)</big><a class="reference internal" href="modules/django/dispatch/dispatcher.html#Signal.disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.dispatcher.Signal.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect receiver from sender for signal.</p>
<p>If weak references are used, disconnect need not be called. The receiver
will be remove from dispatch automatically.</p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>receiver</dt>
<dd>The registered receiver to disconnect. May be none if
dispatch_uid is specified.</dd>
<dt>sender</dt>
<dd>The registered sender to disconnect</dd>
<dt>weak</dt>
<dd>The weakref state to disconnect</dd>
<dt>dispatch_uid</dt>
<dd>the unique identifier of the receiver to disconnect</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="django.dispatch.dispatcher.Signal.send">
<tt class="descname">send</tt><big>(</big><em>sender</em>, <em>**named</em><big>)</big><a class="reference internal" href="modules/django/dispatch/dispatcher.html#Signal.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.dispatcher.Signal.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send signal from sender to all connected receivers.</p>
<p>If any receiver raises an error, the error propagates back through send,
terminating the dispatch loop, so it is quite possible to not have all
receivers called if a raises an error.</p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>sender</dt>
<dd>The sender of the signal Either a specific object or None.</dd>
<dt>named</dt>
<dd>Named arguments which will be passed to receivers.</dd>
</dl>
</div></blockquote>
<p>Returns a list of tuple pairs [(receiver, response), ... ].</p>
</dd></dl>

<dl class="method">
<dt id="django.dispatch.dispatcher.Signal.send_robust">
<tt class="descname">send_robust</tt><big>(</big><em>sender</em>, <em>**named</em><big>)</big><a class="reference internal" href="modules/django/dispatch/dispatcher.html#Signal.send_robust"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.dispatcher.Signal.send_robust" title="Permalink to this definition">¶</a></dt>
<dd><p>Send signal from sender to all connected receivers catching errors.</p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>sender</dt>
<dd>The sender of the signal. Can be any python object (normally one
registered with a connect if you actually want something to
occur).</dd>
<dt>named</dt>
<dd>Named arguments which will be passed to receivers. These
arguments must be a subset of the argument names defined in
providing_args.</dd>
</dl>
</div></blockquote>
<p>Return a list of tuple pairs [(receiver, response), ... ]. May raise
DispatcherKeyError.</p>
<p>If any receiver raises an error (specifically any subclass of
Exception), the error instance is returned as the result for that
receiver.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="django.dispatch.dispatcher.receiver">
<tt class="descclassname">django.dispatch.dispatcher.</tt><tt class="descname">receiver</tt><big>(</big><em>signal</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="modules/django/dispatch/dispatcher.html#receiver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.dispatcher.receiver" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator for connecting receivers to signals. Used by passing in the
signal (or list of signals) and keyword arguments to connect:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@receiver</span><span class="p">(</span><span class="n">post_save</span><span class="p">,</span> <span class="n">sender</span><span class="o">=</span><span class="n">MyModel</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">signal_receiver</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="o">...</span>

<span class="nd">@receiver</span><span class="p">([</span><span class="n">post_save</span><span class="p">,</span> <span class="n">post_delete</span><span class="p">],</span> <span class="n">sender</span><span class="o">=</span><span class="n">MyModel</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">signals_receiver</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="django-dispatch-saferef">
<span id="id6"></span><h2><a class="toc-backref" href="#id11">django.dispatch.saferef</a><a class="headerlink" href="#django-dispatch-saferef" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://github.com/django/django/tree/master/django/dispatch/saferef.py">source</a></li>
</ul>
<span class="target" id="module-django.dispatch.saferef"></span><p>&#8220;Safe weakrefs&#8221;, originally from pyDispatcher.</p>
<p>Provides a way to safely weakref any function, including bound methods (which
aren&#8217;t handled by the core weakref module).</p>
<dl class="class">
<dt id="django.dispatch.saferef.BoundMethodWeakref">
<em class="property">class </em><tt class="descclassname">django.dispatch.saferef.</tt><tt class="descname">BoundMethodWeakref</tt><big>(</big><em>target</em>, <em>onDelete=None</em><big>)</big><a class="reference internal" href="modules/django/dispatch/saferef.html#BoundMethodWeakref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.saferef.BoundMethodWeakref" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;Safe&#8217; and reusable weak references to instance methods</p>
<p>BoundMethodWeakref objects provide a mechanism for
referencing a bound method without requiring that the
method object itself (which is normally a transient
object) is kept alive.  Instead, the BoundMethodWeakref
object keeps weak references to both the object and the
function which together define the instance method.</p>
<dl class="docutils">
<dt>Attributes:</dt>
<dd><dl class="first docutils">
<dt>key &#8211; the identity key for the reference, calculated</dt>
<dd>by the class&#8217;s calculateKey method applied to the
target instance method</dd>
<dt>deletionMethods &#8211; sequence of callable objects taking</dt>
<dd>single argument, a reference to this object which
will be called when <em>either</em> the target object or
target function is garbage collected (i.e. when
this object becomes invalid).  These are specified
as the onDelete parameters of safeRef calls.</dd>
</dl>
<p class="last">weakSelf &#8211; weak reference to the target object
weakFunc &#8211; weak reference to the target function</p>
</dd>
<dt>Class Attributes:</dt>
<dd><dl class="first last docutils">
<dt>_allInstances &#8211; class attribute pointing to all live</dt>
<dd>BoundMethodWeakref objects indexed by the class&#8217;s
calculateKey(target) method applied to the target
objects.  This weak value dictionary is used to
short-circuit creation so that multiple references
to the same (object, function) pair produce the
same BoundMethodWeakref instance.</dd>
</dl>
</dd>
</dl>
<dl class="classmethod">
<dt id="django.dispatch.saferef.BoundMethodWeakref.calculateKey">
<em class="property">classmethod </em><tt class="descname">calculateKey</tt><big>(</big><em>target</em><big>)</big><a class="reference internal" href="modules/django/dispatch/saferef.html#BoundMethodWeakref.calculateKey"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.saferef.BoundMethodWeakref.calculateKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the reference key for this reference</p>
<p>Currently this is a two-tuple of the id()&#8217;s of the
target object and the target function respectively.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="django.dispatch.saferef.BoundNonDescriptorMethodWeakref">
<em class="property">class </em><tt class="descclassname">django.dispatch.saferef.</tt><tt class="descname">BoundNonDescriptorMethodWeakref</tt><big>(</big><em>target</em>, <em>onDelete=None</em><big>)</big><a class="reference internal" href="modules/django/dispatch/saferef.html#BoundNonDescriptorMethodWeakref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.saferef.BoundNonDescriptorMethodWeakref" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized BoundMethodWeakref, for platforms where instance methods
are not descriptors.</p>
<p>It assumes that the function name and the target attribute name are the
same, instead of assuming that the function is a descriptor. This approach
is equally fast, but not 100% reliable because functions can be stored on an
attribute named differenty than the function&#8217;s name such as in:</p>
<p>class A: pass
def foo(self): return &#8220;foo&#8221;
A.bar = foo</p>
<p>But this shouldn&#8217;t be a common use case. So, on platforms where methods
aren&#8217;t descriptors (such as Jython) this implementation has the advantage
of working in the most cases.</p>
</dd></dl>

<dl class="function">
<dt id="django.dispatch.saferef.get_bound_method_weakref">
<tt class="descclassname">django.dispatch.saferef.</tt><tt class="descname">get_bound_method_weakref</tt><big>(</big><em>target</em>, <em>onDelete</em><big>)</big><a class="reference internal" href="modules/django/dispatch/saferef.html#get_bound_method_weakref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.saferef.get_bound_method_weakref" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates the appropiate BoundMethodWeakRef, depending on the details of
the underlying class method implementation</p>
</dd></dl>

<dl class="function">
<dt id="django.dispatch.saferef.safeRef">
<tt class="descclassname">django.dispatch.saferef.</tt><tt class="descname">safeRef</tt><big>(</big><em>target</em>, <em>onDelete=None</em><big>)</big><a class="reference internal" href="modules/django/dispatch/saferef.html#safeRef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#django.dispatch.saferef.safeRef" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <em>safe</em> weak reference to a callable target</p>
<dl class="docutils">
<dt>target &#8211; the object to be weakly referenced, if it&#8217;s a</dt>
<dd>bound method reference, will create a BoundMethodWeakref,
otherwise creates a simple weakref.</dd>
<dt>onDelete &#8211; if provided, will have a hard reference stored</dt>
<dd>to the callable to be called after the safe reference
goes out of scope with the reference object, (either a
weakref or a BoundMethodWeakref) as argument.</dd>
</dl>
</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="django.db.models.sql.html">django.db.models.sql</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="django.forms.html">django.forms</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, HDKNR.COM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.
    </div>
  </body>
</html>