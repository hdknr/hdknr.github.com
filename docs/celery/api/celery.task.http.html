

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>celery.task.http &mdash; Celery 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../static/theme_extras.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Celery 1 documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="celery.schedules" href="celery.schedules.html" />
    <link rel="prev" title="celery.result" href="celery.result.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>Celery 1 documentation</span></a></h1>
        <h2 class="heading"><span>celery.task.http</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="celery.result.html">celery.result</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="celery.schedules.html">celery.schedules</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="celery-task-http">
<h1>celery.task.http<a class="headerlink" href="#celery-task-http" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id2">celery.task.http</a></li>
</ul>
</div>
<span class="target" id="module-celery.task.http"></span><div class="section" id="id1">
<h2><a class="toc-backref" href="#id2">celery.task.http</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Webhook task implementation.</p>
<dl class="class">
<dt id="celery.task.http.HttpDispatch">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">HttpDispatch</tt><big>(</big><em>url</em>, <em>method</em>, <em>task_kwargs</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#HttpDispatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.HttpDispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Make task HTTP request and collect the task result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; The URL to request.</li>
<li><strong>method</strong> &#8211; HTTP method used. Currently supported methods are <cite>GET</cite>
and <cite>POST</cite>.</li>
<li><strong>task_kwargs</strong> &#8211; Task keyword arguments.</li>
<li><strong>logger</strong> &#8211; Logger used for user/system feedback.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="celery.task.http.HttpDispatch.dispatch">
<tt class="descname">dispatch</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#HttpDispatch.dispatch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.HttpDispatch.dispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch callback and return result.</p>
</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatch.http_headers">
<tt class="descname">http_headers</tt><a class="reference internal" href="../_modules/celery/task/http.html#HttpDispatch.http_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.HttpDispatch.http_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="celery.task.http.HttpDispatch.make_request">
<tt class="descname">make_request</tt><big>(</big><em>url</em>, <em>method</em>, <em>params</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#HttpDispatch.make_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.HttpDispatch.make_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes an HTTP request and returns the response.</p>
</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatch.timeout">
<tt class="descname">timeout</tt><em class="property"> = 5</em><a class="headerlink" href="#celery.task.http.HttpDispatch.timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatch.user_agent">
<tt class="descname">user_agent</tt><em class="property"> = 'celery/3.0.5'</em><a class="headerlink" href="#celery.task.http.HttpDispatch.user_agent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.http.HttpDispatchTask">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">HttpDispatchTask</tt><a class="reference internal" href="../_modules/celery/task/http.html#HttpDispatchTask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.HttpDispatchTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Task dispatching to an URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; The URL location of the HTTP callback task.</li>
<li><strong>method</strong> &#8211; Method to use when dispatching the callback. Usually
<cite>GET</cite> or <cite>POST</cite>.</li>
<li><strong>**kwargs</strong> &#8211; Keyword arguments to pass on to the HTTP callback.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.url">
<tt class="descname">url</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask.url" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, this is used as the default URL for requests.
Default is to require the user of the task to supply the url as an
argument, as this attribute is intended for subclasses.</p>
</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.method">
<tt class="descname">method</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask.method" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, this is the default method used for requests.
Default is to require the user of the task to supply the method as an
argument, as this attribute is intended for subclasses.</p>
</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.accept_magic_kwargs">
<tt class="descname">accept_magic_kwargs</tt><em class="property"> = False</em><a class="headerlink" href="#celery.task.http.HttpDispatchTask.accept_magic_kwargs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.delivery_mode">
<tt class="descname">delivery_mode</tt><em class="property"> = 2</em><a class="headerlink" href="#celery.task.http.HttpDispatchTask.delivery_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.exchange_type">
<tt class="descname">exchange_type</tt><em class="property"> = 'direct'</em><a class="headerlink" href="#celery.task.http.HttpDispatchTask.exchange_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">method</tt><em class="property"> = None</em></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.name">
<tt class="descname">name</tt><em class="property"> = 'celery.task.http.HttpDispatchTask'</em><a class="headerlink" href="#celery.task.http.HttpDispatchTask.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.rate_limit">
<tt class="descname">rate_limit</tt><em class="property"> = None</em><a class="headerlink" href="#celery.task.http.HttpDispatchTask.rate_limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.request_stack">
<tt class="descname">request_stack</tt><em class="property"> = &lt;celery.utils.threads.LocalStack object at 0x1076030b8&gt;</em><a class="headerlink" href="#celery.task.http.HttpDispatchTask.request_stack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="celery.task.http.HttpDispatchTask.run">
<tt class="descname">run</tt><big>(</big><em>url=None</em>, <em>method='GET'</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#HttpDispatchTask.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.HttpDispatchTask.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">url</tt><em class="property"> = None</em></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="celery.task.http.InvalidResponseError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">InvalidResponseError</tt><a class="reference internal" href="../_modules/celery/task/http.html#InvalidResponseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.InvalidResponseError" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote server gave an invalid response.</p>
</dd></dl>

<dl class="class">
<dt id="celery.task.http.MutableURL">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">MutableURL</tt><big>(</big><em>url</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#MutableURL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.MutableURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Object wrapping a Uniform Resource Locator.</p>
<p>Supports editing the query parameter list.
You can convert the object back to a string, the query will be
properly urlencoded.</p>
<p>Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="n">URL</span><span class="p">(</span><span class="s">&#39;http://www.google.com:6580/foo/bar?x=3&amp;y=4#foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span>
<span class="go">{&#39;x&#39;: &#39;3&#39;, &#39;y&#39;: &#39;4&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">&#39;http://www.google.com:6580/foo/bar?y=4&amp;x=3#foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&#39;George&#39;</span><span class="p">:</span> <span class="s">&#39;Costanza&#39;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">&#39;http://www.google.com:6580/foo/bar?y=4&amp;x=10&amp;George=Costanza#foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="celery.task.http.RemoteExecuteError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">RemoteExecuteError</tt><a class="reference internal" href="../_modules/celery/task/http.html#RemoteExecuteError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.RemoteExecuteError" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote task gave a custom error.</p>
</dd></dl>

<dl class="class">
<dt id="celery.task.http.URL">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">URL</tt><big>(</big><em>url</em>, <em>dispatcher=None</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#URL"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.URL" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP Callback URL</p>
<p>Supports requesting an URL asynchronously.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; URL to request.</li>
<li><strong>dispatcher</strong> &#8211; Class used to dispatch the request.
By default this is <a class="reference internal" href="#celery.task.http.HttpDispatchTask" title="celery.task.http.HttpDispatchTask"><tt class="xref py py-class docutils literal"><span class="pre">HttpDispatchTask</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.http.URL.dispatcher">
<tt class="descname">dispatcher</tt><a class="headerlink" href="#celery.task.http.URL.dispatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#celery.task.http.HttpDispatchTask" title="celery.task.http.HttpDispatchTask"><tt class="xref py py-class docutils literal"><span class="pre">HttpDispatchTask</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="celery.task.http.URL.get_async">
<tt class="descname">get_async</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#URL.get_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.URL.get_async" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="celery.task.http.URL.post_async">
<tt class="descname">post_async</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#URL.post_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.URL.post_async" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="celery.task.http.UnknownStatusError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">UnknownStatusError</tt><a class="reference internal" href="../_modules/celery/task/http.html#UnknownStatusError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.UnknownStatusError" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote server gave an unknown status.</p>
</dd></dl>

<dl class="function">
<dt id="celery.task.http.extract_response">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">extract_response</tt><big>(</big><em>raw_response</em>, <em>loads=&lt;function loads at 0x10744e6e0&gt;</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#extract_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.extract_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the response text from a raw JSON response.</p>
</dd></dl>

<dl class="function">
<dt id="celery.task.http.maybe_utf8">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">maybe_utf8</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#maybe_utf8"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.maybe_utf8" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode to utf-8, only if the value is Unicode.</p>
</dd></dl>

<dl class="function">
<dt id="celery.task.http.utf8dict">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">utf8dict</tt><big>(</big><em>tup</em><big>)</big><a class="reference internal" href="../_modules/celery/task/http.html#utf8dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.task.http.utf8dict" title="Permalink to this definition">¶</a></dt>
<dd><p>With a dict&#8217;s items() tuple return a new dict with any utf-8
keys/values encoded.</p>
</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="celery.result.html">celery.result</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="celery.schedules.html">celery.schedules</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, HDKNR.COM.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>