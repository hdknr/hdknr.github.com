

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>celery.contrib.rdb &mdash; Celery 1 documentation</title>
    
    <link rel="stylesheet" href="../static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="../static/theme_extras.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Celery 1 documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="celery.contrib.methods" href="celery.contrib.methods.html" />
    <link rel="prev" title="celery.contrib.migrate" href="celery.contrib.migrate.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>Celery 1 documentation</span></a></h1>
        <h2 class="heading"><span>celery.contrib.rdb</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="celery.contrib.migrate.html">celery.contrib.migrate</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="celery.contrib.methods.html">celery.contrib.methods</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <span class="target" id="module-celery.contrib.rdb"></span><div class="section" id="celery-contrib-rdb">
<h1>celery.contrib.rdb<a class="headerlink" href="#celery-contrib-rdb" title="Permalink to this headline">¶</a></h1>
<p>Remote debugger for Celery tasks running in multiprocessing pool workers.
Inspired by <a class="reference external" href="http://snippets.dzone.com/posts/show/7248">http://snippets.dzone.com/posts/show/7248</a></p>
<p><strong>Usage</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">celery.contrib</span> <span class="kn">import</span> <span class="n">rdb</span>
<span class="kn">from</span> <span class="nn">celery</span> <span class="kn">import</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
    <span class="n">rdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p><strong>Environment Variables</strong></p>
<dl class="envvar">
<dt id="envvar-CELERY_RDB_HOST">
<tt class="descname">CELERY_RDB_HOST</tt><a class="headerlink" href="#envvar-CELERY_RDB_HOST" title="Permalink to this definition">¶</a></dt>
<dd><p>Hostname to bind to.  Default is &#8216;127.0.01&#8217;, which means the socket
will only be accessible from the local host.</p>
</dd></dl>

<dl class="envvar">
<dt id="envvar-CELERY_RDB_PORT">
<tt class="descname">CELERY_RDB_PORT</tt><a class="headerlink" href="#envvar-CELERY_RDB_PORT" title="Permalink to this definition">¶</a></dt>
<dd><p>Base port to bind to.  Default is 6899.
The debugger will try to find an available port starting from the
base port.  The selected port will be logged by the worker.</p>
</dd></dl>

<dl class="function">
<dt id="celery.contrib.rdb.set_trace">
<tt class="descclassname">celery.contrib.rdb.</tt><tt class="descname">set_trace</tt><big>(</big><em>frame=None</em><big>)</big><a class="reference internal" href="../modules/celery/contrib/rdb.html#set_trace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.contrib.rdb.set_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>Set breakpoint at current location, or a specified frame</p>
</dd></dl>

<dl class="function">
<dt id="celery.contrib.rdb.debugger">
<tt class="descclassname">celery.contrib.rdb.</tt><tt class="descname">debugger</tt><big>(</big><big>)</big><a class="reference internal" href="../modules/celery/contrib/rdb.html#debugger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.contrib.rdb.debugger" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current debugger instance (if any),
or creates a new one.</p>
</dd></dl>

<dl class="class">
<dt id="celery.contrib.rdb.Rdb">
<em class="property">class </em><tt class="descclassname">celery.contrib.rdb.</tt><tt class="descname">Rdb</tt><big>(</big><em>host='127.0.0.1'</em>, <em>port=6899</em>, <em>port_search_limit=100</em>, <em>port_skew=0</em>, <em>out=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x10e5d31e0&gt;</em><big>)</big><a class="reference internal" href="../modules/celery/contrib/rdb.html#Rdb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#celery.contrib.rdb.Rdb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="celery.contrib.migrate.html">celery.contrib.migrate</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="celery.contrib.methods.html">celery.contrib.methods</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/3c28de26aac2.
    </div>
  </body>
</html>