

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>bash &mdash; Note 1 documentation</title>
    
    <link rel="stylesheet" href="static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/theme_extras.js"></script>
    <link rel="top" title="Note 1 documentation" href="index.html" />
    <link rel="next" title="CSS" href="css.html" />
    <link rel="prev" title="Mercurial" href="hg.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Note 1 documentation</span></a></h1>
        <h2 class="heading"><span>bash</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="hg.html">Mercurial</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="css.html">CSS</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="bash">
<h1>bash<a class="headerlink" href="#bash" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>$(コマンド)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>実行結果を変数にいれることができる。</li>
</ul>
<dl class="docutils">
<dt>::</dt>
<dd>(docs)hdknr&#64;sqg:~$ P=$(ps ax|grep bash|awk &#8216;{print $1}&#8217;)
(docs)hdknr&#64;sqg:~$ echo $P
2173 2175 2185 2194 2205 2218 2235 2688 2690 2701 2712 2723 2735 2749 12770 12772 12781 12792 12803 12817 12832 15829 15881 17109 17199 17201</dd>
</dl>
</div>
<div class="section" id="id2">
<h2>配列変数<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>() にすると配列変数</li>
<li>配列じゃない</li>
</ul>
<dl class="docutils">
<dt>::</dt>
<dd>(docs)hdknr&#64;sqg:~$ P=$(ps ax|grep bash|awk &#8216;{print $1}&#8217;)
(docs)hdknr&#64;sqg:~$ echo ${P[0]}
2173 2175 2185 2194 2205 2218 2235 2688 2690 2701 2712 2723 2735 2749 12770 12772 12781 12792 12803 12817 12832 15829 15881 17109 17218 17224 17226 17227
(docs)hdknr&#64;sqg:~$ echo ${P[1]}</dd>
</dl>
<ul class="simple">
<li>括弧に入れて配列化</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ P=($(ps ax|grep bash|awk '{print $1}') )
(docs)hdknr@sqg:~$ echo ${P[0]}
2173
(docs)hdknr@sqg:~$ echo ${P[1]}
2175</pre>
</div>
<ul class="simple">
<li>配列の全要素( * あるいは &#64; )</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ P=($(ps ax|grep bash|awk '{print $1}'))
(docs)hdknr@sqg:~$ echo ${P[*]}
2173 2175 2185 2194 2205 2218 2235 2688 2690 2701 2712 2723 2735 2749 12770 12772 12781 12792 12803 12817 12832 15829 15881 17109 17232 17235 17237</pre>
</div>
<dl class="docutils">
<dt>::</dt>
<dd>(docs)hdknr&#64;sqg:~$ echo ${P[&#64;]}
2173 2175 2185 2194 2205 2218 2235 2688 2690 2701 2712 2723 2735 2749 12770 12772 12781 12792 12803 12817 12832 15829 15881 17109 17232 17235 17237</dd>
</dl>
<ul class="simple">
<li>要素数 ( # と * or &#64; )</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ echo ${#P[*]} ${#P[@]}
27 27</pre>
</div>
<ul class="simple">
<li>最後の値</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ echo ${P[ ${#P[@]} - 1]}
17237</pre>
</div>
<ul class="simple">
<li>スライス (スライスした物は配列ではありません )</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ echo ${P[@]:4:2}
2205 2218
(docs)hdknr@sqg:~$ Q=${P[@]:4:2}
(docs)hdknr@sqg:~$ echo ${#Q[*]}
1</pre>
</div>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ Q=( ${P[@]:4:2} )
(docs)hdknr@sqg:~$ echo ${#Q[*]}
2</pre>
</div>
<ul class="simple">
<li>置換</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ echo ${X[@]#*/}
bin usr/bin usr/local/bin

(docs)hdknr@sqg:~$ echo ${X[@]##*/}
bin bin bin

(docs)hdknr@sqg:~$ echo ${X[@]%*/}
/bin /usr/bin /usr/local/bin

(docs)hdknr@sqg:~$ echo ${X[@]%[a-z]*}
/bi /usr/bi /usr/local/bi

(docs)hdknr@sqg:~$ echo ${X[@]%%[a-z]*}
/ / /</pre>
</div>
<ul class="simple">
<li>要素を抜く</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ echo ${#P[*]}
26
(docs)hdknr@sqg:~$ unset P[10]
(docs)hdknr@sqg:~$ echo ${#P[*]}
25</pre>
</div>
<ul class="simple">
<li>declare 内部コマンドでみると、P[10]がないことに注意 !!!!</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ declare -p P
declare -a P='([1]="2175" [2]="2185" [3]="2194" [4]="2205" [5]="2218"
[6]="2235" [7]="2688" [8]="2690" [9]="2701" [11]="2723" [12]="2735" [13]="2749"
[14]="12770" [15]="12772" [16]="12781" [17]="12792" [18]="12803" [19]="12817"
[20]="12832" [21]="15829" [22]="15881" [23]="17109" [24]="17232" [25]="17235"
[26]="17237")'</pre>
</div>
<ul class="simple">
<li>ちょっと気持ち悪い</li>
</ul>
<div class="highlight-python"><pre>(docs)hdknr@sqg:~$ X=(a b c )
(docs)hdknr@sqg:~$ unset X[1]
(docs)hdknr@sqg:~$ echo ${#X[*]}
2

(docs)hdknr@sqg:~$ declare -p X
declare -a X='([0]="a" [2]="c")'

(docs)hdknr@sqg:~$ X[1]='HOGE'
(docs)hdknr@sqg:~$ declare -p X
declare -a X='([0]="a" [1]="HOGE" [2]="c")'</pre>
</div>
</div>
<div class="section" id="seq">
<h2>seqコマンド<a class="headerlink" href="#seq" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><pre>(main)hdknr@sqg:~$ for i in $(seq 1 5 ) ; do echo $i; done
1
2
3
4
5</pre>
</div>
</div>
<div class="section" id="for">
<h2>for<a class="headerlink" href="#for" title="Permalink to this headline">¶</a></h2>
<p>for コマンドでワイルドカード指定する場合、マッチするファイルがないとワイルドカード指定自体が対象となってしまう</p>
</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a href="/">Home</a>:
        «&#160;&#160;<a href="hg.html">Mercurial</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="css.html">CSS</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, HDKNR.COM.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>