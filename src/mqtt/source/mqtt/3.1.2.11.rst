3.1.2.11  Variable header non normative example
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


.. image:: mqtt/fig.3.6.png



PahoでのCONNECTサンプル
#######################################

::

    102300044d5154540402003c00177061686f2f454446394644393141433943443538334145
    **--****--------**--****
        1 2 3 4 5 6 7 8 9 A
        

:ref:`Fixed Header <mqtt.3.1.1>`:

- 10 : Fixed Header "CONNECT"
- 23 : 残りの長さ 0x23 = 35 バイト (00044d5154540402003c00177061686f2f454446394644393141433943443538334145)

:ref:`Var Haeder Protocol Name <mqtt.3.1.2.1>`:

- 00 : Length MSB(0)
- 04 : Length LSB(4)
- 4d51545 : 'MQTT' 

    ::

        >>> import binascii
        >>> binascii.unhexlify('4d515454')
        'MQTT'

:ref:`Var Header Protocol Level <mqtt.3.1.2.2>`:

- 04: MQTT ver 3.1.1 は 04 


:ref:`Var Header Connect Flags <mqtt.3.1.2.3>`:

- 02:  2 ":ref:`Clean Session <mqtt.3.1.2.4>`"


:ref:`Var Header Keep Alive <mqtt.3.1.2.10>`:

- 00: Keep Alive MSB
- 3c: Keep Alive LSB        (60秒)



:ref:`Payload <mqtt.3.1.3>`:

::

    00177061686f2f454446394644393141433943443538334145

- 0017 : :term:`ClientId` データ長 23バイト (7061686f2f454446394644393141433943443538334145)


    ::

        >>> binascii.unhexlify('7061686f2f454446394644393141433943443538334145')
        'paho/EDF9FD91AC9CD583AE'

    
