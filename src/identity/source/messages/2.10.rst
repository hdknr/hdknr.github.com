.. _messages.request_uri:

2.10.  Using the "request_uri" Parameter
--------------------------------------------

The :term:`request_uri` parameter enables OpenID Connect requests to be passed by reference, 
rather than by value. 
This parameter is used identically to the request parameter, 
other than that the Request Object value is retrieved from the resource at the specified URL, 
rather than passed by value.

The :term:`request_uri_parameter_supported` Discovery result indicates 
whether the OP supports this parameter. 
Should an OP not support this parameter and an RP uses it, 
the OP MUST return the :term:`request_uri_not_supported` error.

When the :term:`request_uri` parameter is used, 
the OpenID Connect request parameter values contained in the referenced JWT supersede those passed 
using the OAuth 2.0 request syntax. 
However, 
some parameters MAY be passed using the OAuth 2.0 request syntax even when a request_uri is used; 
this would typically be done to enable a cached, pre-signed (and possibly pre-encrypted) Request Object value 
to be used containing the fixed request parameters, 
while parameters that may vary with each request, such as state and nonce, are passed as OAuth 2.0 parameters.

Even if a scope parameter is present in the referenced Request Object, a scope parameter MUST always be passed using the OAuth 2.0 request syntax containing the openid scope value to indicate to the underlying OAuth 2.0 logic that this is an OpenID Connect request.

Servers MAY cache the contents of the resources referenced by request URIs. If the contents of the referenced resource could ever change, the URI SHOULD include the base64url encoded SHA-256 hash of the referenced resource contents as the fragment component of the URI. If the fragment value used for a URI changes, that signals the server that any cached value for that URI with the old fragment value is no longer valid.

Note that Clients MAY pre-register request_uri values 
using the request_uris parameter defined 
in Section 2 of the OpenID Connect Dynamic Client Registration 1.0 [OpenID.Registration] specification.

( draft 18, http://openid.bitbucket.org/openid-connect-messages-1_0.html#RequestUriParameter )
