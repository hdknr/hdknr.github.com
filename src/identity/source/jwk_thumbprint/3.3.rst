
3.3.  Order and Representation of Members in Hash Input
------------------------------------------------------------------------

The REQUIRED members in the input to the hash function 
are ordered lexicographically by the Unicode code points 
of the member names.

Characters in member names and member values 
MUST be represented without being escaped.  

This means that thumbprints of JWKs that require such characters 
are not defined by this specification.  
(This is not expected to limit the applicability of this specification, 
in practice, 
as the REQUIRED members of JWK representations 
are not expected to use any of these characters.)  

The characters specified as requiring escaping 
by Section 7 of [RFC7159] are quotation mark,
reverse solidus (a.k.a. backslash), 
and the control characters U+0000 through U+001F.

If the JWK key type uses members whose values 
are themselves JSON objects 
(as of the time of this writing, none are defined that do),
the members of those objects must likewise be lexicographically ordered.

.. note::
    - kty がJSONオブジェクトの場合の考慮

If the JWK key type uses members 
whose values are JSON numbers 
(as of the time of this writing, none are defined that do), 
if the numbers are integers, 
they MUST be represented as a JSON number as defined in Section 6 of [RFC7159] 
without including a fraction part or exponent part.  

For instance, 
the value "1.024e3" MUST be represented as "1024".  

This means that thumbprints of JWKs 
that use numbers that are not integers are not defined by this specification.  

Also, 
as noted in The I-JSON Message Format [I-D.ietf-json-i-json],
implementations cannot expect an integer whose absolute value is
greater than 9007199254740991 
(i.e., that is outside the range [-(2**53)+1, (2**53)-1]) 
to be treated as an exact value.

See :ref:`Section 5 <jwk_thumbprint.5>` for a discussion of further practical considerations
pertaining to the representation of the hash input.

(draft01)
