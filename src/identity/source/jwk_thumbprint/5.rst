5.  Practical JSON and Unicode Considerations
======================================================================

Implementations will almost certainly use functionality 
provided by the platform's JSON support, 
such as the JavaScript JSON.parse() JSON.stringify() functions, 
when parsing the JWK and emitting the JSON object used as the hash input.  

As a practical consideration,
future JWK member names should be avoided for which different
platforms or libraries might emit different representations.  

As of the time of this writing, 
currently all defined JWK member names use only printable ASCII characters, 
which should not exhibit this problem.  

Note however, 
that JSON.stringify() cannot be counted on to lexicographically sort 
the members of JSON objects, 
so while it may be able to be used to emit some kinds of member values, 
different code is likely to be needed to perform the sorting.



In particular, 
while the operation of lexicographically ordering member names 
by their Unicode code points is well defined, 
different platform sort functions may produce different results 
for non-ASCII characters, 
in ways that may not be obvious to developers.  

If writers of future specifications defining new JWK Key Type values
choose to restrict themselves to ASCII member names 
(which are for machine and not human consumption anyway), 
some future interoperability problems might be avoided.


Use of escaped characters in the input JWK representation 
should be avoided.


While there is a natural representation to use for numeric values
that are integers, 
this specification doesn't attempt to define a standard representation 
for numbers that are not integers or that contain an exponent component.  

This is not expected to be a problem in practice, 
as the REQUIRED members of JWK representations are not
expected to use numbers that are not integers.

Use of number representations containing fraction 
or exponent parts in the input JWK representation should be avoided.


All of these practical considerations are really an instance of Jon
Postel's principle: "Be liberal in what you accept, 
and conservative in what you send."

(draft01)
