2.1.5.  Authorization Code (Web Server) Flow
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Web server Clients can use the OAuth 2.0 :term:`Authorization Code flow` 
by including :term:`code` and :term:`id_token` in the :term:`response_type` parameter 
of the :term:`authorization request` to obtain an :term:`ID Token`. 

The :term:`ID Token` is returned along with the :term:`Access Token` 
after the Client submits the Authorization Code to the Access Token Endpoint.

    1.  The User-Agent makes an authorization request to the Authorization Endpoint.
    2.  The Authorization Server authenticates the End-User.
    3.  The Authorization Server returns an Authorization Code.
    4.  The Client sends Authorization Code to the Token Endpoint.
    5.  The Authorization Server verifies the authorization token and returns an access and ID Token.
    6.  The User-Agent and Client servlet can then use the session management endpoints by presenting the ID Token to the endpoints.

::

    
                                     +----------------------------------+
    +----------+                     |                                  |
    |          |                     |      +----------------------+    |
    |          |                     |      |    Authorization     |    |
    |          |                     |      |         server       |    |
    |User-Agent|                     |      +----------------------+    |
    |          |                     |      |   +---------------+  |    |
    |          |>-----(1)------------|------|-->| Authorization |  |    |
    |          |<-----(3)------------|------|--<| Endpoint (2)  |  |    |
    +----------+                     |      |   +---------------+  |    |
        ^                 +----------|------|-->| Access Token  |  |    |
        |                 | +--------|------|--<| Endpoint      |  |    |
        |                 | |        |      |   +---------------+  |    |
        v                 | |        |      |   | Session       |  |    |
    +----------+          | |        |      |   | Management    |  |    |
    |          |          | |        |      |   | Endpoints     |  +    |
    |Client    |>-----(4)-+ |        |      |   +---------------+  |    |
    |Servlet   |<-----(5)---+        |      +----------------------+    |
    |          |                     |                                  |
    |          |                     |      +----------------------+    |
    |          |                     |      |                      |    |
    |          |                     |      | UserInfo Endpoint    |    |
    |          |>--------------------|----->|                      |    |
    |          |<--------------------|-----<|                      |    |
    +----------+                     |      +----------------------+    |
                                     |                                  |
                                     |                                  |
                                     +----------------------------------+

(Draft 05)
