.. _uma_core.create_resource_set_description:

2.4.3.1. Create Resource Set Description
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Adds a new resource set description using the PUT method, 
thereby putting it under the AM's protection.  
If the request is successful,
the AM MUST respond with a status message 
that includes an :term:`ETag` header and **_id** and **_rev** properties 
for managing resource set description versioning.

Form of a "create resource set description" HTTP request:

::

   PUT /resource_set/{rsid} HTTP/1.1
   Content-Type: application/uma-resource-set+json
   ...

   (body contains JSON resource set description to be created)


Form of a successful HTTP response:

::

   HTTP/1.1 201 Created
   Content-Type: application/uma-status+json
   ETag: (matches "_rev" property in returned object)
   ...

   {
     "status": "created",
     "_id": (id of created resource set),
     "_rev": (ETag of created resource set)
   }

On successful registration, 
the AM MAY return a :term:`redirect policy URI`
to the host in a property with the name "policy_uri".  
This URI allows the host to redirect the user to a specific user interface
within the AM where the user can immediately set or modify access policies 
for the resource set that was just registered.

Form of a successful HTTP response:

::

   HTTP/1.1 201 Created
   Content-Type: application/uma-status+json
   ETag: (matches "_rev" property in returned object)
   ...

   {
     "status": "created",
     "_id": (id of created resource set),
     "_rev": (ETag of created resource set)
     "policy_uri":"http://am.example.com/host/222/resource/333/policy"
   }

(draft 05)
