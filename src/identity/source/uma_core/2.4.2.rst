2.4.2. Resource Set Descriptions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The host defines a resource set that needs protection 
by registering a resource set description at the AM.  
The host registers the description and manages its lifecycle at the AM's host resource set
registration endpoint by using the resource set registration API, 
as defined in Section 2.4.3.

A resource set description is a JSON document with the following
properties and a Content-Type of **application/uma-resource-set+json:**


.. glossary::

   name  

      REQUIRED.  

      A human-readable string describing a set of one or more resources.  
      The AM SHOULD use the name in its user interface to assist the user 
      in setting policies for protecting this
      resource set.

      .. note::

            - 「三井住友銀号:総合口座」とか

   icon_uri  

      OPTIONAL.  

      A URI for a graphic icon representing the
      resource set.  If provided, the AM SHOULD use the referenced icon
      in its user interface to assist the user in setting policies for
      protecting this resource set.

   scopes  

      REQUIRED.  

      An array providing the URI references of :ref:`scope descriptions` 
      that are available for this resource set.  

      The AM SHOULD use the scope names and any icons defined as part of the
      referenced scopes in its user interface to assist the user in
      setting policies for protecting this resource set.

      .. note::
            - 「三井住友銀行:普通預金口座」、「三井住友銀行:お客様情報」、、、、、

For example, this description characterizes a resource set (a photo
album) that can potentially be only viewed, or alternatively to which
full access can be granted; the URIs point to scope descriptions as
defined in :ref:`Section 2.4.1 <uma_core.2.4.1>`:

.. code-block:: javascript

   {
     "name": "Photo Album",
     "icon_uri": "http://www.example.com/icons/flower.png",
     "scopes": [
       "http://photoz.example.com/dev/scopes/view",
       "http://photoz.example.com/dev/scopes/all"
     ]
   }

Resource set descriptions MAY contain extension properties that are
not defined in this specification.  Extension names that are
unprotected from collisions are outside the scope of the current
specification.

When a host creates or updates a resource set description 
(see :ref:`Section 2.4.3 <uma_core.2.4.3>`), 
the AM MUST attempt to retrieve the referenced scope
descriptions.  It MAY cache such descriptions as long as indicated in
the HTTP cache-control header for the scope description resource
unless the resource set description is subsequently updated within
the validity period.  At the beginning of an authorizing user's login
session at the AM, the AM MUST attempt to re-retrieve scope
descriptions applying to that user whose cached versions have
expired.

(draft 05)


.. note:: 

    - For Connect Aggreated Claims, 
      following additional claims may be provided 
      for the AM to fetch resources in charge of the resource owner.

        - refresh_token(required)
        - access_token(potional)
        - token endpoint
        - resource endpoint

    - And, if aother API call is lengthy, following claims should be returned for
      the :ref:`client authentication <oauth.client_authentication>` to 
      the token endpoint. 

        - client identfiier
        - client secret

    - Tokens' scope MUST be any in scopes of this resource set description.

