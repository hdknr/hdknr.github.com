:orphan:

3.4. Client Asks Authorization Server for RPT and Authorization Data
------------------------------------------------------------------------------

A client making an access attempt accompanied by no RPT 
or by an invalid RPT will receive a 401 response back from the resource server, 
along with the authorization server's location from which it can learn the RPT endpoint.  

In this case, 
the client must obtain a valid RPT from the authorization server's RPT endpoint 
provided in the response (see :ref:`Section 3.4.2 <uma_core.3.4.2>`).

A client making an access attempt with a valid RPT 
that has insufficient :term:`authorization data` 
associated with it will receive a 403 response back 
from the resource server, 
along with a :term:`permission ticket` and the authorization server's location 
from which it can learn the permission request endpoint.  

In this case, 
the client uses the :term:`permission ticket` 
to ask for the necessary :term:`authorization data` to be associated with its RPT.  

This process necessarily involves the requesting party 
because the authorization is sought on this party's behalf.

The client takes action in the following ways 
(assuming that it has discovered the authorization server's configuration data and
endpoints as required):

   -  The client and authorization server establish mutual trust through
      the issuance of :term:`client credentials` to the client.  

      It is OPTIONAL for the client credentials to be provided dynamically through
      :term:`[DynClientReg]` ); alternatively, they MAY use a static process.

      (RPになるということ)

   -  The requesting party, client, and authorization server establish
      three-way trust through the issuance of an AAT.  

      See :ref:`Section 3.4.1 <uma_core.3.4.1>` for additional details.

      (AATを取得)

   -  The client obtains an RPT.  

      See :ref:`Section 3.4.2 <uma_core.3.4.2>` for additional details.

      (RPTを取得)

( draft 06 : http://tools.ietf.org/html/draft-hardjono-oauth-umacore-06#section-3.4 )
