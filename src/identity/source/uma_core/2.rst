2.  Protecting a Resource
================================================

:term:`Phase 1` of UMA is protecting a resource.  
The :term:`user`, :term:`host`, and :term:`AM` perform the following steps in order to successfully complete :term:`Phase 1`:

   1.  The :term:`host` 
       (having learned the general location of the relevant :term:`AM` out of band) 
       looks up the AM's configuration data and learns
       about its :term:`protection API endpoints` and supported formats.

   2.  If the :term:`host` has not yet obtained a unique OAuth :term:`client identifier`
       and optional secret from the :term:`AM`, 
       it registers with the AM as required.  
       It MAY do this using [:term:`OCDynClientReg`], if the AM supports it.

   3.  The :term:`host` obtains a :term:`host access token` from the AM 
       with the :term:`authorizing user`'s consent.

   4.  The :term:`host` registers any :term:`resource sets` 
       with the AM that are intended to be protected.  
       (This step is repeated when and as needed.)

If the :term:`host` undertakes these actions successfully, the results are as follows:

   -  The :term:`host` has received :term:`configuration data` about the AM, 
      such as endpoints it needs to use in interacting with the AM.

   -  The :term:`host` has received an OAuth :term:`host access token` 
      that represents this authorizing user's approval for the :term:`host` 
      to work with the AM in protecting resources.

   -  The :term:`AM` has acquired information about :term:`resource sets` at this :term:`host`
      that it is supposed to protect on behalf of this :term:`authorizing user`.

(draft 03)
