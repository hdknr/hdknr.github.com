12.  Message Sequences and Retrieval
============================================

:term:`Backplane Clients` may wish to retrieve a subset of all the messages 
they have access to, 
such as belonging to certain :term:`Buses` or :term:`Channels`, 
having a certain type, source, or other attributes such as sticky.

A :term:`Message Sequence` is the subset of the entire stream of :term:`Backplane Messages` 
that match a filter criteria, 
in the same order as they have been received by a Backplane server.

The :ref:`token (Access Token Request) <backplane.13.1>` endpoint is used 
to obtain an access token tailored to the filter criteria 
desired by the client. 
The access token is used at :ref:`the Get Messages (Get Messages) <backplane.13.2>` endpoint 
to retrieve the messages in the current buffer 
that belong to the associated :term:`Message Sequence`.

The :term:`Message Identifier` of the last :term:`Backplane Message` 
in a retrieved batch of messages is returned as the value of the ":term:`since`" query parameter 
of the :term:`nextURL` response field, 
such that the :term:`nextURL` value will point to the messages that will immediately follow 
in the buffer and will not retrieve any of the messages that were already retrieved.

If a :term:`Message Identifier` points to a message that is no longer in the buffer, 
the associated filter criteria is evaluated against the entire current buffer.

(draft 08)
