3.1.1.1.  Template Syntax
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This specification defines a simple template syntax for URI
transformation.  A template is a string containing brace-enclosed
("{}") variable names marking the parts of the string that are to be
substituted by the corresponding variable values.

Before substituting template variables, values MUST be encoded using
UTF-8, and any character other than unreserved (as defined by
[RFC3986]) MUST be percent-encoded per [RFC3986].

This specification defines a single variable -- "uri" -- as the
entire context resource URI.  Protocols MAY define additional
relation-specific variables and syntax rules, but SHOULD only do so
for protocol-specific relation types, and MUST NOT change the meaning
of the "uri" variable.  If a client is unable to successfully process
a template (e.g., unknown variable names, unknown or incompatible
syntax), the parent "Link" element SHOULD be ignored.

The template syntax ABNF follows:

::

 URI-Template =  *( uri-char / variable )
 variable     =  "{" var-name "}"
 uri-char     =  ( reserved / unreserved / pct-encoded )
 var-name     =  %x75.72.69 / ( 1*var-char ) ; "uri" or other names
 var-char     =  ALPHA / DIGIT / "." / "_"

For example:

::

 Input:    http://example.com/r?f=1
 Template: http://example.org/?q={uri}
 Output:   http://example.org/?q=http%3A%2F%2Fexample.com%2Fr%3Ff%3D1

