5.3. The Web Host Metadata "rel" Parameter
----------------------------------------------------------------


WebFinger also defines the "**rel**" parameter for use 
when querying for :term:`host metadata`.  
It is used to return a subset of the information 
that would otherwise be returned without the "rel" parameter.  

When the "**rel**" parameter is used, 
only the :term:`link relations` that match the **space-separated list** of :term:`link relations` 
provided via "**rel**" are included in the list of links returned in the resource descriptor.
All other information normally present in a resource descriptor is
present in the resource descriptor, even when "rel" is employed.

The purpose of the "**rel**" parameter is to return a subset of resource's link relations.  
It is not intended to reduce the work required of a server to produce a response.  
That said, use of the parameter might reduce processing requirements 
on either the client or server, 
and it might also reduce the bandwidth required to convey the partial resource descriptor, 
especially if there are numerous link relation values to convey for a given resource.

Support for the "**rel**" parameter is OPTIONAL, 
but support is RECOMMENDED for both the :term:`host-meta` resource and the :term:`LRDD` resource.

For illustrative purposes, 
the following is an example usage of the "**rel**" parameter 
that aligns with the example in Section 1.1.1 of RFC 6415.  
The WebFinger client would issue this request to receive links
that are of the type "hub" and "copyright":

::

     GET /.well-known/host-meta.json?resource=\
           http%3A%2F%2Fexample.com%2Fxy&rel=hub%20copyright HTTP/1.1
     Host: example.com

The WebFinger server would reply with this response:

::

     HTTP/1.1 200 OK
     Access-Control-Allow-Origin: *
     Content-Type: application/json; charset=UTF-8

     {
       "subject" : "http://example.com/xy",
       "properties" :
       {
         "http://spec.example.net/color" : "red"
       },
       "links" :
       [
         {
           "rel" : "hub",
           "href" : "http://example.com/hub"
         },
         {
           "rel" : "hub",
           "href" : "http://example.com/another/hub"
         }
       ]
     }

Note that in this example, 
the "author" links are removed, 
though all other content is present.  
Since there were no "copyright" links, none are returned.

In the event that a client requests links for link relations 
that are not defined for the specified resource, 
a resource descriptor MUST be returned, void of any links.  
When a JRD is returned, the "links" array MAY be either absent or empty.  
The server **MUST NOT** return a **404** status code 
when a particular link relation specified via "rel" is not defined for the resource, 
as a 404 status code is reserved for indicating that the resource itself 
(e.g., as indicated via the "resource" parameter) does not exist.

(Internet Draft 06)
