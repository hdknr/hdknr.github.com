4.2. Retrieving a Person's Contact Information
------------------------------------------------------------

Assume you have Alice in your address book, 
but her phone number appears to be invalid.  
You could use WebFinger to find her current phone number 
and update your address book.

Let's assume you have a web-based address book 
that you wish to update.  
When you instruct the address book 
to pull Alice's current contact information, 
the address book might issue a query like this 
to get :term:`host metadata` information for example.com:

::

     GET /.well-known/host-meta.json HTTP/1.1
     Host: example.com

Note the address book is looking for a JSON [5] representation,
whereas we used XML in the previous example.

The server might reply with something like this:

::

     HTTP/1.1 200 OK
     Access-Control-Allow-Origin: *
     Content-Type: application/json; charset=UTF-8

     {
       "links" :
       [
         {
           "rel" : "lrdd",
           "type" : "application/json",
           "template" :
             "https://example.com/lrdd/?format=json&uri={uri}"
         }
       ]
     }

The client processes the response as described in :rfc:`6415` [10].  
It will process the LRDD link relation using Alice's account URI by issuing this query:

::

     GET /lrdd/?format=json&uri=acct%3Aalice%40example.com HTTP/1.1
     Host: example.com

The server might return a response like this:

::

     HTTP/1.1 200 OK
     Access-Control-Allow-Origin: *

     Content-Type: application/json; charset=UTF-8

     {
       "expires" : "2012-03-13T20:56:11Z",
       "subject" : "acct:alice@example.com",
       "links" :
       [
         {
           "rel" : "http://webfinger.net/rel/avatar",
           "href" : "http://example.com/~alice/alice.jpg"
         },
         {
           "rel" : "vcard",
           "href" : "http://example.com/~alice/alice.vcf"
         }
       ]
     }

With this response, 
the address book might see the vcard [17] link
relation and use that file to offer you updated contact information.

(Internet Draft 06)

