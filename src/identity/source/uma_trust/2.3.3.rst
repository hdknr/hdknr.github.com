2.3.3. The Trust Relationships Between the Host Operator and AM Operator That Govern the Protection API
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This is the set of trust relationships that allow the protection outsourcing to take place. 
The host operator and AM operator have two contexts for dealing with each other: 
one is specific to the authorizing user (the same two operators could participate in protection for different users) 
and the other is specific to the requesting party 
(the same two operators could be protecting the same resource 
on behalf of the same user but fielding requests from different requesting parties).

(A number of pairwise agreements between these parties may have been made outside of UMA interactions; 
see The Role of Private Agreements for further discussion.)

.. image:: uma_trust/H-AM.png

.. list-table::

    *   - TR  
        - Who relies on whom?     
        - Expected behavior of the responsible party  
        - When is TR formed?  
        - Comments

    *   - H⇾AM(r)     
        - Host operator relies on AM operator     
        - To provide accurate requester token status information, including active permissions.   
        - In UMA phase 2, when the host requests and the AM provides the requester token status.   
        - 

    *   - H⇾AM(u)     
        - Host operator relies on AM operator     
        - To represent the user’s constraints accurately in demanding claims and in issuing permissions.  
        - In UMA phase 2, when the host registers the permission being sought by a requesting party at the AM.    
        - Subsequently, when the requester approaches the AM seeking that permission, the AM matches user policies to the permission in driving any requests for claims.

    *   - AM⇾H(r)     
        - AM operator relies on host operator     
        - To respect the status of permissions granted by the AM operator.    
        - In UMA phase 2, when the host requests and the AM provides the requester token status.  
        - Currently the AM operator must literally trust the host operator to "do the right thing"; we have an open issue considering how to allow the AM to track expected host behavior for non-repudiation. 

