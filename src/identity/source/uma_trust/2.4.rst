2.4. The Role of Private Agreements
-----------------------------------------------------------------

Whenever a person uses a website or web application, typically some contractual agreement is in force between them, such as a Terms of Service (TOS) contract that the user accepts (passively or actively) through using the site, and possibly also other mutual and/or custom agreements. Regardless of whether any services being offered by various operators are UMA-compliant or not, we can assume that some explicit or implicit terms of service/usage exist between pairs of parties that interact online, as illustrated in the following diagram.


.. image:: uma_trust/private-agreements.png

For the purposes of this document, assume that technical UMA-protocol compliance is built into this pairwise level of TOS. This way, we can put aside simple technical expectations among the parties (for example, whether a host endpoint can rely on an AM endpoint to present a properly functioning protection API), and concentrate instead of expectations that rise to the level of "baseline business expectations." The following is a summary of the major "out-of-band" trust relationships:

.. list-table::

    *   - TR  
        - Who relies on whom?     
        - Expected behavior of the responsible party  
        - When is TR formed?  
        - Comments

    *   - U⇾H     
        - :term:`Authorizing user` relies on :term:`host operator`    
        - To host the user’s resources.   
        - Not part of UMA; prior to phase 1.  
        - These are precisely the user’s expectations around the host operator as, well, the operator of the hosting service. The nature of such services may be very different depending on the application-specific API presented by the host. This can result in a variety of user-related data or content being stored, manipulated, served out, etc.

    *   - H⇾U     
        - Host operator relies on authorizing user    
        - To adhere to the host operator’s TOS.   
        - Not part of UMA; prior to phase 1. (Typically when the user initially registers for an account at the service.)     
        - The host operator might require the user to authenticate in any of a number of ways, including through federated login.

    *   - U⇾AM    
        - Authorizing user relies on AM operator  
        - To work with host operators and requesting parties in the manner intended by UMA.   
        - Not part of UMA; prior to phase 1. (Typically when the user initially registers for an account at the service.)     
        - These are precisely the user’s expectations around the AM operator as, well, the operator of an authorization management service.

    *   - AM⇾U    
        - AM operator relies on authorizing user  
        - To adhere to the AM operator’s TOS.     
        - Not part of UMA; prior to phase 1. (Typically when the user initially registers for an account at the service.)     
        - The AM might require the user to authenticate in any of a number of ways, including through federated login.

    *   - AM⇾H    
        - AM operator relies on host operator     
        - To adhere to the AM operator's TOS for host operators. To protect any unique OAuth client credentials given to it.  
        - Not part of UMA; prior to phase 1 or dynamically during it when the AM provisions the host with OAuth client credentials.    
        - 

    *   - AM⇾R    
        - AM operator relies on requester client app operator     
        - To adhere to the AM operator's TOS for requester client app operators. To protect any unique OAuth client credentials given to it.  
        - Not part of UMA; during phase 2 when the AM provisions the requester with OAuth client credentials.     
        - UMA defines a strict and simple profile of OAuth for this dynamic provisioning of client credentials, with no in-band method of allowing the AM to impose constraints on the requester. However, this stage may be associated with "API-wrap" TOS (akin to "browse-wrap" that binds a user who merely visits a website).

    *   - R⇾agent     
        - Requesting party relies on person acting as agent for it    
        - To adhere to any employment agreement or other contractual agreement governing that person's work for that requesting party     
        - Not part of UMA.    
        - The authorizing user's policy may specify that the requesting party prove that the request is being mediated by a legitimate agent for that party. However, the requesting party itself is the one who may impose constraints on its workforce around keeping information learned in the course of business confidential etc.

    *   - R⇾client operator   
        - Requesting party relies on third-party operator of client app software  
        - To adhere to any contractual agreement governing that operator's app or running service     
        - Not part of UMA.    
        - For example, a car dealership may contract out to use a cloud service that crawls the Web looking for personal RFPs that meet the dealership's criteria.

