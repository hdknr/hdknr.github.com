5.5.1.1.  Requesting the "acr" Claim
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::
    - RPが認証コンテキストを指定した場合
    - OPはそのうちのどれかを返す

If the :term:`acr` Claim is requested as an :term:`Essential Claim` 
for the :term:`ID Token` with a :term:`values` parameter 
requesting specific :term:`Authentication Context Class Reference` values 
and the implementation supports the :term:`claims` parameter, 
the Authorization Server MUST return an :term:`acr` Claim Value 
that matches one of the requested values. 

.. note::
    - (認証クッキーを持っていたとしても)再度認証させることもある

The Authorization Server MAY ask the End-User 
to re-authenticate with additional factors 
to meet this requirement. 

.. note::
    - ACRの条件で認証出来ない場合は OpenID Connectが negative終了

If this is an Essential Claim and the requirement cannot be met, 
then the Authorization Server MUST treat that outcome 
as a failed authentication attempt.

.. note::
    - 任意要求(Volntary)の場合

Note that the RP MAY request the :term:`acr` Claim as a Voluntary Claim 
by using the :term:`acr_values` request parameter 
or by not including **"essential": true** 
in an individual :term:`acr` Claim request. 

If the Claim is not Essential and a requested value cannot be provided, 
the Authorization Server SHOULD return the session's current :term:`acr` 
as the value of the :term:`acr` Claim. 

If the Claim is not Essential, 
the Authorization Server is not required to provide this Claim in its response.

.. note::
    - acr_values と acrの両方で指定しないようにする

If the client requests the :term:`acr` Claim using 
both the :term:`acr_values` request parameter 
and an individual :term:`acr` Claim request for the ID Token 
listing specific requested values, 
the resulting behavior is unspecified.

(draft17) 
