7.4.  Self-Issued OpenID Provider Response
--------------------------------------------------------

OpenID Connect defines the following Claim for use in Self-Issued OpenID Provider Responses:

.. glossary::

    sub_jwk
        REQUIRED. 

        Public key used to check the signature of an ID Token 
        issued by a Self-Issued OpenID Provider, 
        as specified in Section 7. 

        The key is a bare key in JWK [JWK] format
        (not an X.509 certificate value). 

The sub_jwk value is a JSON object. 
Use of the :term:`sub_jwk` Claim is NOT RECOMMENDED 
when the OP is not Self-Issued.

The Self-Issued OpenID Provider response is the same 
as the normal :term:`Implicit Flow` response 
with the following refinements. 
Since it is an Implicit Flow response, 
the response parameters will be returned in the URL fragment component, 
unless a different Response Mode was specified.

    1.  The :term:`iss` (issuer) Claim Value is https://self-issued.me.

    2.  A :term:`sub_jwk` Claim is present, 
        with its value being the public key used 
        to check the signature of the ID Token.

    3.  The sub (subject) Claim value is the base64url encoded SHA-256 hash 
        of the concatenation of the octets of the UTF-8 representations 
        of the base64url encoded key values in the sub_jwk Claim. 
        
        When the :term:`kty` value is RSA, 
        the key values n and e are concatenated in that order. 

        When the kty value is EC, 
        the key values crv, x, and y are concatenated in that order.

    4.  No Access Token is returned for accessing a UserInfo Endpoint, 
        so all Claims returned MUST be in the ID Token.

(draft17)
