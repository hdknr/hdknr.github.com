3.2.2.5.  Successful Authentication Response
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. note::
    - パラメータの返答の仕方はCodeフローと同じ
    - ただし、フラグメントに返す

When using the Implicit Flow, 
Authentication Responses are made in the same manner as 
for the Authorization Code Flow, 
as defined in :ref:`Section 3.1.2.5 <core.3.1.2.5>`, 
with the exception of the differences specified in this section.

When using the Implicit Flow, 
all response parameters are added 
to the :term:`fragment component` of the Redirection URI, 
as specified in OAuth 2.0 Multiple Response Type Encoding Practices 
[OAuth.Responses], 
unless a different Response Mode was specified.

These parameters are returned from the Authorization Endpoint:

.. glossary::

    access_token
        OAuth 2.0 Access Token. 

        This is returned unless the response_type value used is :term:`id_token`.

    token_type
        OAuth 2.0 Token Type value. 
        The value MUST be Bearer or another token_type value 
        that the Client has negotiated with the Authorization Server. 

        Clients implementing this profile MUST support 
        the :doc:`OAuth 2.0 Bearer Token Usage <oauth_bearer>` :term:`[RFC6750]` specification. 

        This profile only describes the use of bearer tokens. 

        This is returned in the same cases as access_token is.

    id_token
        REQUIRED. 

        :ref:`ID Token <id_token>`.

    state
        OAuth 2.0 :term:`state` value. 

        REQUIRED if the :term:`state` parameter is present 
        in the Authorization Request. 

        Clients MUST verify that the state value is equal 
        to the value of state parameter in the Authorization Request.

    expires_in
        OPTIONAL. 

        Expiration time of the Access Token in seconds 
        since the response was generated.

Per Section :ref:`4.2.2 of OAuth 2.0 <oauth.4.2.2>` :term:`[RFC6749]`, 
no :term:`code` result is returned when using the Implicit Flow.

The following is a non-normative example of a successful response 
using the Implicit Flow 
(with line wraps for the display purposes only):

::

  HTTP/1.1 302 Found
  Location: https://client.example.org/cb#
    access_token=SlAV32hkKG
    &token_type=bearer
    &id_token=eyJ0 ... NiJ9.eyJ1c ... I6IjIifX0.DeWt4Qu ... ZXso
    &expires_in=3600
    &state=af0ifjsldkj


(draft17)
