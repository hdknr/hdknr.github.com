=========================
bash:compete
=========================

compgen
============

::
    compgen [option] [word]


説明
-----

- option  にしたがって、word の補完マッチのリストを生成します。 
- オプションには complete 組み込みコマンドと同じものが指定できますが、 -p と -r は指定できません。 
- マッチのリストは標準出力に出力されます。 
- -F や -C オプションを使用したときは、プログラム補完機能によって設定されたさまざまなシェル変数は、 利用可能であっても有用な値を持ちません。
- マッチは、同じフラグで指定されたプログラム補完コードが 直接補完を生成するのと同じ方法で生成されます。 
- word が指定されると、word にマッチする補完だけが表示されます。
- 戻り値は、 無効なオプションが指定された場合やマッチが生成されなかった場合以外は 真になります。


complete
==========
::

    complete [-abcdefjkvu] [-o comp-option] [-A action] [-G globpat] [-W wordlist] [-P prefix] [-S suffix]
             [-X filterpat] [-F function] [-C command] name [name ...]       
    
    complete -pr [name ...]

説明
-----


name  
^^^^^^

- 引き数それぞれを、どのように補完するのかを指定します。  
- -p  オプションが指定された場合や、  何もオプションが指定されなかった場合は、既存の補完指定が(入力として再利用できるかたちで)  出力されます。  
- -r  オプションは、それぞれの   name の補完指定を削除します。 
- name が指定されなかった場合はすべての補完指定を削除します。
- 単語補完が試みられたときにこれらの補完指定に加えられる処理は、 前述の プログラム補完 で示しています。
- 他のオプションが指定されたときは、以下のような意味を持ちます。 
- -G, -W, -X オプションの引き数 (必要ならば -P と -S オプションの場合も) はクォートして、 
  comple te 組み込みコマンドが呼び出される前に展開されないようにすべきです。

-o comp-option
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

- comp-option は補完仕様の動作をいくつかの点から制御し、 単純な補完生成以外ができるようにします。 
- comp-option には以下のどれかひとつを指定できます。

    - default 補完仕様がマッチを全く生成しなかった場合に、 readline のデフォルトの補完を用います。
    - dirnames 補完仕様がマッチを全く生成しなかった場合に、 ディレクトリ名を補完しようとします。                      
    - filenames 補完仕様がファイル名を生成することをreadlineに伝え、readlineがファイル名特有の処理
      (ディレクトリ名にスラッシュを加えたり、末尾の空白を削除したり、など)を行えるようにします。
      シェル関数と共に用いることを想定しています。


-A action
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

action は補完対象リストの生成動作で、 以下のどれかひとつを指定します。

.. glossary::

    alias   
        エイリアス名。-a でも指定できます。

    arrayvar
        配列変数名。

    binding 
        readline キー割り当て名。

    builtin 
        シェル組み込みコマンド名。-b でも指定できます。

    command 
        コマンド名。-c でも指定できます。

    directory
        ディレクトリ名。-d でも指定できます。

    disabled
        無効にされているシェル組み込みコマンドの名前。

    enabled 
        有効にされているシェル組み込みコマンドの名前。

    export  
        エクスポートされたシェル変数の名前。 -e でも指定できます。

    file    
        ファイル名。-f でも指定できます。

    function
        シェル関数の名前。

    helptopic
        help 組み込みコマンドで許可されたヘルプトピック。

    hostname
        HOSTFILE シェル変数で指定されたファイルから得られたホスト名。

    job     
        ジョブ制御が有効であれば、ジョブ名。-j でも指定できます。

    keyword 
        シェルの予約語。-k でも指定できます。

    running 
        ジョブ制御が有効であれば、実行中のジョブ名。

    setopt  
        set 組み込みコマンドの -o オプションで有効な引き数。

    shopt   
        shopt 組み込みコマンドで許可されたシェルオプション名。

    signal  
        シグナル名。

    stopped 
        ジョブ制御が有効であれば、停止しているジョブ名。

    user    
        ユーザ名。-u でも指定できます。

    variable
        すべてのシェル変数名。-v でも指定できます。


-G globpat
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

- ファイル名展開パターン globpat が展開されて補完対象のリストを生成します。

-W wordlist
^^^^^^^^^^^^^^^^^^^^^

- wordlist は IFS 特殊変数を区切り文字として分割され、 それぞれの分割された単語は展開されます。 
- 補完対象は、展開結果のリストのメンバのうち、 補完中の単語がマッチするものです。

-C command
^^^^^^^^^^^^^^^^^^^^^

- command がサブシェル環境で実行され、 その出力が補完対象として使用されます。

-F function
^^^^^^^^^^^^^^^^^^^^^

- シェル関数 function は現在のシェル環境で実行されます。 
- 関数が終了したときに、補完対象が **COMPREPLY** 配列変数から取得されます。

-X filterpat
^^^^^^^^^^^^^^^^^^^^^
 
- filterpat  はファイル名展開として使用されるパターンです。  
- 先行するオプション・引き数によって生成された補完対象リストに適用され、  filterpat  とマッチするそれぞれの補完がリストから削除されます。  
- filterpat   の前に   !  を置くとパターンを否定します。 この場合、filterpat にマッチしない補完が削除されます。

-P prefix
^^^^^^^^^^^^^^^^^^^^^
              
- 他のすべてのオプションが作用したあとに、 prefix がそれぞれの補完対象の先頭に追加されます。

-S suffix
^^^^^^^^^^^^^^^^^^^^^

- 他のすべてのオプションが作用したあとに、 prefix がそれぞれの補完対象の末尾に追加されます。

不正オプション
---------------------

不正なオプションが指定された場合、-p と -r 以外のオプションで name が指定されなかった場合、 存在しない name の指定によって補完が削除されようとした場合、 補完
の指定の追加に失敗した場合、を除いては、返り値は真になります。

