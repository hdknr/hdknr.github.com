======
tmux
======

.. contents:: 
    :local:

凡例
=====

.. list-table:: 

    *   - ec 
        - Escape Character とします。デフォルト b 

    *   - ec-c
        - Escape Characterに続いて c を入力するとします。

コンポーネント
==============

Server
-------

- Client, Session, Window, Paneを管理する

Client
-------

- Sessionにアタッチされる

    - new-session
    - attach-session

Session
--------

- 複数のWindowを管理します

Window
-------

- Sessionに管理されます
- 複数のPaneで構成されます

Pane
-----

- Pane = 疑似ターミナル です


コマンド : Client & Session
===============================

attach-session
------------------

detach-client
------------------

has-session
------------------

kill-server     
------------------

kill-session
------------------

list-clients 
------------------

list-commands
------------------

list-sessions
------------------

lock-client 
------------------

lock-session 
------------------

new-session
------------------

refresh-client
------------------

rename-session
------------------

show-messages 
------------------

source-file
------------------

start-server
------------------

suspend-client 
------------------

switch-client
------------------



コマンド : Window & Pane
===============================

break-pane
-----------------------------------------


capture-pane
-----------------------------------------


choose-client
-----------------------------------------


choose-list
-----------------------------------------


choose-session
-----------------------------------------


choose-tree
-----------------------------------------


choose-window
-----------------------------------------


display-panes
-----------------------------------------


find-window
-----------------------------------------


join-pane
-----------------------------------------


kill-pane
-----------------------------------------


kill-window
-----------------------------------------


last-pane
-----------------------------------------


last-window
-----------------------------------------


link-window
-----------------------------------------


list-panes
-----------------------------------------


list-windows
-----------------------------------------


move-pane
-----------------------------------------


move-window
-----------------------------------------


new-window
-----------------------------------------


next-layout
-----------------------------------------


next-window
-----------------------------------------


pipe-pane
-----------------------------------------


previous-layout
-----------------------------------------


previous-window
-----------------------------------------


rename-window
-----------------------------------------


resize-pane
-----------------------------------------


respawn-pane
-----------------------------------------


respawn-window
-----------------------------------------


rotate-window
-----------------------------------------


select-layout
-----------------------------------------


select-pane
-----------------------------------------


select-window
-----------------------------------------


split-window
-----------------------------------------


swap-pane
-----------------------------------------


swap-window
-----------------------------------------


unlink-window
-----------------------------------------


コマンド:キーバインド
========================

bind-key
--------------------


list-keys
--------------------


send-keys
--------------------


send-prefix
--------------------


unbind-key
--------------------



いろいろ
=============

Pane
------

現在のウィンドウを別のウィンドウのペイントして追加::


    :join-pane -t 3 

デフォルトで上下分割なので、左右分割にするには::

    :select-layout even-horizontal 
    

ペイン間を移動します ::

    ec-o

現在のウィンドウのペインを解除します。::

    ec-!

別のウインドウを現在のウィンドウのペインに追加::

    :join-pane -s 5

ペインの左右をスワップする ::

    ec-}

プレフィックスキー
====================

現在のプレフィックスキーはなんだ？
-----------------------------------

オプション一覧から

.. code-block:: bash

    $ tmux show-options  -g | grep prefix

    prefix C-a
    prefix2 none

あるいは、キーバインドの一覧から


.. code-block:: bash

    $ tmux list-keys |  grep prefix

    bind-key          a send-prefix

２つのキーを併用できる？
--------------------------------------------

C-aとC-bを併用

.. code-block:: bash

    set-option -g prefix C-a
    set-option -g prefix2 C-b

tmux起動後(起動前)に変更する
-----------------------------------

- デフォルトのC-bをC-tに変更する。
- ローカルtmuxのセッション中で、sshでログインしたリモートサーバーでもtmuxセッションをネストさせてしまったら、
  コマンドラインで変更できる。

.. code-block:: bash

    $ tmux unbind-key C-b
    $ tmux set-option -g prefix C-t 
    $ tmux bind-key C-t send-prefix


